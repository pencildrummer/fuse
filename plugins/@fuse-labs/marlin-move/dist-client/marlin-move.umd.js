var F=Object.defineProperty,$=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var j=(t,r,n)=>r in t?F(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,C=(t,r)=>{for(var n in r||(r={}))N.call(r,n)&&j(t,n,r[n]);if(b)for(var n of b(r))O.call(r,n)&&j(t,n,r[n]);return t},T=(t,r)=>$(t,H(r));var S=(t,r)=>{var n={};for(var f in t)N.call(t,f)&&r.indexOf(f)<0&&(n[f]=t[f]);if(t!=null&&b)for(var f of b(t))r.indexOf(f)<0&&O.call(t,f)&&(n[f]=t[f]);return n};(function(t,r){typeof exports=="object"&&typeof module!="undefined"?r(exports,require("@radix-ui/react-icons"),require("@fuse-labs/core-ui"),require("react"),require("@fuse-labs/core-client")):typeof define=="function"&&define.amd?define(["exports","@radix-ui/react-icons","@fuse-labs/core-ui","react","@fuse-labs/core-client"],r):(t=typeof globalThis!="undefined"?globalThis:t||self,r(t["@fuse-labs/marlin-move"]={},t.reactIcons,t.coreUi,t.React,t.coreClient))})(this,function(t,r,n,f,M){"use strict";function I(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var R=I(f),x={exports:{}},g={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function B(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function Y(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var s=Object.getOwnPropertyNames(a).map(function(u){return a[u]});if(s.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(u){d[u]=u}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Y();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D=R.default,_=60103;if(g.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;_=w("react.element"),g.Fragment=w("react.fragment")}var G=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X=Object.prototype.hasOwnProperty,Z={key:!0,ref:!0,__self:!0,__source:!0};function k(l,a,o){var s,d={},u=null,m=null;o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),a.ref!==void 0&&(m=a.ref);for(s in a)X.call(a,s)&&!Z.hasOwnProperty(s)&&(d[s]=a[s]);if(l&&l.defaultProps)for(s in a=l.defaultProps,a)d[s]===void 0&&(d[s]=a[s]);return{$$typeof:_,type:l,key:u,ref:m,props:d,_owner:G.current}}g.jsx=k,g.jsxs=k,x.exports=g;const e=x.exports.jsx,c=x.exports.jsxs;function q(){return e(n.Widget,{title:"Movement",version:"0.1",children:c("div",{className:"flex flex-col items-stretch space-y-1",children:[c("div",{className:"flex flex-row items-center justify-between text-sm",children:[e("span",{className:"font-medium",children:"Feedrate"}),e("span",{className:"font-mono text-xs",children:"100%"})]}),c("div",{className:"flex flex-row space-x-2",children:[e(n.Slider,{defaultValue:[50],max:100,step:.1,className:"flex-1"}),e(n.Button,{squared:!0,children:e(r.ReloadIcon,{})})]})]})})}function v(a){var l=S(a,[]);return e(n.Button,T(C({squared:!0},l),{children:l.children}))}function A(){const{device:l}=M.useDeviceContext(),[a,o]=f.useState(!0),[s,d]=f.useState("1");function u(){l.terminal.connect(i=>{console.log("Connected",i),o(!i)})}function m(i){if(isNaN(s))return console.error("Distance is not a number",s);s.toString().replace(",","."),l.terminal.sendMessage("G91");let p=["G0"];switch(i){case"incX":p.push(`X${s}`);break;case"decX":p.push(`X-${s}`);break;case"incY":p.push(`Y${s}`);break;case"decY":p.push(`Y-${s}`);break;case"incZ":p.push(`Z${s}`);break;case"decZ":p.push(`Z-${s}`);break;default:return console.error("Unsupported direction:",i)}let W=p.join(" ");l.terminal.sendMessage(W)}function h(i){let p="G28 R10";switch(i){case"x":p+=" X";break;case"y":p+=" Y";break;case"z":p+=" Z";break}l.terminal.sendMessage(p)}return c(n.Widget,{title:"Manual position",version:"0.1",children:[c("div",{children:["To be removed, just to test device connection and move",e(n.Button,{onClick:u,children:"Connect"})]}),c("div",{className:"flex flex-row space-x-6",children:[c("div",{className:"grid grid-cols-3 grid-rows-3 gap-2",children:[e("div",{}),e("div",{children:e(v,{onClick:i=>m("decY"),disabled:a,children:e(r.ThickArrowUpIcon,{})})}),e("div",{}),e("div",{children:e(v,{onClick:i=>m("decX"),disabled:a,children:e(r.ThickArrowLeftIcon,{})})}),e("div",{children:c("div",{className:"relative w-full h-full text-[10px] font-mono",children:[e("span",{className:"absolute top-1/2 left-1/2 translate-x-[-8px] translate-y-[-12px]",children:"X"}),e("span",{className:"absolute top-1/2 left-1/2 translate-x-[-1px] translate-y-[-8px]",children:"/"}),e("span",{className:"absolute top-1/2 left-1/2 translate-x-[5px] translate-y-[-3px]",children:"Y"})]})}),e("div",{children:e(v,{onClick:i=>m("incX"),disabled:a,children:e(r.ThickArrowRightIcon,{})})}),e("div",{}),e("div",{children:e(v,{onClick:i=>m("incY"),disabled:a,children:e(r.ThickArrowDownIcon,{})})}),e("div",{})]}),c("div",{className:"grid grid-cols-1 grid-rows-3 gap-2",children:[e("div",{children:e(v,{disabled:a,onClick:i=>m("incZ"),children:e(r.ThickArrowUpIcon,{})})}),e("div",{children:e("div",{className:"relative w-full h-full text-[10px] font-mono",children:e("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:"Z"})})}),e("div",{children:e(v,{disabled:a,onClick:i=>m("decZ"),children:e(r.ThickArrowDownIcon,{})})})]})]}),e("div",{children:c(n.ToggleGroup,{type:"single",value:s,onValueChange:i=>d(i),children:[e(n.ToggleGroup.Item,{value:"0.1",children:"0.1"}),e(n.ToggleGroup.Item,{value:"1",children:"1"}),e(n.ToggleGroup.Item,{value:"10",children:"10"}),e(n.ToggleGroup.Item,{value:"100",children:"100"})]})}),e(n.Separator,{}),c(n.Group,{children:[c(n.Button,{onClick:i=>h("x"),disabled:a,children:[e(r.HomeIcon,{className:"mr-1"}),"X"]}),c(n.Button,{onClick:i=>h("y"),disabled:a,children:[e(r.HomeIcon,{className:"mr-1"}),"Y"]}),c(n.Button,{onClick:i=>h("z"),disabled:a,children:[e(r.HomeIcon,{className:"mr-1"}),"Z"]})]}),e(n.Button,{onClick:i=>h(),disabled:a,children:e(r.HomeIcon,{})}),e(n.Separator,{}),c(n.Button,{className:"w-full",onClick:i=>l.terminal.sendMessage("M410"),children:[e(r.Cross2Icon,{className:"mr-1"})," Quick stop"]}),c(n.Button,{className:"w-full",onClick:i=>l.terminal.sendMessage("M112"),children:[e(r.ExclamationTriangleIcon,{className:"mr-1"})," Emergency stop"]})]})}t.FeedRateWidget=q,t.MoveWidget=A,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
