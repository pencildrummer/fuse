var nu=Object.defineProperty,au=Object.defineProperties;var iu=Object.getOwnPropertyDescriptors;var Tt=Object.getOwnPropertySymbols;var ha=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var ua=(m,_,Z)=>_ in m?nu(m,_,{enumerable:!0,configurable:!0,writable:!0,value:Z}):m[_]=Z,g=(m,_)=>{for(var Z in _||(_={}))ha.call(_,Z)&&ua(m,Z,_[Z]);if(Tt)for(var Z of Tt(_))fa.call(_,Z)&&ua(m,Z,_[Z]);return m},I=(m,_)=>au(m,iu(_));var P=(m,_)=>{var Z={};for(var ie in m)ha.call(m,ie)&&_.indexOf(ie)<0&&(Z[ie]=m[ie]);if(m!=null&&Tt)for(var ie of Tt(m))_.indexOf(ie)<0&&fa.call(m,ie)&&(Z[ie]=m[ie]);return Z};(function(m,_){typeof exports=="object"&&typeof module!="undefined"?_(exports,require("react"),require("classnames"),require("@radix-ui/react-toggle-group"),require("@radix-ui/react-slider"),require("@radix-ui/react-switch"),require("formik"),require("@radix-ui/react-dialog"),require("@radix-ui/react-icons"),require("@radix-ui/react-alert-dialog"),require("@radix-ui/react-label"),require("@radix-ui/react-separator"),require("@radix-ui/react-dropdown-menu"),require("@radix-ui/react-checkbox"),require("@radix-ui/react-progress"),require("@radix-ui/react-tooltip"),require("@radix-ui/react-scroll-area"),require("@radix-ui/react-popover"),require("@radix-ui/react-context-menu"),require("@fuse-labs/shared-utils"),require("yup"),require("@fuse-labs/core-client"),require("next/link"),require("@radix-ui/react-toolbar")):typeof define=="function"&&define.amd?define(["exports","react","classnames","@radix-ui/react-toggle-group","@radix-ui/react-slider","@radix-ui/react-switch","formik","@radix-ui/react-dialog","@radix-ui/react-icons","@radix-ui/react-alert-dialog","@radix-ui/react-label","@radix-ui/react-separator","@radix-ui/react-dropdown-menu","@radix-ui/react-checkbox","@radix-ui/react-progress","@radix-ui/react-tooltip","@radix-ui/react-scroll-area","@radix-ui/react-popover","@radix-ui/react-context-menu","@fuse-labs/shared-utils","yup","@fuse-labs/core-client","next/link","@radix-ui/react-toolbar"],_):(m=typeof globalThis!="undefined"?globalThis:m||self,_(m["@fuse-labs/core-ui"]={},m.React,m.classNames,m.ToggleGroupPrimitive,m.SliderPrimitive,m.SwitchPrimitive,m.formik,m.DialogPrimitive,m.icons,m.AlertDialogPrimitive,m.LabelPrimitive,m.SeparatorPrimitive,m.DropdownMenuPrimitive,m.CheckboxPrimitive,m.ProgressPrimitive,m.TooltipPrimitive,m.ScrollAreaPrimitive,m.PopoverPrimitive,m.ContextMenuPrimitive,m.sharedUtils,m.Yup,m.coreClient,m.Link,m.Toolbar))})(this,function(m,_,Z,ie,ma,pa,le,ga,L,va,$r,ya,_a,xa,ba,wa,Pa,Na,Sa,Ve,Ca,A,Ra,Ea){"use strict";function Mt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var V=Mt(_),D=G(_),C=Mt(Z),Or=G(ie),at=G(ma),Tr=G(pa),me=G(ga),be=G(L),pe=G(va),Ia=G($r),Da=G(ya),te=G(_a),Mr=G(xa),Lr=G(ba),it=G(wa),ot=G(Pa),$e=G(Na),Oe=G(Sa),ge=G(Ca),Be=Mt(Ra),$a=G(Ea),lt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},st={exports:{}},Ge={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ar=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Ta=Object.prototype.propertyIsEnumerable;function Ma(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function La(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}La();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=V.default,jr=60103;if(Ge.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var kr=Symbol.for;jr=kr("react.element"),Ge.Fragment=kr("react.fragment")}var ja=Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ka=Object.prototype.hasOwnProperty,Fa={key:!0,ref:!0,__self:!0,__source:!0};function Fr(e,t,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)ka.call(t,n)&&!Fa.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:jr,type:e,key:o,ref:l,props:i,_owner:ja.current}}Ge.jsx=Fr,Ge.jsxs=Fr,st.exports=Ge;const a=st.exports.jsx,u=st.exports.jsxs,he=st.exports.Fragment;function Lt(e){return a("div",{className:"w-full h-full flex items-center justify-center",children:e.children})}function Ha(t){var e=P(t,[]);return a("div",{className:C.default("flex flex-row items-center","dark:text-gray-500","border-b dark:border-gray-800","text-xxs uppercase","font-syncopate leading-none","pb-1.5"),children:e.children})}function za(t){var e=P(t,[]);return a("div",{className:"relative !mt-auto pt-2 h-0 flex items-center justify-end",children:u("span",{className:"font-mono text-xxs opacity-30 leading-none",children:["v. ",e.children]})})}const se=V.default.forwardRef((l,o)=>{var s=l,{title:e,version:t,full:r=!1,className:n}=s,i=P(s,["title","version","full","className"]);return u("div",I(g({ref:o},i),{className:C.default("relative","flex flex-col items-stretch justify-start",{"p-3":!r},"space-y-3","rounded-md","overflow-hidden","text-sm","text-gray-900 dark:text-gray-200","bg-gray-300 dark:bg-gray-900",n),children:[e&&a(Ha,{children:e}),i.children,t&&a(za,{children:t})]}))});se.displayName="Widget";const we=r=>{var n=r,{type:e="single"}=n,t=P(n,["type"]);return a(Or.Root,I(g({type:e},t),{className:C.default("flex flex-row justify-evenly","dark:bg-gray-800 dark:bg-opacity-60 dark:text-gray-100","rounded-md overflow-hidden","text-xs font-mono",t.className)}))},Ua=e=>a(Or.Item,I(g({},e),{className:C.default("p-1.5","flex-initial","w-full text-center","hover:bg-white hover:bg-opacity-5 transition-colors duration-150","radix-state-on:bg-blue-700",e.className)}));we.Item=Ua;var Wa={btn:"_btn_40lfp_1"};const X=V.default.forwardRef((c,s)=>{var d=c,{as:e="button",squared:t,rounded:r,className:n,size:i,mode:o="normal"}=d,l=P(d,["as","squared","rounded","className","size","mode"]);let h=e;return l.type=="submit"&&(h="button"),a(h,g({ref:s,className:C.default("inline-flex select-none items-center justify-center text-sm font-medium",Wa.btn,{"btn-xs":i=="xs","btn-sm":i=="sm"},{"btn-normal":o=="normal","btn-ghost":o=="ghost"},{squared:t,"rounded-md":!r,"rounded-full":r},"focus:outline-none focus-visible:ring-1 focus-visible:ring-blue-600 focus-visible:ring-opacity-75",{"select-none touch-none disabled":l.disabled},"dark:disabled:opacity-40 dark:disabled:bg-gray-800",n)},l))});X.displayName="Button";function qa(r){var n=r,{className:e}=n,t=P(n,["className"]);return u(at.Root,I(g({},t),{className:C.default("relative flex items-center","disabled:select-none disabled:touch-none","disabled:opacity-30 radix-disabled:opacity-30",e),children:[a(at.Track,{className:"relative w-full h-[4px] rounded-md bg-gray-500 dark:bg-gray-700",children:a(at.Range,{className:"absolute bg-gray-100 dark:bg-gray-400 rounded-full h-full"})}),a(at.Thumb,{className:"block w-4 h-4 rounded-full shadow-sm bg-gray-50 dark:bg-gray-300"})]}))}function Va(e){const[t,r,n]=le.useField(e.name),{value:i,initialValue:o,error:l,touched:s}=r,{setValue:c,setTouched:d}=n;function h(v){c(v),d(!0)}return a(ct,I(g(g({},t),e),{checked:Boolean(i),onCheckedChange:h,error:t.name&&l&&s,dirty:s&&!l&&i!=o}))}function ct(n){var i=n,{error:e,dirty:t}=i,r=P(i,["error","dirty"]);return a(Tr.Root,I(g({className:C.default("w-8 h-4 rounded-full bg-current","transition-colors duration-150","ring-2",{"ring-current":!t&&!e,"ring-offset-2 ring-offset-current ring-red-500":e,"ring-offset-2 ring-offset-current ring-yellow-500":t&&!e},"radix-state-unchecked:text-gray-50 dark:radix-state-unchecked:text-gray-700","radix-state-checked:text-blue-600","disabled:opacity-30")},r),{children:a(Tr.Thumb,{className:C.default("block w-4 h-4 rounded-full shadow-sm bg-gray-50 dark:bg-gray-300","radix-state-checked:ring-1 radix-state-checked:ring-blue-700","transition-transform duration-150","radix-state-checked:translate-x-4")})}))}function Pe(n){var i=n,{children:e,content:t}=i,r=P(i,["children","content"]);return u(Hr,I(g({},r),{children:[a(zr,{asChild:!0,children:e}),a(Ur,{className:r.className,children:t})]}))}function Hr(e){return a(me.Root,g({},e))}function zr(e){return a(me.Trigger,g({},e))}function Ur(o){var l=o,{title:e,description:t,className:r,showClose:n=!1}=l,i=P(l,["title","description","className","showClose"]);return u(me.Portal,{children:[a(me.Overlay,{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm z-40"}),a(me.Content,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50",children:u(se,{className:C.default("w-[90vw] max-h-[85vh]",r),title:u(he,{children:[e&&a(me.Title,{children:e}),n&&a(me.Close,{asChild:!0,children:a(X,{squared:!0,rounded:!0,className:"ml-auto",children:a(L.Cross2Icon,{})})})]}),children:[t&&a(me.Description,{children:t}),i.children]})})]})}Pe.Root=Hr,Pe.Trigger=zr,Pe.Content=Ur;function x(n){var i=n,{orientation:e="horizontal",className:t}=i,r=P(i,["orientation","className"]);return a("div",g({className:C.default("flex",{"flex-row space-x-2 items-center justify-between":e=="horizontal","flex-col space-y-2":e=="vertical"},t)},r))}function Ne(o){var l=o,{children:e,content:t,open:r,onOpenChange:n}=l,i=P(l,["children","content","open","onOpenChange"]);return u(Wr,{open:r,onOpenChange:n,children:[a(qr,{children:e}),a(Vr,I(g({},i),{children:t}))]})}function Wr(e){return a(pe.Root,g({},e))}function qr(e){return a(pe.Trigger,g({},e))}function Vr(l){var s=l,{title:e,description:t,confirmText:r="Confirm",onConfirm:n,className:i}=s,o=P(s,["title","description","confirmText","onConfirm","className"]);return u(pe.Portal,{children:[a(pe.Overlay,{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm"}),a(pe.Content,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u(se,{className:C.default("w-[50vw] max-h-[85vh]",i),title:e,children:[t&&a(pe.Description,{children:t}),o.children,u(x,{className:"pt-3 !justify-end",children:[a(pe.Cancel,{asChild:!0,children:a(X,{children:"Cancel"})}),a(pe.Action,{children:a(X,{onClick:n,children:r})})]})]})})]})}Ne.Root=Wr,Ne.Trigger=qr,Ne.Content=Vr;function Xe(r){var n=r,{children:e}=n,t=P(n,["children"]);return a(le.Formik,I(g({},t),{children:i=>a(le.Form,{className:t.className,children:typeof e=="function"?e(i):e})}))}function R(r){var n=r,{className:e}=n,t=P(n,["className"]);return a(Ia.Root,g({className:C.default("font-semibold","select-none cursor-default","text-gray-800 dark:text-gray-300",e)},t))}function Br(e){return a("div",I(g({},e),{className:C.default("font-semibold","select-none cursor-default","text-gray-800 dark:text-gray-400","truncate",e.className)}))}function Gr(e){return u("div",{className:C.default("font-bold","font-semibold","cursor-default","text-gray-200"),children:[e.value,e.children]})}function W(n){var i=n,{label:e,value:t}=i,r=P(i,["label","value"]);return u(x,I(g({},r),{children:[a(Br,{children:e}),a(Gr,{children:t})]}))}const k=V.default.forwardRef((r,t)=>{var e=P(r,[]);return a(Da.Root,I(g({ref:t},e),{asChild:!0,children:a("div",{className:C.default("flex-none","border-gray-500 dark:border-gray-600",{"my-2 border-b":e.orientation=="horizontal"||!e.orientation,"h-px min-w-full self-stretch":e.orientation=="horizontal"||!e.orientation,"mx-2 border-r":e.orientation=="vertical","min-h-full w-px self-stretch":e.orientation=="vertical"},e.className)})}))});k.displayName="Separator";function Ba(e){return u(te.Item,I(g({className:C.default("flex flex-row space-x-2 items-center","text-sm font-medium","py-0.5 px-1.5","w-full","rounded-sm","transition-colors duration-75","focus:outline-none border-0","cursor-default","text-gray-800 dark:text-gray-300","focus:text-gray-50 focus:bg-blue-600")},e),{children:[a("div",{className:"flex-1",children:e.children}),e.selected&&a("div",{children:a(L.CheckIcon,{className:"text-gray-800 bg-blue-600 rounded-full"})})]}))}function At(d){var h=d,{trigger:e,error:t,options:r,className:n,defaultValue:i,onChange:o,onBlur:l,onOpenChange:s}=h,c=P(h,["trigger","error","options","className","defaultValue","onChange","onBlur","onOpenChange"]);const v=_.useRef(),[y,p]=_.useState(w=>{if(!!i)return f(i)}),[b,S]=_.useState();_.useEffect(w=>{y||p(f(i))},[i]);function f(w){return r==null?void 0:r.find(O=>typeof O=="object"?O.value==w:O===w)}_.useEffect(w=>{let O=v.current.getBoundingClientRect();S(O.width)},[v.current]),_.useEffect(w=>{typeof y=="object"?o==null||o(y==null?void 0:y.value):o==null||o(y)},[y]);let N=_.useMemo(w=>y?y.label||y.value||y:"No option selected",[y]);function $(w){return typeof w=="object"?(y==null?void 0:y.value)===w.value:y===w}return a("div",{children:u(te.Root,{onOpenChange:s,children:[a("div",{ref:v,className:C.default("flex flex-row items-center space-x-2",n),children:e||c.children?a(te.Trigger,{asChild:!0,disabled:c.disabled,children:e?a(e,{}):c.children}):u(te.Trigger,{disabled:c.disabled,onBlur:l,className:C.default("w-full min-w-[180px]","flex flex-row items-center justify-between space-x-2","text-xs","px-1.5 h-[26px]","leading-none","rounded-md","select-none touch-none","font-mono font-medium","bg-gray-900 border border-gray-600 text-gray-300","focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800",{"border-red-600 ring-1 ring-red-600":t}),children:[a("span",{className:"whitespace-nowrap truncate",children:N}),a(L.ChevronDownIcon,{})]})}),a(te.Content,{className:C.default("w-full","flex flex-col items-start","bg-gray-300 dark:bg-gray-800","shadow-md","p-1","rounded-md"),style:{width:b||"auto"},align:"end",sideOffset:6,children:r==null?void 0:r.map((w,O)=>a(Ba,{value:w.value||w,selected:$(w),onClick:T=>p(w),children:w.label||w.value||w},`option-${O}`))})]})})}function ce(e){const[t,r,n]=le.useField(e.name),{initialValue:i}=r,{setValue:o,setTouched:l}=n;return a(At,g({error:r.touched&&r.error,defaultValue:i,onChange:o,onOpenChange:s=>s&&l(!0),onBlur:s=>t.onBlur(t.name)},e))}function z(e){const[t,r,n]=le.useField(e);return a(Te,I(g(g({},t),e),{error:t.name&&r.error&&r.touched,dirty:r.touched&&!r.error&&r.value!=r.initialValue}))}function Te(i){var o=i,{error:e,dirty:t,detailContent:r}=o,n=P(o,["error","dirty","detailContent"]);return n.type=="hidden"?a("input",I(g({},n),{hidden:!0})):u("div",{className:C.default("flex flex-row items-center","rounded-md overflow-hidden flex-shrink-0","h-[26px]","font-mono font-medium","bg-gray-900 border border-gray-600 text-gray-300","focus-within:border-blue-600 focus-within:outline-none focus-within:ring-1 focus-within:ring-blue-600",{"border-red-600 ring-1 ring-red-600":e,"border-yellow-500 ring-1 ring-yellow-500":!e&&t},n.className),children:[a("input",I(g({},n),{className:C.default("text-xs px-1.5","h-full min-w-0 w-full","ring-0 outline-none","bg-gray-900 text-gray-300","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800","transition-colors duration-150"),style:{textAlign:"inherit"}})),r&&a($r.Label,{htmlFor:n.id,className:"flex-none select-none cursor-default text-xs bg-white/10 border-l border-gray-600 self-stretch flex items-center px-1",children:r})]})}function Xr(r){var n=r,{error:e}=n,t=P(n,["error"]);return a(Mr.Root,I(g({},t),{className:C.default("h-[24px] w-[24px]","rounded-md","bg-gray-900 border border-gray-600 text-gray-300","focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800",{"border-red-600 ring-1 ring-red-600":e},"transition-colors duration-150",t.className),children:a(Mr.Indicator,{className:C.default("flex items-center justify-center"),children:a(L.CheckIcon,{})})}))}function Zr(e){const[t,r,n]=le.useField(e);return a(Xr,I(g(g({},t),e),{error:t.name&&r.error&&r.touched}))}function Kr(e){const t=Math.max(0,e.value),r=Math.max(0,e.max),n=_.useMemo(i=>t/r*100,[t,r]);return a(Lr.Root,I(g({},e),{value:t,max:r,className:C.default("relative","h-[2px]","w-full","bg-gray-800",e.className),children:a(Lr.Indicator,{className:"h-full transition-[width] duration-150 bg-blue-600",style:{width:`${n}%`}})}))}const Ga=e=>D.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,fill:"none",viewBox:"0 0 15 15"},e),D.createElement("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:"currentColor",style:{opacity:"50%"},fillRule:"evenodd",clipRule:"evenodd"}),D.createElement("path",{d:"M291.761,420.578a5.673,5.673,0,0,1,5.673-5.673v-.95a6.623,6.623,0,0,0-4.683,11.306l.671-.671A5.659,5.659,0,0,1,291.761,420.578Z",transform:"translate(-289.811 -412.955)",fill:"currentColor"}));function Xa(e){return a(Ga,g({},e))}function jt(r){var n=r,{size:e="normal"}=n,t=P(n,["size"]);return a("div",{className:C.default({"scale-75":e=="sm","scale-110":e=="md","scale-125":e=="lg","scale-150":e=="xl"}),children:a(Xa,{className:"animate-spin"})})}function ve(o){var l=o,{size:e,showArrow:t=!1,delayDuration:r,content:n}=l,i=P(l,["size","showArrow","delayDuration","content"]);const s=_.useMemo(h=>e=="hint"?750:150,[e]),c=_.useMemo(h=>{switch(e){case"hint":return"text-xxs font-normal rounded-sm p-1 border border-gray-500";case"sm":return"text-xxs font-medium rounded-md px-1.5 py-1";default:return"text-xs rounded-md p-2"}},[e]),d=_.useMemo(h=>{switch(e){case"hint":return{side:"bottom",sideOffset:3,align:"start",alignOffset:15}}},[e]);return u(it.Root,{delayDuration:r||s,children:[a(it.Trigger,{asChild:!0,children:i.children}),u(it.Content,I(g(g({},d),i),{className:C.default("leading-none","bg-gray-700 text-gray-100 font-bold shadow-sm",c),children:[t&&a(it.Arrow,{className:"fill-gray-700"}),n]}))]})}function ye(n){var i=n,{headers:e,className:t}=i,r=P(i,["headers","className"]);return u("table",I(g({},r),{className:`table-auto border-collapse border border-transparent rounded-lg overflow-hidden ${t}`,children:[(e==null?void 0:e.length)&&a(Za,{headers:e}),a("tbody",{children:r.children})]}))}function Za(r){var n=r,{headers:e}=n,t=P(n,["headers"]);return a("thead",I(g({},t),{children:a("tr",{children:e.map((i,o)=>a("th",{className:"bg-gray-800 text-gray-300 font-semibold text-left p-1",children:a("div",{children:i})},`header-${o}`))})}))}function Ka(t){var e=P(t,[]);return a("tr",I(g({},e),{className:C.default("font-medium group border-l border-gray-100 last:border-l-0",e.className),children:e.children}))}ye.Row=Ka;function Ya(t){var e=P(t,[]);return a("td",I(g({},e),{className:C.default("border-b border-gray-700 px-1 py-2 group-hover:bg-gray-600/10 transition-colors duration-150",e.className),children:e.children}))}ye.Data=Ya;const Yr=V.default.createContext();function K(i){var o=i,{size:e="normal",divide:t=!0,className:r}=o,n=P(o,["size","divide","className"]);return a("ul",{className:C.default("flex flex-col",{"divide-y divide-gray-700":t},r),children:a(Yr.Provider,{value:{size:e,divide:t},children:n.children})})}function Qa(r){var n=r,{className:e}=n,t=P(n,["className"]);const{size:i}=_.useContext(Yr);return a("li",g({className:C.default("flex flex-row items-center",{"space-x-3 py-2":i=="normal","space-x-1 py-1":i=="compact"},e)},t))}K.Item=Qa;function Ja(e){return e===null?!0:!(typeof e=="object"||typeof e=="function")}function Qr(o){var l=o,{item:e,selected:t,selectable:r=!0,className:n}=l,i=P(l,["item","selected","selectable","className"]);const s=_.useMemo(c=>i.children?i.children:typeof e=="object"?JSON.stringify(e):typeof e=="function"?e(e):e,[e,i.children]);return a(K.Item,I(g({},i),{className:C.default("px-0.5 transition-colors duration-150","select-none","rounded-md","font-semibold",{"cursor-pointer":r,"hover:bg-white hover:bg-opacity-5":!t,"bg-blue-700 text-gray-50":t},n),children:s}))}function ei(n){var i=n,{items:e,itemComponent:t}=i,r=P(i,["items","itemComponent"]);const{selectedItemKey:o}=V.default.useContext(kt),[l,s]=_.useState(!1),c=_.useMemo(d=>{let h=r["data-group-key"];return!l&&(o==null?void 0:o.startsWith(h))},[l,r,o]);return u(he,{children:[u(K.Item,I(g({},r),{className:C.default("px-0.5 transition-colors duration-150","select-none","rounded-md","font-semibold",{"cursor-pointer":r.selectable,"hover:bg-white hover:bg-opacity-5":!r.selected,"bg-blue-700 text-gray-50":r.selected},r.className),onClick:d=>s(h=>!h),children:[l?a(L.ChevronDownIcon,{className:"text-gray-200"}):a(L.ChevronRightIcon,{className:"text-gray-200"}),a("div",{className:"flex-1",children:r.children}),c&&a("div",{className:"w-[15px] h-[15px] flex items-center justify-center",children:a("div",{className:"w-2 h-2 rounded-full bg-blue-700 self-center"})})]})),l&&a("div",{className:"pl-3",children:a(Jr,{"data-group-key":r["data-group-key"],"data-internal-key":r["data-internal-key"],items:e,itemComponent:t})})]})}function Jr(s){var c=s,{items:e,itemComponent:t=Qr,itemDisplayTransform:r,groupDisplayTransform:n,isGroupTransform:i,hideEmptyGroups:o=!1}=c,l=P(c,["items","itemComponent","itemDisplayTransform","groupDisplayTransform","isGroupTransform","hideEmptyGroups"]);const{selectedItemKey:d,selectedItemInternalKey:h,handleSelect:v,maxDepth:y,keyTransform:p,itemProps:b}=V.default.useContext(kt);_.useEffect(f=>{if(h){let N=h.split(".").reduce(($,w)=>$?$[w]:void 0,e);N&&v(d,N,h)}},[e]);const S=f=>{if(!f)return null;if(typeof f=="object")return Object.keys(f).map(N=>{var E;let $=((E=l["data-group-key"])==null?void 0:E.split(".").length)||0,w=f[N],O=(i==null?void 0:i(N,w))||!Ja(w)&&$<y,T=(p==null?void 0:p(N,w,O))||N,M=[l["data-group-key"],T].filter(Boolean).join("."),H=[l["data-internal-key"],N.replace(".","-")].filter(Boolean).join(".");return O?o&&!(w!=null&&w.length)?null:a(ei,{"data-group-key":M,"data-internal-key":H,items:w,itemComponent:t,children:n?n(N,w):N},`group-${T}`):a(t,g({"data-item-key":M,"data-internal-key":H,selected:d===M,item:r?r(w):w,onClick:j=>v(M,w,H)},b),`item-${T}`)});throw new Error(`Unsupport type of items: ${typeof f}`)};return u(K,I(g({},l),{className:"text-xs",size:"compact",children:[S(e),l.children]}))}const kt=V.default.createContext();function Ze(e){const[t,r]=_.useState(e.defaultValue),[n,i]=_.useState(e.defaultValue);function o(s,c,d){var h;r(s),i(d),(h=e.onSelect)==null||h.call(e,s,c)}let l=Object.keys(e).filter(s=>s.startsWith("itemOn")).reduce((s,c)=>I(g({},s),{[c.replace("itemOn","on")]:e[c]}),{});return a(kt.Provider,{value:{selectedItemKey:t,setSelectedItemKey:r,selectedItemInternalKey:n,setSelectedItemInternalKey:i,handleSelect:o,maxDepth:e.maxDepth,keyTransform:e.keyTransform,itemProps:l},children:a(Jr,I(g({},e),{className:"text-xs",size:"compact"}))})}Ze.Item=Qr;const Se=V.default.forwardRef((o,i)=>{var l=o,{type:e="scroll",onScroll:t,children:r}=l,n=P(l,["type","onScroll","children"]);return u(ot.Root,I(g({ref:i,type:e},n),{className:C.default("overflow-hidden","flex",n.className),children:[a(ot.Viewport,{className:"flex-1",onScroll:t,children:r}),a(ot.Scrollbar,{orientation:"vertical",className:"flex select-none touch-none px-0.5 py-1 radix-orientation-vertical:w-[11px]",children:a(ot.ScrollAreaThumb,{className:"flex-1 dark:bg-black dark:bg-opacity-50 hover:dark:bg-opacity-75 dark:shadow-gray-700 shadow-sm rounded-full relative"})})]}))});Se.displayName="ScrollArea";const Me=$e.Root;Me.Trigger=$e.Trigger;function ti(r){var n=r,{className:e}=n,t=P(n,["className"]);return a($e.Content,I(g({sideOffset:3},t),{className:C.default("rounded-lg text-gray-300 bg-gray-700","shadow-md","min-w-[180px]","p-1",e)}))}Me.Content=ti;const Ft=V.default.forwardRef((n,r)=>{var i=n,{items:e}=i,t=P(i,["items"]);return a("div",I(g({ref:r},t),{className:C.default("text-gray-300 bg-gray-700","rounded-lg","shadow-md","min-w-[180px]","p-1",t.className),children:t.children}))});Ft.displayName="MenuContent";const dt=V.default.forwardRef((i,n)=>{var o=i,{item:e,children:t}=o,r=P(o,["item","children"]);return u("div",I(g({ref:n,className:C.default("relative","rounded-md","text-xs leading-none font-medium","flex flex-row items-center","pl-6 pr-1 h-6","focus:bg-blue-700 focus:outline-none","radix-state-open:bg-blue-900","radix-disabled:opacity-60 disabled:opacity-60",{"cursor-default":!e.action&&!e.items,"cursor-pointer":e.action||e.items})},r),{children:[e.icon&&a("div",{className:"absolute left-0 w-6 inline-flex items-center justify-center",children:a(e.icon,{className:"opacity-60"})}),e.label,e.detail&&a("div",{className:"ml-auto text-gray-400 text-xs",children:e.detail}),e.items&&a("div",{className:"ml-auto",children:a(L.ChevronRightIcon,{})}),t]}))});dt.displayName="MenuItem";const Ce=n=>{var i=n,{items:e,asSubmenu:t=!1}=i,r=P(i,["items","asSubmenu"]);return u(te.Root,I(g({},r),{children:[a(te.Trigger,{asChild:!0,children:r.children}),a(en,{children:e==null?void 0:e.map((o,l)=>typeof o=="object"?o.items?a(Ht,{item:o,asSubmenu:!0,items:o.items},`menu-item-${l}`):a(Ht,{item:o,disabled:!o.action,onSelect:s=>{var c;return(c=o.action)==null?void 0:c.call(o)}},`menu-item-${l}`):o==="-"?a(tn,{},`menu-item-${l}`):(console.warn("Unsupported item in DropdownMenu",o),null))})]}))};function en(e){return a(te.Content,I(g({sideOffset:3},e),{asChild:!0,children:a(Ft,{children:e.children})}))}function Ht(e){return a(te.Item,I(g({},e),{asChild:!0,children:a(dt,{})}))}function tn(e){return a(te.Separator,{asChild:!0,children:a(k,{className:"my-1"})})}Ce.Root=te.Root,Ce.Trigger=te.Trigger,Ce.Content=en,Ce.Item=Ht,Ce.Separator=tn;var ri={badge:"_badge_1knwz_1"};function zt(n){var i=n,{className:e,size:t}=i,r=P(i,["className","size"]);return a("div",{className:C.default(ri.badge,{"badge-sm":t=="sm"},e),children:r.children})}function rn(l){var s=l,{items:e,modal:t,asSubmenu:r=!1,onPointerDown:n,onPointerDownOutside:i}=s,o=P(s,["items","modal","asSubmenu","onPointerDown","onPointerDownOutside"]);let c=r?Oe.TriggerItem:Oe.Trigger;const[d,h]=_.useState(!1);function v(p){n==null||n(p)}function y(p){i==null||i(p)}return u(Oe.Root,{modal:t,onOpenChange:h,children:[a(c,{asChild:r,onPointerDown:v,children:o.children}),a(Oe.Content,{onPointerDownOutside:y,asChild:!0,children:a(Ft,{children:e==null?void 0:e.map((p,b)=>typeof p=="object"?p.items?a(rn,{asSubmenu:!0,items:p.items,children:a(dt,{item:p})},`menu-item-${b}`):a(Oe.Item,{asChild:!0,disabled:!p.action,onSelect:S=>{var f;return(f=p.action)==null?void 0:f.call(p)},children:a(dt,{item:p})},`menu-item-${b}`):p==="-"?a(Oe.Separator,{asChild:!0,children:a(k,{className:"my-1"})},`menu-item-${b}`):(console.warn("Unsupported item in ContextMenu",p),null))})})]})}function nn(t){var e=P(t,[]);return a(ce,g({options:[4800,9600,14400,19200,38400,57600,115200]},e))}function ni({defaultValue:e,onChange:t}){const[r,n]=_.useState(e);return _.useEffect(i=>t==null?void 0:t(r),[r]),u(we,{value:r,onValueChange:i=>n(i!=null&&i.length?i:null),className:"flex-none",children:[a(we.Item,{value:"fdm_printer",className:"rounded-md",children:a(ht,{})}),a(we.Item,{value:"msla_printer",className:"rounded-md",children:a(Wt,{})}),a(we.Item,{value:"cnc",className:"rounded-md",children:a(qt,{})}),a(we.Item,{value:"laser",className:"rounded-md",children:a(Vt,{})})]})}function ai(r){var n=r,{itemComponent:e=ii}=n,t=P(n,["itemComponent"]);return a(Ze,g({divide:!1,hideEmptyGroups:!0,itemComponent:e,maxDepth:1,keyTransform:(i,o,l)=>l?i:Ve.pathCase(o.model),groupDisplayTransform:i=>Ve.titleCase(i)},t))}function ii(r){var n=r,{item:e}=n,t=P(n,["item"]);return a(Ze.Item,I(g({selectable:!0},t),{children:a(x,{orientation:"vertical",className:"flex-1",children:u(x,{className:"flex-1",children:[a("span",{className:"mr-auto",children:e.model}),a("div",{className:"text-gray-500 hover:text-gray-300 transition-colors duration-150",children:a(ve,{content:a(oi,{profile:e}),side:"right",sideOffset:10,align:"center",showArrow:!0,children:a(L.InfoCircledIcon,{})})})]})})}))}function oi({profile:e}){var r;let t=useMemo(n=>{switch(e.type){case"fdm_printer":return{"Max speed":e.max_speed,"Printing volume":[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x"),Extrudes:e.extruders};case"msla_printer":return{"Printing volume":[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x")};case"cnc":return{"Max speed":e.max_speed,Volume:[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x")}}},[e]);return a(x,{orientation:"vertical",className:"w-full min-w-[200px]",children:(r=Object.keys(t))==null?void 0:r.map(n=>u(x,{className:"justify-between",children:[a(R,{children:a("span",{className:"text-gray-400",children:n})}),a("span",{className:"font-semibold",children:t[n]||"-"})]},`info-${n}`))})}function li(e){return a(ce,g({options:[{value:"fdm_printer",label:"FDM Printer"},{value:"msla_printer",label:"MSLA Printer"},{value:"cnc",label:"CNC"}]},e))}function si(){var t;const{values:e}=le.useFormikContext();return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{htmlFor:"volume.width",children:"X (Width)"}),a(z,{name:"volume.width",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"volume.depth",children:"Y (Depth)"}),a(z,{name:"volume.depth",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"volume.height",children:"Z (Height)"}),a(z,{name:"volume.height",type:"number",disabled:((t=e.volume)==null?void 0:t.formFactor)!="rectangular"})]}),u(x,{children:[a(R,{htmlFor:"volume.formFactor",children:"Form factor"}),a(ce,{name:"volume.formFactor",options:[{value:"rectangular",label:"Rectangular"},{value:"elliptic",label:"Elliptic"}]})]}),u(x,{children:[a(R,{htmlFor:"bed.heated",children:"Heated bed"}),a(Zr,{name:"bed.heated"})]}),u(x,{children:[a(R,{htmlFor:"volume.origin",children:"Origin"}),a(ce,{name:"volume.origin",options:[{value:"lower-left",label:"Default"},{value:"center",label:"Center"}]})]}),a(k,{}),u(x,{children:[a(R,{htmlFor:"gCodeVersion",children:"GCode version"}),a(ce,{name:"gCodeVersion",options:["marlin"]})]}),a(k,{}),u(x,{children:[a(R,{htmlFor:"xAxis.maxSpeed",children:"Feedrate Max X"}),a(z,{name:"xAxis.maxSpeed",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"yAxis.maxSpeed",children:"Feedrate Max Y"}),a(z,{name:"yAxis.maxSpeed",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"zAxis.maxSpeed",children:"Feedrate Max Z"}),a(z,{name:"zAxis.maxSpeed",type:"number"})]}),a(k,{}),a(le.FieldArray,{name:"extruders",children:({push:r,remove:n})=>{var i;return u(he,{children:[u(x,{children:[a(R,{children:"Extruders"}),a(X,{size:"sm",squared:!0,onClick:o=>r({nozzleDiameter:.4,xOffset:0,yOffset:0}),children:a(L.PlusIcon,{})})]}),a(K,{className:"space-y-2",children:(i=e==null?void 0:e.extruders)==null?void 0:i.map((o,l)=>a(K.Item,{className:"group border-dashed border border-gray-700 rounded-md p-2",children:u(x,{orientation:"vertical",className:"flex-1",children:[u(x,{className:"border-b border-gray-700 border-dashed pb-2 -mx-2 px-2",children:[u(R,{children:["Extruder #",l]}),a(X,{size:"xs",squared:!0,rounded:!0,onClick:s=>n(l),className:"opacity-0 group-hover:opacity-100 transition duration-150",children:a(L.Cross2Icon,{})})]}),a(ci,{index:l})]})},`extruder-${l}`))})]})}})]})}function ci({index:e}){return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{htmlFor:`extruders[${e}].nozzleDiameter`,children:"Nozzle diameter"}),a(z,{name:`extruders[${e}].nozzleDiameter`,type:"number"})]}),u(x,{children:[a(R,{htmlFor:`extruders[${e}].xOffset`,children:"X offset"}),a(z,{name:`extruders[${e}].xOffset`,type:"number"})]}),u(x,{children:[a(R,{htmlFor:`extruders[${e}].yOffset`,children:"Y offset"}),a(z,{name:`extruders[${e}].yOffset`,type:"number"})]})]})}function di(){return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{children:"X (Width)"}),a(z,{name:"width",type:"number"})]}),u(x,{children:[a(R,{children:"Y (Depth)"}),a(z,{name:"depth",type:"number"})]}),u(x,{children:[a(R,{children:"Z (Height)"}),a(z,{name:"height",type:"number"})]})]})}function ui({profile:e}){const[t,r]=_.useState("fdm_printer"),n=_.useMemo(s=>({brand:"",model:"",type:t}),[t]),i=_.useMemo(s=>ge.object({brand:ge.string().required("Missing device brand"),model:ge.string().required("Missing device model")}),[]),o=_.useMemo(s=>{switch(t){case"fdm_printer":return g(I(g({},n),{volume:{width:200,depth:200,height:200,origin:"lower-left",formFactor:"rectangular"},bed:{heated:!0},gCodeVersion:"marlin",xAxis:{maxSpeed:6e3},yAxis:{maxSpeed:6e3},zAxis:{maxSpeed:3e3}}),e);case"msla_printer":return g(I(g({},n),{volume:{width:120,depth:85,height:130}}),e);default:return g(g({},n),e)}},[n,t,e]);function l(s){e.id?A.coreSocket.emit("profiles:update",e.id,s,c=>{console.log("Updated profile",c)}):A.coreSocket.emit("profiles:add",s,c=>{console.log("Added profile",c)})}return a(Xe,{onSubmit:l,validationSchema:i,initialValues:o,enableReinitialize:!0,children:a(hi,{deviceType:t,onDeviceTypeChange:r})})}function hi(n){var i=n,{deviceType:e,onDeviceTypeChange:t}=i,r=P(i,["deviceType","onDeviceTypeChange"]);let{values:o}=le.useFormikContext();return _.useEffect(l=>{t==null||t(o==null?void 0:o.type)},[t,o==null?void 0:o.type]),u(he,{children:[u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{children:"Brand"}),a(z,{name:"brand",disabled:o==null?void 0:o.id})]}),u(x,{children:[a(R,{children:"Model"}),a(z,{name:"model",disabled:o==null?void 0:o.id})]}),u(x,{children:[a(R,{children:"Device type"}),a(li,{name:"type",disabled:o==null?void 0:o.id})]})]}),a(k,{}),u("div",{className:"flex-1",children:[e=="fdm_printer"&&a(si,{}),e=="msla_printer"&&a(di,{})]}),a(k,{}),a(x,{className:"justify-end",children:a(X,{type:"submit",children:"Save"})})]})}function an(t){var e=P(t,[]);const{profiles:r}=A.useAppContext(),[n,i]=_.useState(""),[o,l]=_.useState({}),s=_.useMemo(T=>Object.keys(r).reduce((M,H)=>{let E=r[H],j=E.brand||"Generic";return M[j]||(M[j]=[]),M[j].push(E),M},{}),[r]),c=_.useMemo(T=>{let M=g({},s);if(o.type&&Object.keys(M).map(H=>{M[H]=M[H].filter(E=>E.type==o.type)}),n!=null&&n.length){let H=new RegExp(`.?(${n}).?`,"i");Object.keys(M).map(E=>{M[E]=M[E].filter(j=>H.test(j.model))})}return M},[s,o,n]),d=_.useMemo(T=>Object.keys(c).reduce((M,H)=>M+c[H].length,0),[c]),[h,v]=_.useState(),[y,p]=_.useState(),[b,S]=_.useState(),[f,N]=_.useState();function $(T){console.log("Edit",T),S(T),v(!0)}function w(T){console.log("Delete",T),N(T),p(!0)}function O(){console.log("Should delete"),A.coreSocket.emit("profiles:delete",f.id,T=>{console.log("Deleted profile",T)})}return u(he,{children:[u(Se,{className:C.default("bg-gray-800 rounded-lg overflow-hidden",e.className),children:[u("div",{className:"h-10 px-2 py-1 flex flex-row space-x-2 absolute top-0 inset-x-0 items-center border-b border-gray-700 bg-gray-800/80 rounded-t-lg overflow-hidden",children:[a(ni,{onChange:T=>l(M=>I(g({},M),{type:T}))}),a(k,{orientation:"vertical"}),a(L.MagnifyingGlassIcon,{className:"flex-none"}),u("div",{className:"relative flex items-center",children:[a(Te,{className:C.default("w-full bg-gray-800",{"!pr-[22px]":n==null?void 0:n.length}),placeholder:"Search model...",value:n,onChange:T=>i(T.target.value)}),Boolean(n==null?void 0:n.length)&&a("div",{className:"absolute right-0 inset-y-0 px-1 flex items-center",children:a("div",{className:" bg-gray-600 rounded-full cursor-pointer hover:bg-gray-500 transition-colors duration-150",onClick:T=>i(""),children:a(L.Cross2Icon,{className:"scale-75"})})})]}),a(k,{orientation:"vertical"}),a(ve,{size:"hint",content:"Add profile",children:a(X,{squared:!0,size:"sm",onClick:T=>{S(void 0),v(!0)},children:a(L.PlusIcon,{})})})]}),d?a("div",{className:"pt-11 px-1",children:a(ai,g({items:c,itemComponent:fi,itemOnEdit:$,itemOnDelete:w},e))}):a(zn,{className:"absolute inset-0 top-10",text:"No profiles"})]}),a(Pe.Root,{open:h,onOpenChange:v,children:a(Pe.Content,{title:"Device profile",children:a(Se,{className:"h-full",children:a(ui,{profile:b})})})}),a(Ne.Root,{open:y,onOpenChange:p,children:a(Ne.Content,{title:"Delete profile",onConfirm:O,children:u("span",{className:"font-medium",children:["Are you sure you want do delete ",a("span",{className:"font-bold text-blue-500",children:f==null?void 0:f.id})," profile?"]})})})]})}function fi(i){var o=i,{item:e,onEdit:t,onDelete:r}=o,n=P(o,["item","onEdit","onDelete"]);function l(s){s.preventDefault(),s.stopPropagation(),r==null||r(e)}return a(Ze.Item,I(g({selectable:!0},n),{className:"group",children:a(x,{orientation:"vertical",className:"flex-1",children:u(x,{className:"flex-1",children:[a("span",{className:"mr-auto",children:e.model}),u("div",{className:"flex flex-row items-center space-x-1 text-gray-500 hover:text-gray-300 transition-colors duration-150",children:[a(ve,{content:"Edit",size:"hint",children:a(L.Pencil2Icon,{className:"invisible group-hover:visible",onClick:s=>t==null?void 0:t(e)})}),a(ve,{content:"Delete",size:"hint",children:a(L.TrashIcon,{className:"invisible group-hover:visible",onClick:l})})]})]})})}))}function mi(t){var e=P(t,[]);function r(n,i){var o,l;((o=e.field)==null?void 0:o.name)&&typeof((l=e.form)==null?void 0:l.setFieldValue)=="function"&&e.form.setFieldValue(e.field.name,i.id)}return a(an,{onSelect:r,className:"h-[200px]"})}function Ut({device:e}){var n;const t=A.useSerialPorts();function r(i,o){e.id?A.coreSocket.emit("devices:update",e.id,i,l=>{console.log("Updated device")}):A.coreSocket.emit("devices:add",i,l=>{console.log("Created device")})}return a(Xe,{enableReinitialize:!0,initialValues:{id:e.id||"",name:e.name||Ve.getSuggestedName(e==null?void 0:e.vendorId,e==null?void 0:e.productId),profileId:((n=e.profile)==null?void 0:n.id)||e.profileId||"",port:(e==null?void 0:e.port)||"",baudrate:(e==null?void 0:e.baudrate)||"auto",serialNumber:e==null?void 0:e.serialNumber,vendorId:e==null?void 0:e.vendorId,productId:e==null?void 0:e.productId},validationSchema:ge.object({name:ge.string().required(),profileId:ge.string().required(),port:ge.string().required(),baudrate:ge.mixed().required()}),onSubmit:r,children:d=>{var h=d,{values:i,initialValues:o,errors:l,touched:s}=h,c=P(h,["values","initialValues","errors","touched"]);return u(x,{orientation:"vertical",children:[a(z,{type:"hidden",name:"id"}),u(x,{orientation:"vertical",children:[a(R,{htmlFor:"name",children:"Name"}),a(z,{type:"text",name:"name",className:"w-full",autoComplete:"off"})]}),a(k,{}),u(x,{orientation:"vertical",className:"text-xs",children:[a(W,{label:"Serial number",value:i.serialNumber||"-"}),a(W,{label:"Vendor ID",value:i.vendorId||"-"}),a(W,{label:"Product ID",value:i.productId||"-"})]}),a(k,{}),u(x,{orientation:"vertical",children:[u(x,{className:"justify-between",children:[a(R,{htmlFor:"profile",children:"Device profile"}),a(Te,{placeholder:"No profile selected",className:"!bg-transparent !border-dashed !ring-0",error:c.submitCount&&l.profileId,disabled:!0,value:i.profileId})]}),a(le.Field,{name:"profileId",component:mi})]}),a(k,{}),u(x,{orientation:"vertical",children:[u(x,{className:"justify-between",children:[a(R,{htmlFor:"port",children:"Port"}),o.port?a(Te,{value:o.port,disabled:!0,className:"w-max"}):a(ce,{name:"port",options:t==null?void 0:t.map(v=>v.path),defaultValue:e==null?void 0:e.port.path})]}),u(x,{className:"justify-between",children:[a(R,{htmlFor:"baudrate",children:"Baudrate"}),a(nn,{name:"baudrate"})]})]}),a(k,{}),a(x,{className:"justify-end",children:a(X,{type:"submit",children:"Save"})})]})}})}function pi({onSelectDevice:e}){const t=A.useSerialPorts();function r(n){let i=n.device||{};i.port=n.path,i.vendorId=n.vendorId,i.productId=n.productId,e==null||e(i)}return u(he,{children:[a("div",{className:"text-gray-500 text-sm font-normal",children:"Select the device on the listed ports below. If no device has been automatically detected, you can manually select the port and proceed to the manual configuration."}),a(ye,{headers:["Port","Info",null],className:"text-sm",children:t==null?void 0:t.map(n=>a(gi,{port:n,onClick:i=>r(n)},`port-${n.path}`))})]})}function gi(r){var n=r,{port:e}=n,t=P(n,["port"]);const i=_.useMemo(o=>e.vendorId?Ve.getProductInfo(e.vendorId,e.productId):null,[e.vendorId,e.productId]);return u(ye.Row,I(g({className:"select-none cursor-pointer h-14 max-h-14"},t),{children:[a(ye.Data,{className:"w-52",children:u("div",{className:"flex flex-col",children:[a("span",{className:"text-sm font-semibold",children:e.manufacturer||"-"}),a("span",{className:"text-xs text-gray-600",children:e.path})]})}),a(ye.Data,{className:"text-xs",children:u("div",{className:"flex flex-col",children:[a("span",{children:(i==null?void 0:i.vendorName)||(e.vendorId?`VID: ${e.vendorId}`:"Unknown")}),a("span",{children:(i==null?void 0:i.productName)||(e.productId?`PID: ${e.productId}`:"Unknown")})]})}),a(ye.Data,{children:a(L.CaretRightIcon,{})})]}))}function vi({device:e,props:t}){const[r,n]=_.useState(e);return r?a(Ut,{device:r}):a(pi,{onSelectDevice:n})}function yi(){return a(Lt,{children:a("div",{className:"flex flex-col space-y-2",children:u("div",{className:"flex flex-row space-x-3 text-gray-300 items-center",children:[a(jt,{size:"xl"}),a("span",{className:"font-semibold",children:"Loading app data..."})]})})})}function _i(r){var n=r,{className:e}=n,t=P(n,["className"]);const i=_.useRef();return _.useEffect(o=>{let l=i.current.parentElement.getBoundingClientRect();i.current.width=l.width,i.current.height=l.height;let s=i.current.getBoundingClientRect(),c=s.width/2,d=s.height/2,h=30,v=0;const y=100;let b=setInterval(S=>{if(h<1){clearInterval(b);return}let f=i.current.getContext("2d");f.lineWidth=1,f.strokeStyle="#164e63",f.beginPath(),f.arc(c,d,h,v,v+Math.PI/y),f.closePath(),f.stroke(),h-=Math.PI/y,v+=Math.PI/y},100);return S=>clearInterval(b)},[]),a("div",I(g({className:C.default("relative","bg-gray-500",e)},t),{children:a("canvas",{ref:i,className:"absolute inset-0"})}))}function on({device:e}){var r,n;return a(Be.default,{href:`/workspace/devices/${e.id}`,passHref:!0,children:a(se,{className:C.default("h-80 cursor-pointer"),children:a(A.DeviceProvider,{device:e,children:a("div",{className:"card-body",children:u("div",{className:"flex-1 flex flex-col space-y-2",children:[u("div",{className:"flex flex-col items-stretch font-medium text-sm border-b border-gray-600 pb-0.5",children:[u("div",{className:"flex flex-row",children:[a("div",{className:"flex-1",children:e.name}),a("button",{children:a(L.StarIcon,{})})]}),u("div",{className:"flex flex-row space-x-1 items-center text-[10px] font-mono font-normal dark:text-gray-500",children:[a("div",{children:a(ft,{device:e})}),u("div",{className:"flex-1",children:[(r=e.profile)==null?void 0:r.brand," ",(n=e.profile)==null?void 0:n.model]}),a("div",{children:a(ut,{device:e})})]})]}),u("div",{className:"text-[11px] font-medium text-gray-500",children:[u("div",{className:"flex flex-row items-center justify-between",children:[a("div",{children:"Nome_file.m3f"}),u("div",{children:[0," %"]})]}),a(Kr,{value:20,max:100})]}),e.camera&&a("div",{className:"relative w-full h-[160px] rounded-md overflow-hidden",children:a("div",{className:"absolute inset-x-0 bottom-0 flex flex-row",children:e.camera.live?u("div",{className:"m-1 p-1 bg-gray-900 bg-opacity-75 text-red-700 flex flex-row items-center space-x-1 rounded-sm",children:[a("div",{className:"w-1 h-1 rounded-full bg-current"}),a("span",{className:"text-[10px] font-medium",children:"LIVE"})]}):u("div",{className:"m-1 p-1 bg-gray-900 bg-opacity-75 text-gray-400 rounded-sm text-[10px] flex flex-row items-center space-x-1",children:[a(L.CameraIcon,{}),a("span",{className:"font-mono",children:"15:32:12"})]})})}),e.type=="cnc"&&a(_i,{className:"w-full h-[160px] rounded-md overflow-hidden"})]})})})})})}const re=Object.freeze({Loading:0,PortNotFound:1,DifferentDevice:2,Connected:10});function ut({device:e}){const[t,r]=_.useState(re.Loading);_.useEffect(i=>{A.coreSocket.emit("devices:connection:check",e.id,o=>{o?o.serialNumber==e.serialNumber&&o.vendorId==e.vendorId&&o.productId==e.productId?r(re.Connected):r(re.DifferentDevice):r(re.PortNotFound)})},[e]);const n=_.useMemo(i=>{switch(t){case re.Loading:return a("span",{children:"Checking connection..."});case re.PortNotFound:return u("span",{className:"text-red-300",children:["Port ",e.port," not found"]});case re.DifferentDevice:return u("span",{className:"text-yellow-600",children:["A different device is connected to port ",e.port]});case re.Connected:return u("span",{className:"text-lime-500",children:["Device connected on ",e.port]})}},[t,e.port]);return a(ve,{content:n,size:"sm",className:"font-normal",side:"left",sideOffset:18,alignOffset:0,children:u("div",{children:[t==re.Loading&&a(jt,{}),t==re.PortNotFound&&a(L.LinkBreak1Icon,{className:"text-red-600"}),t==re.DifferentDevice&&a(L.LinkNone1Icon,{className:"text-yellow-600"}),t==re.Connected&&a(L.Link1Icon,{className:"text-lime-600"})]})})}function xi(){return a(se,{title:"Plugins",children:u("div",{className:"grid grid-cols-2 gap-3",children:[u(x,{className:"justify-between",children:[a(R,{children:"Plugin install directory"}),a(Te,{value:"/plugins",disabled:!0})]}),a(x,{children:a(X,{size:"sm",children:"Install plugin"})})]})})}function bi(){const{devices:e}=A.useAppContext();return a("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 px-2",children:e==null?void 0:e.map(t=>a(on,{device:t},t.id))})}const wi=e=>D.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15"},e),D.createElement("path",{d:"M-158.762,87.6l1.484,4.019h2.125l1.391-4.019Z",transform:"translate(163.762 -86.099)",fill:"currentColor"}),D.createElement("path",{d:"M-159.48,87.1h6.42l-1.737,5.019h-2.829Zm5.016,1h-3.58l1.115,3.019h1.42Z",transform:"translate(163.762 -86.099)",fill:"currentColor"}),D.createElement("path",{d:"M12.5.5H-.5v-1h13Z",transform:"translate(1.5 13.5)",fill:"currentColor"}),D.createElement("path",{d:"M.5,2.5h-1v-3h1Z",transform:"translate(7.5 7.5)",fill:"currentColor"}),D.createElement("path",{d:"M8.5.5h-9v-1h9Z",transform:"translate(3.5 11.5)",fill:"currentColor"}));function ht(e){return a(wi,g({viewBox:"0 0 15 15"},e))}const Pi=e=>D.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("path",{id:"Linea_1","data-name":"Linea 1",d:"M12.5.5H-.5v-1h13Z",transform:"translate(1.5 3.5)"}),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:2,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M0,0H7V2H0Z",transform:"translate(4 1)"}),D.createElement("path",{id:"Tracciato_3","data-name":"Tracciato 3",d:"M-140.564,98.413l-1-1h-1v1h12v-1h-1l-1,1Z",transform:"translate(144.064 -84.913)"}),D.createElement("path",{id:"Tracciato_3_-_Contorno","data-name":"Tracciato 3 - Contorno",d:"M-130.064,98.913h-13v-2h1.707l1,1h7.589l1-1h1.7Z",transform:"translate(144.064 -84.913)"}),D.createElement("path",{id:"Linea_4","data-name":"Linea 4",d:"M10,.5H0v-1H10Z",transform:"translate(2.5 5.5)"}),D.createElement("path",{id:"Linea_5","data-name":"Linea 5",d:"M.5,5.5h-1v-6h1Z",transform:"translate(2.5 5.5)"}),D.createElement("path",{id:"Linea_6","data-name":"Linea 6",d:"M.5,5.5h-1v-6h1Z",transform:"translate(12.5 5.5)"}),D.createElement("path",{id:"Rettangolo_2","data-name":"Rettangolo 2",d:"M0,0H1V1H0Z",transform:"translate(10 10)"}),D.createElement("path",{id:"Rettangolo_3","data-name":"Rettangolo 3",d:"M0,0H1V1H0Z",transform:"translate(8 10)"}),D.createElement("path",{id:"Rettangolo_4","data-name":"Rettangolo 4",d:"M0,0H1V1H0Z",transform:"translate(6 10)"}),D.createElement("path",{id:"Rettangolo_5","data-name":"Rettangolo 5",d:"M0,0H1V1H0Z",transform:"translate(4 10)"}));function Wt(e){return a(Pi,g({},e))}const Ni=e=>D.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:7,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M1,1V6H6V1H1M0,0H7V7H0Z",transform:"translate(4 1)"}),D.createElement("rect",{id:"Rettangolo_6","data-name":"Rettangolo 6",width:5,height:2,transform:"translate(1 12)"}),D.createElement("path",{id:"Rettangolo_6_-_Contorno","data-name":"Rettangolo 6 - Contorno",d:"M0,0H5V2H0Z",transform:"translate(1 12)"}),D.createElement("rect",{id:"Rettangolo_7","data-name":"Rettangolo 7",width:5,height:2,transform:"translate(9 12)"}),D.createElement("path",{id:"Rettangolo_7_-_Contorno","data-name":"Rettangolo 7 - Contorno",d:"M0,0H5V2H0Z",transform:"translate(9 12)"}),D.createElement("path",{id:"Linea_7","data-name":"Linea 7",d:"M.5,4.5h-1v-5h1Z",transform:"translate(7.5 9.5)"}),D.createElement("rect",{id:"Rettangolo_8","data-name":"Rettangolo 8",width:3,height:2,transform:"translate(6 8)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_8_-_Contorno","data-name":"Rettangolo 8 - Contorno",d:"M0,0H3V2H0Z",transform:"translate(6 8)"}),D.createElement("rect",{id:"Rettangolo_9","data-name":"Rettangolo 9",width:1,height:1,transform:"translate(4 10)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_9_-_Contorno","data-name":"Rettangolo 9 - Contorno",d:"M0,0H1V1H0Z",transform:"translate(4 10)"}),D.createElement("rect",{id:"Rettangolo_10","data-name":"Rettangolo 10",width:1,height:1,transform:"translate(2 9)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_10_-_Contorno","data-name":"Rettangolo 10 - Contorno",d:"M0,0H1V1H0Z",transform:"translate(2 9)"}));function qt(e){return a(Ni,g({},e))}const Si=e=>D.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:3,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M1,1V2H6V1H1M0,0H7V3H0Z",transform:"translate(4 1)"}),D.createElement("rect",{id:"Rettangolo_6","data-name":"Rettangolo 6",width:13,height:1,transform:"translate(1 13)"}),D.createElement("path",{id:"Rettangolo_6_-_Contorno","data-name":"Rettangolo 6 - Contorno",d:"M0,0H13V1H0Z",transform:"translate(1 13)"}),D.createElement("path",{id:"Linea_7","data-name":"Linea 7",d:"M.5,4.5h-1v-5h1Z",transform:"translate(7.5 5.5)"}),D.createElement("rect",{id:"Rettangolo_8","data-name":"Rettangolo 8",width:3,height:2,transform:"translate(6 3)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_8_-_Contorno","data-name":"Rettangolo 8 - Contorno",d:"M0,0H3V2H0Z",transform:"translate(6 3)"}),D.createElement("path",{id:"Linea_8","data-name":"Linea 8",d:"M1.646,2.354l-2-2L.354-.354l2,2Z",transform:"translate(3.5 9.5)"}),D.createElement("path",{id:"Tracciato_5","data-name":"Tracciato 5",d:"M1.5,0A1.5,1.5,0,0,1,3,1.5H0A1.5,1.5,0,0,1,1.5,0Z",transform:"translate(6 11)",fill:"#fff"}),D.createElement("path",{id:"Tracciato_5_-_Contorno","data-name":"Tracciato 5 - Contorno",d:"M1.5,0A1.5,1.5,0,0,1,3,1.5H0A1.5,1.5,0,0,1,1.5,0Z",transform:"translate(6 11)"}),D.createElement("path",{id:"Linea_9","data-name":"Linea 9",d:"M.354,2.354l-.707-.707,2-2,.707.707Z",transform:"translate(9.5 9.5)"}));function Vt(e){return a(Si,g({},e))}function ft(r){var n=r,{device:e}=n,t=P(n,["device"]);const i=_.useMemo(o=>{switch(e.profile.type){case A.ClientDeviceType.FDMPrinter:return ht;case A.ClientDeviceType.MSLAPrinter:return Wt;case A.ClientDeviceType.CNC:return qt;case A.ClientDeviceType.Laser:return Vt;default:return L.QuestionMarkCircledIcon}},[e==null?void 0:e.profile.type]);return a(i,g({},t))}var Bt={"corner-bl":"_corner-bl_1r540_1","corner-br":"_corner-br_1r540_2","tab-item":"_tab-item_1r540_43"},Gt={},Q={},Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.removePathTrailingSlash=Xt,Le.normalizePathTrailingSlash=void 0;function Xt(e){return e.endsWith("/")&&e!=="/"?e.slice(0,-1):e}const Ci={}.__NEXT_TRAILING_SLASH?e=>/\.[^/]+\/?$/.test(e)?Xt(e):e.endsWith("/")?e:e+"/":Xt;Le.normalizePathTrailingSlash=Ci;var Re={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=Ri;function Ri(e,t=""){return(e==="/"?"/index":/^\/index(\/|$)/.test(e)?`/index${e}`:`${e}`)+t}var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.cancelIdleCallback=Ae.requestIdleCallback=void 0;const Ei=typeof self!="undefined"&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};Ae.requestIdleCallback=Ei;const Ii=typeof self!="undefined"&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};Ae.cancelIdleCallback=Ii,Object.defineProperty(Re,"__esModule",{value:!0}),Re.markAssetError=Ee,Re.isAssetError=Mi,Re.getClientBuildManifest=dn,Re.getMiddlewareManifest=Ai,Re.createRouteLoader=ji,Di(Zt);var ln=Ae;function Di(e){return e&&e.__esModule?e:{default:e}}const Kt=3800;function sn(e,t,r){let n=t.get(e);if(n)return"future"in n?n.future:Promise.resolve(n);let i;const o=new Promise(l=>{i=l});return t.set(e,n={resolve:i,future:o}),r?r().then(l=>(i(l),l)).catch(l=>{throw t.delete(e),l}):o}function $i(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch{return!1}}const Oi=$i();function Ti(e,t,r){return new Promise((n,i)=>{const o=`
      link[rel="prefetch"][href^="${e}"],
      link[rel="preload"][href^="${e}"],
      script[src^="${e}"]`;if(document.querySelector(o))return n();r=document.createElement("link"),t&&(r.as=t),r.rel="prefetch",r.crossOrigin={}.__NEXT_CROSS_ORIGIN,r.onload=n,r.onerror=i,r.href=e,document.head.appendChild(r)})}const cn=Symbol("ASSET_LOAD_ERROR");function Ee(e){return Object.defineProperty(e,cn,{})}function Mi(e){return e&&cn in e}function Li(e,t){return new Promise((r,n)=>{t=document.createElement("script"),t.onload=r,t.onerror=()=>n(Ee(new Error(`Failed to load script: ${e}`))),t.crossOrigin={}.__NEXT_CROSS_ORIGIN,t.src=e,document.body.appendChild(t)})}function Yt(e,t,r){return new Promise((n,i)=>{let o=!1;e.then(l=>{o=!0,n(l)}).catch(i),ln.requestIdleCallback(()=>setTimeout(()=>{o||i(r)},t))})}function dn(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);const e=new Promise(t=>{const r=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{t(self.__BUILD_MANIFEST),r&&r()}});return Yt(e,Kt,Ee(new Error("Failed to load client build manifest")))}function Ai(){if(self.__MIDDLEWARE_MANIFEST)return Promise.resolve(self.__MIDDLEWARE_MANIFEST);const e=new Promise(t=>{const r=self.__MIDDLEWARE_MANIFEST_CB;self.__MIDDLEWARE_MANIFEST_CB=()=>{t(self.__MIDDLEWARE_MANIFEST),r&&r()}});return Yt(e,Kt,Ee(new Error("Failed to load client middleware manifest")))}function un(e,t){return dn().then(r=>{if(!(t in r))throw Ee(new Error(`Failed to lookup route: ${t}`));const n=r[t].map(i=>e+"/_next/"+encodeURI(i));return{scripts:n.filter(i=>i.endsWith(".js")),css:n.filter(i=>i.endsWith(".css"))}})}function ji(e){const t=new Map,r=new Map,n=new Map,i=new Map;function o(s){{let c=r.get(s);return c||(document.querySelector(`script[src^="${s}"]`)?Promise.resolve():(r.set(s,c=Li(s)),c))}}function l(s){let c=n.get(s);return c||(n.set(s,c=fetch(s).then(d=>{if(!d.ok)throw new Error(`Failed to load stylesheet: ${s}`);return d.text().then(h=>({href:s,content:h}))}).catch(d=>{throw Ee(d)})),c)}return{whenEntrypoint(s){return sn(s,t)},onEntrypoint(s,c){(c?Promise.resolve().then(()=>c()).then(d=>({component:d&&d.default||d,exports:d}),d=>({error:d})):Promise.resolve(void 0)).then(d=>{const h=t.get(s);h&&"resolve"in h?d&&(t.set(s,d),h.resolve(d)):(d?t.set(s,d):t.delete(s),i.delete(s))})},loadRoute(s,c){return sn(s,i,()=>Yt(un(e,s).then(({scripts:d,css:h})=>Promise.all([t.has(s)?[]:Promise.all(d.map(o)),Promise.all(h.map(l))])).then(d=>this.whenEntrypoint(s).then(h=>({entrypoint:h,styles:d[1]}))),Kt,Ee(new Error(`Route did not complete loading: ${s}`))).then(({entrypoint:d,styles:h})=>{const v=Object.assign({styles:h},d);return"error"in d?d:v}).catch(d=>{if(c)throw d;return{error:d}}).finally(()=>{}))},prefetch(s){let c;return(c=navigator.connection)&&(c.saveData||/2g/.test(c.effectiveType))?Promise.resolve():un(e,s).then(d=>Promise.all(Oi?d.scripts.map(h=>Ti(h,"script")):[])).then(()=>{ln.requestIdleCallback(()=>this.loadRoute(s,!0).catch(()=>{}))}).catch(()=>{})}}}var Ke={},mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.getObjectClassLabel=hn,mt.isPlainObject=ki;function hn(e){return Object.prototype.toString.call(e)}function ki(e){if(hn(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=fn,Ke.getProperError=Hi;var Fi=mt;function fn(e){return typeof e=="object"&&e!==null&&"name"in e&&"message"in e}function Hi(e){return fn(e)?e:new Error(Fi.isPlainObject(e)?JSON.stringify(e):e+"")}var pt={},mn={},gt={},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.getParametrizedRoute=vn,je.getRouteRegex=zi;function pn(e){return e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")}function gn(e){const t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));const r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function vn(e){const t=(e.replace(/\/$/,"")||"/").slice(1).split("/"),r={};let n=1;const i=t.map(o=>{if(o.startsWith("[")&&o.endsWith("]")){const{key:l,optional:s,repeat:c}=gn(o.slice(1,-1));return r[l]={pos:n++,repeat:c,optional:s},c?s?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}else return`/${pn(o)}`}).join("");if(typeof window=="undefined"){let o=97,l=1;const s=()=>{let h="";for(let v=0;v<l;v++)h+=String.fromCharCode(o),o++,o>122&&(l++,o=97);return h},c={};let d=t.map(h=>{if(h.startsWith("[")&&h.endsWith("]")){const{key:v,optional:y,repeat:p}=gn(h.slice(1,-1));let b=v.replace(/\W/g,""),S=!1;return(b.length===0||b.length>30)&&(S=!0),isNaN(parseInt(b.substr(0,1)))||(S=!0),S&&(b=s()),c[b]=v,p?y?`(?:/(?<${b}>.+?))?`:`/(?<${b}>.+?)`:`/(?<${b}>[^/]+?)`}else return`/${pn(h)}`}).join("");return{parameterizedRoute:i,namedParameterizedRoute:d,groups:r,routeKeys:c}}return{parameterizedRoute:i,groups:r}}function zi(e){const t=vn(e);return"routeKeys"in t?{re:new RegExp(`^${t.parameterizedRoute}(?:/)?$`),groups:t.groups,routeKeys:t.routeKeys,namedRegex:`^${t.namedParameterizedRoute}(?:/)?$`}:{re:new RegExp(`^${t.parameterizedRoute}(?:/)?$`),groups:t.groups}}Object.defineProperty(gt,"__esModule",{value:!0}),gt.getMiddlewareRegex=Wi;var Ui=je;function Wi(e,t=!0){const r=Ui.getParametrizedRoute(e);let n=t?"(?!_next).*":"",i=t?"(?:(/.*)?)":"";return"routeKeys"in r?r.parameterizedRoute==="/"?{groups:{},namedRegex:`^/${n}$`,re:new RegExp(`^/${n}$`),routeKeys:{}}:{groups:r.groups,namedRegex:`^${r.namedParameterizedRoute}${i}$`,re:new RegExp(`^${r.parameterizedRoute}${i}$`),routeKeys:r.routeKeys}:r.parameterizedRoute==="/"?{groups:{},re:new RegExp(`^/${n}$`)}:{groups:{},re:new RegExp(`^${r.parameterizedRoute}${i}$`)}}var vt={},q={},Qt={},_e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.searchParamsToUrlQuery=qi,_e.urlQueryToSearchParams=Vi,_e.assign=Bi;function qi(e){const t={};return e.forEach((r,n)=>{typeof t[n]=="undefined"?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t}function yn(e){return typeof e=="string"||typeof e=="number"&&!isNaN(e)||typeof e=="boolean"?String(e):""}function Vi(e){const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{Array.isArray(n)?n.forEach(i=>t.append(r,yn(i))):t.set(r,yn(n))}),t}function Bi(e,...t){return t.forEach(r=>{Array.from(r.keys()).forEach(n=>e.delete(n)),r.forEach((n,i)=>e.append(i,n))}),e}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.formatUrl=Ki;var Gi=Xi(_e);function Xi(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}const Zi=/https?|ftp|gopher|file/;function Ki(e){let{auth:t,hostname:r}=e,n=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",s=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?s=t+e.host:r&&(s=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(s+=":"+e.port)),l&&typeof l=="object"&&(l=String(Gi.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&n.substr(-1)!==":"&&(n+=":"),e.slashes||(!n||Zi.test(n))&&s!==!1?(s="//"+(s||""),i&&i[0]!=="/"&&(i="/"+i)):s||(s=""),o&&o[0]!=="#"&&(o="#"+o),c&&c[0]!=="?"&&(c="?"+c),i=i.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${s}${i}${c}${o}`}Object.defineProperty(q,"__esModule",{value:!0}),q.execOnce=Ji,q.getLocationOrigin=_n,q.getURL=eo,q.getDisplayName=xn,q.isResSent=bn,q.normalizeRepeatedSlashes=to,q.loadGetInitialProps=wn,q.formatWithValidation=no,q.HtmlContext=q.ST=q.SP=q.urlObjectKeys=void 0;var Yi=V.default,Qi=Qt;function Ji(e){let t=!1,r;return(...n)=>(t||(t=!0,r=e(...n)),r)}function _n(){const{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function eo(){const{href:e}=window.location,t=_n();return e.substring(t.length)}function xn(e){return typeof e=="string"?e:e.displayName||e.name||"Unknown"}function bn(e){return e.finished||e.headersSent}function to(e){const t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function wn(e,t){const r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await wn(t.Component,t.ctx)}:{};const n=await e.getInitialProps(t);if(r&&bn(r))return n;if(!n){const i=`"${xn(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`;throw new Error(i)}return n}const ro=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];q.urlObjectKeys=ro;function no(e){return Qi.formatUrl(e)}const Pn=typeof performance!="undefined";q.SP=Pn;const ao=Pn&&typeof performance.mark=="function"&&typeof performance.measure=="function";q.ST=ao;class io extends Error{}q.DecodeError=io;const oo=Yi.createContext(null);q.HtmlContext=oo,Object.defineProperty(vt,"__esModule",{value:!0}),vt.getRouteMatcher=so;var lo=q;function so(e){const{re:t,groups:r}=e;return n=>{const i=t.exec(n);if(!i)return!1;const o=s=>{try{return decodeURIComponent(s)}catch{throw new lo.DecodeError("failed to decode param")}},l={};return Object.keys(r).forEach(s=>{const c=r[s],d=i[c.pos];d!==void 0&&(l[s]=~d.indexOf("/")?d.split("/").map(h=>o(h)):c.repeat?[o(d)]:o(d))}),l}}var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.getSortedRoutes=co;class er{insert(t){this._insert(t.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(t="/"){const r=[...this.children.keys()].sort();this.slugName!==null&&r.splice(r.indexOf("[]"),1),this.restSlugName!==null&&r.splice(r.indexOf("[...]"),1),this.optionalRestSlugName!==null&&r.splice(r.indexOf("[[...]]"),1);const n=r.map(i=>this.children.get(i)._smoosh(`${t}${i}/`)).reduce((i,o)=>[...i,...o],[]);if(this.slugName!==null&&n.push(...this.children.get("[]")._smoosh(`${t}[${this.slugName}]/`)),!this.placeholder){const i=t==="/"?"/":t.slice(0,-1);if(this.optionalRestSlugName!=null)throw new Error(`You cannot define a route with the same specificity as a optional catch-all route ("${i}" and "${i}[[...${this.optionalRestSlugName}]]").`);n.unshift(i)}return this.restSlugName!==null&&n.push(...this.children.get("[...]")._smoosh(`${t}[...${this.restSlugName}]/`)),this.optionalRestSlugName!==null&&n.push(...this.children.get("[[...]]")._smoosh(`${t}[[...${this.optionalRestSlugName}]]/`)),n}_insert(t,r,n){if(t.length===0){this.placeholder=!1;return}if(n)throw new Error("Catch-all must be the last part of the URL.");let i=t[0];if(i.startsWith("[")&&i.endsWith("]")){let s=function(c,d){if(c!==null&&c!==d)throw new Error(`You cannot use different slug names for the same dynamic path ('${c}' !== '${d}').`);r.forEach(h=>{if(h===d)throw new Error(`You cannot have the same slug name "${d}" repeat within a single dynamic path`);if(h.replace(/\W/g,"")===i.replace(/\W/g,""))throw new Error(`You cannot have the slug names "${h}" and "${d}" differ only by non-word symbols within a single dynamic path`)}),r.push(d)},o=i.slice(1,-1),l=!1;if(o.startsWith("[")&&o.endsWith("]")&&(o=o.slice(1,-1),l=!0),o.startsWith("...")&&(o=o.substring(3),n=!0),o.startsWith("[")||o.endsWith("]"))throw new Error(`Segment names may not start or end with extra brackets ('${o}').`);if(o.startsWith("."))throw new Error(`Segment names may not start with erroneous periods ('${o}').`);if(n)if(l){if(this.restSlugName!=null)throw new Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${t[0]}" ).`);s(this.optionalRestSlugName,o),this.optionalRestSlugName=o,i="[[...]]"}else{if(this.optionalRestSlugName!=null)throw new Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${t[0]}").`);s(this.restSlugName,o),this.restSlugName=o,i="[...]"}else{if(l)throw new Error(`Optional route parameters are not yet supported ("${t[0]}").`);s(this.slugName,o),this.slugName=o,i="[]"}}this.children.has(i)||this.children.set(i,new er),this.children.get(i)._insert(t.slice(1),r,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function co(e){const t=new er;return e.forEach(r=>t.insert(r)),t.smoosh()}var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.isDynamicRoute=ho;const uo=/\/\[[^/]+?\](?=\/|$)/;function ho(e){return uo.test(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getMiddlewareRegex",{enumerable:!0,get:function(){return t.getMiddlewareRegex}}),Object.defineProperty(e,"getRouteMatcher",{enumerable:!0,get:function(){return r.getRouteMatcher}}),Object.defineProperty(e,"getRouteRegex",{enumerable:!0,get:function(){return n.getRouteRegex}}),Object.defineProperty(e,"getSortedRoutes",{enumerable:!0,get:function(){return i.getSortedRoutes}}),Object.defineProperty(e,"isDynamicRoute",{enumerable:!0,get:function(){return o.isDynamicRoute}});var t=gt,r=vt,n=je,i=Jt,o=yt})(mn),Object.defineProperty(pt,"__esModule",{value:!0}),pt.normalizePathSep=Nn,pt.denormalizePagePath=mo;var fo=mn;function Nn(e){return e.replace(/\\/g,"/")}function mo(e){return e=Nn(e),e.startsWith("/index/")&&!fo.isDynamicRoute(e)?e=e.slice(6):e==="/index"&&(e="/"),e}var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.normalizeLocalePath=po;function po(e,t){let r;const n=e.split("/");return(t||[]).some(i=>n[1]&&n[1].toLowerCase()===i.toLowerCase()?(r=i,n.splice(1,1),e=n.join("/")||"/",!0):!1),{pathname:e,detectedLocale:r}}var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=go;function go(){const e=Object.create(null);return{on(t,r){(e[t]||(e[t]=[])).push(r)},off(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit(t,...r){(e[t]||[]).slice().map(n=>{n(...r)})}}}var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.parseRelativeUrl=_o;var vo=q,yo=_e;function _o(e,t){const r=new URL(typeof window=="undefined"?"http://n":vo.getLocationOrigin()),n=t?new URL(t,r):r,{pathname:i,searchParams:o,search:l,hash:s,href:c,origin:d}=new URL(e,n);if(d!==r.origin)throw new Error(`invariant: invalid relative URL, router received ${e}`);return{pathname:i,query:yo.searchParamsToUrlQuery(o),search:l,hash:s,href:c.slice(r.origin.length)}}var rr={},de={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});function xo(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var i="",o=r+1;o<e.length;){var l=e.charCodeAt(o);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){i+=e[o++];continue}break}if(!i)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=o;continue}if(n==="("){var s=1,c="",o=r+1;if(e[o]==="?")throw new TypeError('Pattern cannot start with "?" at '+o);for(;o<e.length;){if(e[o]==="\\"){c+=e[o++]+e[o++];continue}if(e[o]===")"){if(s--,s===0){o++;break}}else if(e[o]==="("&&(s++,e[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+o);c+=e[o++]}if(s)throw new TypeError("Unbalanced pattern at "+r);if(!c)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:c}),r=o;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function nr(e,t){t===void 0&&(t={});for(var r=xo(e),n=t.prefixes,i=n===void 0?"./":n,o="[^"+ke(t.delimiter||"/#?")+"]+?",l=[],s=0,c=0,d="",h=function(M){if(c<r.length&&r[c].type===M)return r[c++].value},v=function(M){var H=h(M);if(H!==void 0)return H;var E=r[c],j=E.type,B=E.index;throw new TypeError("Unexpected "+j+" at "+B+", expected "+M)},y=function(){for(var M="",H;H=h("CHAR")||h("ESCAPED_CHAR");)M+=H;return M};c<r.length;){var p=h("CHAR"),b=h("NAME"),S=h("PATTERN");if(b||S){var f=p||"";i.indexOf(f)===-1&&(d+=f,f=""),d&&(l.push(d),d=""),l.push({name:b||s++,prefix:f,suffix:"",pattern:S||o,modifier:h("MODIFIER")||""});continue}var N=p||h("ESCAPED_CHAR");if(N){d+=N;continue}d&&(l.push(d),d="");var $=h("OPEN");if($){var f=y(),w=h("NAME")||"",O=h("PATTERN")||"",T=y();v("CLOSE"),l.push({name:w||(O?s++:""),pattern:w&&!O?o:O,prefix:f,suffix:T,modifier:h("MODIFIER")||""});continue}v("END")}return l}ue.parse=nr;function bo(e,t){return Sn(nr(e,t),t)}ue.compile=bo;function Sn(e,t){t===void 0&&(t={});var r=ar(t),n=t.encode,i=n===void 0?function(c){return c}:n,o=t.validate,l=o===void 0?!0:o,s=e.map(function(c){if(typeof c=="object")return new RegExp("^(?:"+c.pattern+")$",r)});return function(c){for(var d="",h=0;h<e.length;h++){var v=e[h];if(typeof v=="string"){d+=v;continue}var y=c?c[v.name]:void 0,p=v.modifier==="?"||v.modifier==="*",b=v.modifier==="*"||v.modifier==="+";if(Array.isArray(y)){if(!b)throw new TypeError('Expected "'+v.name+'" to not repeat, but got an array');if(y.length===0){if(p)continue;throw new TypeError('Expected "'+v.name+'" to not be empty')}for(var S=0;S<y.length;S++){var f=i(y[S],v);if(l&&!s[h].test(f))throw new TypeError('Expected all "'+v.name+'" to match "'+v.pattern+'", but got "'+f+'"');d+=v.prefix+f+v.suffix}continue}if(typeof y=="string"||typeof y=="number"){var f=i(String(y),v);if(l&&!s[h].test(f))throw new TypeError('Expected "'+v.name+'" to match "'+v.pattern+'", but got "'+f+'"');d+=v.prefix+f+v.suffix;continue}if(!p){var N=b?"an array":"a string";throw new TypeError('Expected "'+v.name+'" to be '+N)}}return d}}ue.tokensToFunction=Sn;function wo(e,t){var r=[],n=ir(e,r,t);return Cn(n,r,t)}ue.match=wo;function Cn(e,t,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(o){return o}:n;return function(o){var l=e.exec(o);if(!l)return!1;for(var s=l[0],c=l.index,d=Object.create(null),h=function(y){if(l[y]===void 0)return"continue";var p=t[y-1];p.modifier==="*"||p.modifier==="+"?d[p.name]=l[y].split(p.prefix+p.suffix).map(function(b){return i(b,p)}):d[p.name]=i(l[y],p)},v=1;v<l.length;v++)h(v);return{path:s,index:c,params:d}}}ue.regexpToFunction=Cn;function ke(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ar(e){return e&&e.sensitive?"":"i"}function Po(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}function No(e,t,r){var n=e.map(function(i){return ir(i,t,r).source});return new RegExp("(?:"+n.join("|")+")",ar(r))}function So(e,t,r){return Rn(nr(e,r),t,r)}function Rn(e,t,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,o=r.start,l=o===void 0?!0:o,s=r.end,c=s===void 0?!0:s,d=r.encode,h=d===void 0?function(M){return M}:d,v="["+ke(r.endsWith||"")+"]|$",y="["+ke(r.delimiter||"/#?")+"]",p=l?"^":"",b=0,S=e;b<S.length;b++){var f=S[b];if(typeof f=="string")p+=ke(h(f));else{var N=ke(h(f.prefix)),$=ke(h(f.suffix));if(f.pattern)if(t&&t.push(f),N||$)if(f.modifier==="+"||f.modifier==="*"){var w=f.modifier==="*"?"?":"";p+="(?:"+N+"((?:"+f.pattern+")(?:"+$+N+"(?:"+f.pattern+"))*)"+$+")"+w}else p+="(?:"+N+"("+f.pattern+")"+$+")"+f.modifier;else p+="("+f.pattern+")"+f.modifier;else p+="(?:"+N+$+")"+f.modifier}}if(c)i||(p+=y+"?"),p+=r.endsWith?"(?="+v+")":"$";else{var O=e[e.length-1],T=typeof O=="string"?y.indexOf(O[O.length-1])>-1:O===void 0;i||(p+="(?:"+y+"(?="+v+"))?"),T||(p+="(?="+y+"|"+v+")")}return new RegExp(p,ar(r))}ue.tokensToRegexp=Rn;function ir(e,t,r){return e instanceof RegExp?Po(e,t):Array.isArray(e)?No(e,t,r):So(e,t,r)}ue.pathToRegexp=ir,Object.defineProperty(de,"__esModule",{value:!0}),de.default=de.customRouteMatcherOptions=de.matcherOptions=de.pathToRegexp=void 0;var or=Co(ue);function Co(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}de.pathToRegexp=or;const lr={sensitive:!1,delimiter:"/"};de.matcherOptions=lr;const En=I(g({},lr),{strict:!0});de.customRouteMatcherOptions=En;var Ro=(e=!1)=>(t,r)=>{const n=[];let i=or.pathToRegexp(t,n,e?En:lr);if(r){const l=r(i.source);i=new RegExp(l,i.flags)}const o=or.regexpToFunction(i,n);return(l,s)=>{const c=l==null?!1:o(l);if(!c)return!1;if(e)for(const d of n)typeof d.name=="number"&&delete c.params[d.name];return g(g({},s),c.params)}};de.default=Ro;var Qe={},sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.escapeStringRegexp=Eo;function Eo(e){return e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")}var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.parseUrl=$o;var Io=_e,Do=Ye;function $o(e){if(e.startsWith("/"))return Do.parseRelativeUrl(e);const t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:Io.searchParamsToUrlQuery(t.searchParams),search:t.search}}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.matchHas=Mo,Qe.compileNonPath=dr,Qe.prepareDestination=Lo;var Je=ue,Oo=sr,To=cr;function Mo(e,t,r){const n={};return t.every(o=>{let l,s=o.key;switch(o.type){case"header":{s=s.toLowerCase(),l=e.headers[s];break}case"cookie":{l=e.cookies[o.key];break}case"query":{l=r[s];break}case"host":{const{host:c}=(e==null?void 0:e.headers)||{};l=c==null?void 0:c.split(":")[0].toLowerCase();break}}if(!o.value&&l)return n[Ao(s)]=l,!0;if(l){const c=new RegExp(`^${o.value}$`),d=Array.isArray(l)?l.slice(-1)[0].match(c):l.match(c);if(d)return Array.isArray(d)&&(d.groups?Object.keys(d.groups).forEach(h=>{n[h]=d.groups[h]}):o.type==="host"&&d[0]&&(n.host=d[0])),!0}return!1})?n:!1}function dr(e,t){if(!e.includes(":"))return e;for(const r of Object.keys(t))e.includes(`:${r}`)&&(e=e.replace(new RegExp(`:${r}\\*`,"g"),`:${r}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${r}\\?`,"g"),`:${r}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${r}\\+`,"g"),`:${r}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${r}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${r}`));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),Je.compile(`/${e}`,{validate:!1})(t).substr(1)}function Lo(e){const t=Object.assign({},e.query);delete t.__nextLocale,delete t.__nextDefaultLocale;let r=e.destination;for(const b of Object.keys(g(g({},e.params),t)))r=jo(r,b);const n=To.parseUrl(r),i=n.query,o=xt(`${n.pathname}${n.hash||""}`),l=xt(n.hostname||""),s=[],c=[];Je.pathToRegexp(o,s),Je.pathToRegexp(l,c);const d=[];s.forEach(b=>d.push(b.name)),c.forEach(b=>d.push(b.name));const h=Je.compile(o,{validate:!1}),v=Je.compile(l,{validate:!1});for(const[b,S]of Object.entries(i))Array.isArray(S)?i[b]=S.map(f=>dr(xt(f),e.params)):i[b]=dr(xt(S),e.params);let y=Object.keys(e.params).filter(b=>b!=="nextInternalLocale");if(e.appendParamsToQuery&&!y.some(b=>d.includes(b)))for(const b of y)b in i||(i[b]=e.params[b]);let p;try{p=h(e.params);const[b,S]=p.split("#");n.hostname=v(e.params),n.pathname=b,n.hash=`${S?"#":""}${S||""}`,delete n.search}catch(b){throw b.message.match(/Expected .*? to not repeat, but got an array/)?new Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"):b}return n.query=g(g({},t),n.query),{newUrl:p,parsedDestination:n}}function Ao(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}function jo(e,t){return e.replace(new RegExp(`:${Oo.escapeStringRegexp(t)}`,"g"),`__ESC_COLON_${t}`)}function xt(e){return e.replace(/__ESC_COLON_/gi,":")}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=Uo;var ko=Ho(de),In=Qe,Dn=Le,$n=_t,Fo=Ye,On=Q;function Ho(e){return e&&e.__esModule?e:{default:e}}const zo=ko.default(!0);function Uo(e,t,r,n,i,o){let l=!1,s=!1,c=Fo.parseRelativeUrl(e),d=Dn.removePathTrailingSlash($n.normalizeLocalePath(On.delBasePath(c.pathname),o).pathname),h;const v=p=>{let S=zo(p.source)(c.pathname);if(p.has&&S){const f=In.matchHas({headers:{host:document.location.hostname},cookies:document.cookie.split("; ").reduce((N,$)=>{const[w,...O]=$.split("=");return N[w]=O.join("="),N},{})},p.has,c.query);f?Object.assign(S,f):S=!1}if(S){if(!p.destination)return s=!0,!0;const f=In.prepareDestination({appendParamsToQuery:!0,destination:p.destination,params:S,query:n});if(c=f.parsedDestination,e=f.newUrl,Object.assign(n,f.parsedDestination.query),d=Dn.removePathTrailingSlash($n.normalizeLocalePath(On.delBasePath(e),o).pathname),t.includes(d))return l=!0,h=d,!0;if(h=i(d),h!==e&&t.includes(h))return l=!0,!0}};let y=!1;for(let p=0;p<r.beforeFiles.length;p++)y=v(r.beforeFiles[p])||!1;if(l=t.includes(d),!l){if(!y){for(let p=0;p<r.afterFiles.length;p++)if(v(r.afterFiles[p])){y=!0;break}}if(y||(h=i(d),l=t.includes(h),y=l),!y){for(let p=0;p<r.fallback.length;p++)if(v(r.fallback[p])){y=!0;break}}}return{asPath:e,parsedAs:c,matchedPage:l,resolvedHref:h,externalDest:s}}var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.detectDomainLocale=Wo;function Wo(e,t,r){let n;if(e){r&&(r=r.toLowerCase());for(const l of e){var i,o;const s=(i=l.domain)===null||i===void 0?void 0:i.split(":")[0].toLowerCase();if(t===s||r===l.defaultLocale.toLowerCase()||((o=l.locales)===null||o===void 0?void 0:o.some(c=>c.toLowerCase()===r))){n=l;break}}}return n}Object.defineProperty(Q,"__esModule",{value:!0}),Q.getDomainLocale=Zo,Q.addLocale=tt,Q.delLocale=rt,Q.hasBasePath=fe,Q.addBasePath=Y,Q.delBasePath=ne,Q.isLocalURL=Pt,Q.interpolateAs=pr,Q.resolveHref=gr,Q.default=void 0;var oe=Le,bt=Re,hr=Xo(Ke),qo=pt,Ie=_t,Vo=Mn(tr),F=q,et=yt,xe=Ye,Bo=_e,Tn=Mn(rr),fr=vt,mr=je,Go=gt;function Mn(e){return e&&e.__esModule?e:{default:e}}function Xo(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}let wt;({}).__NEXT_I18N_SUPPORT&&(wt=ur.detectDomainLocale);const Fe={}.__NEXT_ROUTER_BASEPATH||"";function Ln(){return Object.assign(new Error("Route Cancelled"),{cancelled:!0})}function An(e,t){if(!e.startsWith("/")||!t)return e;const r=He(e);return oe.normalizePathTrailingSlash(`${t}${r}`)+e.substr(r.length)}function Zo(e,t,r,n){if({}.__NEXT_I18N_SUPPORT){t=t||Ie.normalizeLocalePath(e,r).detectedLocale;const i=wt(n,void 0,t);return i?`http${i.http?"":"s"}://${i.domain}${Fe||""}${t===i.defaultLocale?"":`/${t}`}${e}`:!1}else return!1}function tt(e,t,r){if({}.__NEXT_I18N_SUPPORT){const i=He(e).toLowerCase(),o=t&&t.toLowerCase();return t&&t!==r&&!i.startsWith("/"+o+"/")&&i!=="/"+o?An(e,"/"+t):e}return e}function rt(e,t){if({}.__NEXT_I18N_SUPPORT){const r=He(e),n=r.toLowerCase(),i=t&&t.toLowerCase();return t&&(n.startsWith("/"+i+"/")||n==="/"+i)?(r.length===t.length+1?"/":"")+e.substr(t.length+1):e}return e}function He(e){const t=e.indexOf("?"),r=e.indexOf("#");return(t>-1||r>-1)&&(e=e.substring(0,t>-1?t:r)),e}function fe(e){return e=He(e),e===Fe||e.startsWith(Fe+"/")}function Y(e){return An(e,Fe)}function ne(e){return e=e.slice(Fe.length),e.startsWith("/")||(e=`/${e}`),e}function Pt(e){if(e.startsWith("/")||e.startsWith("#")||e.startsWith("?"))return!0;try{const t=F.getLocationOrigin(),r=new URL(e,t);return r.origin===t&&fe(r.pathname)}catch{return!1}}function pr(e,t,r){let n="";const i=mr.getRouteRegex(e),o=i.groups,l=(t!==e?fr.getRouteMatcher(i)(t):"")||r;n=e;const s=Object.keys(o);return s.every(c=>{let d=l[c]||"";const{repeat:h,optional:v}=o[c];let y=`[${h?"...":""}${c}]`;return v&&(y=`${d?"":"/"}[${y}]`),h&&!Array.isArray(d)&&(d=[d]),(v||c in l)&&(n=n.replace(y,h?d.map(p=>encodeURIComponent(p)).join("/"):encodeURIComponent(d))||"/")})||(n=""),{params:s,result:n}}function jn(e,t){const r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}function gr(e,t,r){let n,i=typeof t=="string"?t:F.formatWithValidation(t);const o=i.match(/^[a-zA-Z]{1,}:\/\//),l=o?i.substr(o[0].length):i;if((l.split("?")[0]||"").match(/(\/\/|\\)/)){console.error(`Invalid href passed to next/router: ${i}, repeated forward-slashes (//) or backslashes \\ are not valid in the href`);const c=F.normalizeRepeatedSlashes(l);i=(o?o[0]:"")+c}if(!Pt(i))return r?[i]:i;try{n=new URL(i.startsWith("#")?e.asPath:e.pathname,"http://n")}catch{n=new URL("/","http://n")}try{const c=new URL(i,n);c.pathname=oe.normalizePathTrailingSlash(c.pathname);let d="";if(et.isDynamicRoute(c.pathname)&&c.searchParams&&r){const v=Bo.searchParamsToUrlQuery(c.searchParams),{result:y,params:p}=pr(c.pathname,c.pathname,v);y&&(d=F.formatWithValidation({pathname:y,hash:c.hash,query:jn(v,p)}))}const h=c.origin===n.origin?c.href.slice(c.origin.length):c.href;return r?[h,d||h]:h}catch{return r?[i]:i}}function vr(e){const t=F.getLocationOrigin();return e.startsWith(t)?e.substring(t.length):e}function Nt(e,t,r){let[n,i]=gr(e,t,!0);const o=F.getLocationOrigin(),l=n.startsWith(o),s=i&&i.startsWith(o);n=vr(n),i=i&&vr(i);const c=l?n:Y(n),d=r?vr(gr(e,r)):i||n;return{url:c,as:s?d:Y(d)}}function ze(e,t){const r=oe.removePathTrailingSlash(qo.denormalizePagePath(e));return r==="/404"||r==="/_error"?e:(t.includes(r)||t.some(n=>{if(et.isDynamicRoute(n)&&mr.getRouteRegex(n).re.test(r))return e=n,!0}),oe.removePathTrailingSlash(e))}const yr={}.__NEXT_SCROLL_RESTORATION&&typeof window!="undefined"&&"scrollRestoration"in window.history&&!!function(){try{let e="__next";return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch{}}(),kn=Symbol("SSG_DATA_NOT_FOUND");function Fn(e,t,r){return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok){if(t>1&&n.status>=500)return Fn(e,t-1,r);if(n.status===404)return n.json().then(i=>{if(i.notFound)return{notFound:kn};throw new Error("Failed to load static props")});throw new Error("Failed to load static props")}return r.text?n.text():n.json()})}function _r(e,t,r,n,i){const{href:o}=new URL(e,window.location.href);return n[o]!==void 0?n[o]:n[o]=Fn(e,t?3:1,{text:r}).catch(l=>{throw t||bt.markAssetError(l),l}).then(l=>(i||delete n[o],l)).catch(l=>{throw delete n[o],l})}class ae{constructor(t,r,n,{initialProps:i,pageLoader:o,App:l,wrapApp:s,Component:c,err:d,subscription:h,isFallback:v,locale:y,locales:p,defaultLocale:b,domainLocales:S,isPreview:f}){this.sdc={},this.sdr={},this.sde={},this._idx=0,this.onPopState=O=>{const T=O.state;if(!T){const{pathname:J,query:De}=this;this.changeState("replaceState",F.formatWithValidation({pathname:Y(J),query:De}),F.getURL());return}if(!T.__N)return;let M;const{url:H,as:E,options:j,idx:B}=T;if({}.__NEXT_SCROLL_RESTORATION&&yr&&this._idx!==B){try{sessionStorage.setItem("__next_scroll_"+this._idx,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch{}try{const J=sessionStorage.getItem("__next_scroll_"+B);M=JSON.parse(J)}catch{M={x:0,y:0}}}this._idx=B;const{pathname:U}=xe.parseRelativeUrl(H);this.isSsr&&E===Y(this.asPath)&&U===Y(this.pathname)||this._bps&&!this._bps(T)||this.change("replaceState",H,E,Object.assign({},j,{shallow:j.shallow&&this._shallow,locale:j.locale||this.defaultLocale}),M)};const N=oe.removePathTrailingSlash(t);if(this.components={},t!=="/_error"){var $;this.components[N]={Component:c,initial:!0,props:i,err:d,__N_SSG:i&&i.__N_SSG,__N_SSP:i&&i.__N_SSP,__N_RSC:!!(!(($=c)===null||$===void 0)&&$.__next_rsc__)}}this.components["/_app"]={Component:l,styleSheets:[]},this.events=ae.events,this.pageLoader=o;const w=et.isDynamicRoute(t)&&self.__NEXT_DATA__.autoExport;if(this.basePath=Fe,this.sub=h,this.clc=null,this._wrapApp=s,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp||!w&&!self.location.search&&!{}.__NEXT_HAS_REWRITES),{}.__NEXT_I18N_SUPPORT&&(this.locales=p,this.defaultLocale=b,this.domainLocales=S,this.isLocaleDomain=!!wt(S,self.location.hostname)),this.state={route:N,pathname:t,query:r,asPath:w?t:n,isPreview:!!f,locale:{}.__NEXT_I18N_SUPPORT?y:void 0,isFallback:v},typeof window!="undefined"){if(n.substr(0,2)!=="//"){const O={locale:y};O._shouldResolveHref=n!==t,this.changeState("replaceState",F.formatWithValidation({pathname:Y(t),query:r}),F.getURL(),O)}window.addEventListener("popstate",this.onPopState),{}.__NEXT_SCROLL_RESTORATION&&yr&&(window.history.scrollRestoration="manual")}}reload(){window.location.reload()}back(){window.history.back()}push(t,r,n={}){if({}.__NEXT_SCROLL_RESTORATION&&yr)try{sessionStorage.setItem("__next_scroll_"+this._idx,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch{}return{url:t,as:r}=Nt(this,t,r),this.change("pushState",t,r,n)}replace(t,r,n={}){return{url:t,as:r}=Nt(this,t,r),this.change("replaceState",t,r,n)}async change(t,r,n,i,o){if(!Pt(r))return window.location.href=r,!1;const l=i._h||i._shouldResolveHref||He(r)===He(n),s=g({},this.state);i._h&&(this.isReady=!0);const c=s.locale;if({}.__NEXT_I18N_SUPPORT){s.locale=i.locale===!1?this.defaultLocale:i.locale||s.locale,typeof i.locale=="undefined"&&(i.locale=s.locale);const E=xe.parseRelativeUrl(fe(n)?ne(n):n),j=Ie.normalizeLocalePath(E.pathname,this.locales);j.detectedLocale&&(s.locale=j.detectedLocale,E.pathname=Y(E.pathname),n=F.formatWithValidation(E),r=Y(Ie.normalizeLocalePath(fe(r)?ne(r):r,this.locales).pathname));let B=!1;if({}.__NEXT_I18N_SUPPORT){var d;!((d=this.locales)===null||d===void 0)&&d.includes(s.locale)||(E.pathname=tt(E.pathname,s.locale),window.location.href=F.formatWithValidation(E),B=!0)}const U=wt(this.domainLocales,void 0,s.locale);if({}.__NEXT_I18N_SUPPORT&&!B&&U&&this.isLocaleDomain&&self.location.hostname!==U.domain){const J=ne(n);window.location.href=`http${U.http?"":"s"}://${U.domain}${Y(`${s.locale===U.defaultLocale?"":`/${s.locale}`}${J==="/"?"":J}`||"/")}`,B=!0}if(B)return new Promise(()=>{})}i._h||(this.isSsr=!1),F.ST&&performance.mark("routeChange");const{shallow:h=!1,scroll:v=!0}=i,y={shallow:h};this._inFlightRoute&&this.abortComponentLoad(this._inFlightRoute,y),n=Y(tt(fe(n)?ne(n):n,i.locale,this.defaultLocale));const p=rt(fe(n)?ne(n):n,s.locale);this._inFlightRoute=n;let b=c!==s.locale;if(!i._h&&this.onlyAHashChange(p)&&!b)return s.asPath=p,ae.events.emit("hashChangeStart",n,y),this.changeState(t,r,n,I(g({},i),{scroll:!1})),v&&this.scrollToHash(p),this.set(s,this.components[s.route],null),ae.events.emit("hashChangeComplete",n,y),!0;let S=xe.parseRelativeUrl(r),{pathname:f,query:N}=S,$,w;try{[$,{__rewrites:w}]=await Promise.all([this.pageLoader.getPageList(),bt.getClientBuildManifest(),this.pageLoader.getMiddlewareList()])}catch{return window.location.href=n,!1}!this.urlIsNew(p)&&!b&&(t="replaceState");let O=n;if(f=f&&oe.removePathTrailingSlash(ne(f)),l&&f!=="/_error")if(i._shouldResolveHref=!0,{}.__NEXT_HAS_REWRITES&&n.startsWith("/")){const E=Tn.default(Y(tt(p,s.locale)),$,w,N,j=>ze(j,$),this.locales);if(E.externalDest)return location.href=n,!0;O=E.asPath,E.matchedPage&&E.resolvedHref&&(f=E.resolvedHref,S.pathname=Y(f),r=F.formatWithValidation(S))}else S.pathname=ze(f,$),S.pathname!==f&&(f=S.pathname,S.pathname=Y(f),r=F.formatWithValidation(S));if(!Pt(n))return window.location.href=n,!1;if(O=rt(ne(O),s.locale),i._h!==1||et.isDynamicRoute(oe.removePathTrailingSlash(f))){const E=await this._preflightRequest({as:n,cache:!0,pages:$,pathname:f,query:N,locale:s.locale,isPreview:s.isPreview});if(E.type==="rewrite")N=g(g({},N),E.parsedAs.query),O=E.asPath,f=E.resolvedHref,S.pathname=E.resolvedHref,r=F.formatWithValidation(S);else{if(E.type==="redirect"&&E.newAs)return this.change(t,E.newUrl,E.newAs,i);if(E.type==="redirect"&&E.destination)return window.location.href=E.destination,new Promise(()=>{});if(E.type==="refresh"&&n!==window.location.pathname)return window.location.href=n,new Promise(()=>{})}}const T=oe.removePathTrailingSlash(f);if(et.isDynamicRoute(T)){const E=xe.parseRelativeUrl(O),j=E.pathname,B=mr.getRouteRegex(T),U=fr.getRouteMatcher(B)(j),J=T===j,De=J?pr(T,j,N):{};if(!U||J&&!De.result){const Ot=Object.keys(B.groups).filter(da=>!N[da]);if(Ot.length>0)throw new Error((J?`The provided \`href\` (${r}) value is missing query values (${Ot.join(", ")}) to be interpolated properly. `:`The provided \`as\` value (${j}) is incompatible with the \`href\` value (${T}). `)+`Read more: https://nextjs.org/docs/messages/${J?"href-interpolation-failed":"incompatible-href-as"}`)}else J?n=F.formatWithValidation(Object.assign({},E,{pathname:De.result,query:jn(N,De.params)})):Object.assign(N,U)}ae.events.emit("routeChangeStart",n,y);try{var d,M;let j=await this.getRouteInfo(T,f,N,n,O,y,s.locale,s.isPreview),{error:B,props:U,__N_SSG:J,__N_SSP:De}=j;if((J||De)&&U){if(U.pageProps&&U.pageProps.__N_REDIRECT){const ee=U.pageProps.__N_REDIRECT;if(ee.startsWith("/")&&U.pageProps.__N_REDIRECT_BASE_PATH!==!1){const Dr=xe.parseRelativeUrl(ee);Dr.pathname=ze(Dr.pathname,$);const{url:tu,as:ru}=Nt(this,ee,ee);return this.change(t,tu,ru,i)}return window.location.href=ee,new Promise(()=>{})}if(s.isPreview=!!U.__N_PREVIEW,U.notFound===kn){let ee;try{await this.fetchComponent("/404"),ee="/404"}catch{ee="/_error"}j=await this.getRouteInfo(ee,ee,N,n,O,{shallow:!1},s.locale,s.isPreview)}}ae.events.emit("beforeHistoryChange",n,y),this.changeState(t,r,n,i),i._h&&f==="/_error"&&((d=self.__NEXT_DATA__.props)===null||d===void 0||(M=d.pageProps)===null||M===void 0?void 0:M.statusCode)===500&&(U==null?void 0:U.pageProps)&&(U.pageProps.statusCode=500);const Ot=i.shallow&&s.route===T;var H;const eu=((H=i.scroll)!==null&&H!==void 0?H:!Ot)?{x:0,y:0}:null;if(await this.set(I(g({},s),{route:T,pathname:f,query:N,asPath:p,isFallback:!1}),j,o!=null?o:eu).catch(ee=>{if(ee.cancelled)B=B||ee;else throw ee}),B)throw ae.events.emit("routeChangeError",B,p,y),B;return{}.__NEXT_I18N_SUPPORT&&s.locale&&(document.documentElement.lang=s.locale),ae.events.emit("routeChangeComplete",n,y),!0}catch(E){if(hr.default(E)&&E.cancelled)return!1;throw E}}changeState(t,r,n,i={}){(t!=="pushState"||F.getURL()!==n)&&(this._shallow=i.shallow,window.history[t]({url:r,as:n,options:i,__N:!0,idx:this._idx=t!=="pushState"?this._idx:this._idx+1},"",n))}async handleRouteInfoError(t,r,n,i,o,l){if(t.cancelled)throw t;if(bt.isAssetError(t)||l)throw ae.events.emit("routeChangeError",t,i,o),window.location.href=i,Ln();try{let s,c,d;(typeof s=="undefined"||typeof c=="undefined")&&({page:s,styleSheets:c}=await this.fetchComponent("/_error"));const h={props:d,Component:s,styleSheets:c,err:t,error:t};if(!h.props)try{h.props=await this.getInitialProps(s,{err:t,pathname:r,query:n})}catch(v){console.error("Error in error page `getInitialProps`: ",v),h.props={}}return h}catch(s){return this.handleRouteInfoError(hr.default(s)?s:new Error(s+""),r,n,i,o,!0)}}async getRouteInfo(t,r,n,i,o,l,s,c){try{const d=this.components[t];if(l.shallow&&d&&this.route===t)return d;let h;d&&!("initial"in d)&&(h=d);const v=h||await this.fetchComponent(t).then($=>({Component:$.page,styleSheets:$.styleSheets,__N_SSG:$.mod.__N_SSG,__N_SSP:$.mod.__N_SSP,__N_RSC:!!$.page.__next_rsc__})),{Component:y,__N_SSG:p,__N_SSP:b,__N_RSC:S}=v;let f;(p||b||S)&&(f=this.pageLoader.getDataHref({href:F.formatWithValidation({pathname:r,query:n}),asPath:o,ssg:p,rsc:S,locale:s}));const N=await this._getData(()=>p||b?_r(f,this.isSsr,!1,p?this.sdc:this.sdr,!!p&&!c):this.getInitialProps(y,{pathname:r,query:n,asPath:i,locale:s,locales:this.locales,defaultLocale:this.defaultLocale}));if(S){const{fresh:$,data:w}=await this._getData(()=>this._getFlightData(f));N.pageProps=Object.assign(N.pageProps,{__flight_serialized__:w,__flight_fresh__:$})}return v.props=N,this.components[t]=v,v}catch(d){return this.handleRouteInfoError(hr.getProperError(d),r,n,i,l)}}set(t,r,n){return this.state=t,this.sub(r,this.components["/_app"].Component,n)}beforePopState(t){this._bps=t}onlyAHashChange(t){if(!this.asPath)return!1;const[r,n]=this.asPath.split("#"),[i,o]=t.split("#");return o&&r===i&&n===o?!0:r!==i?!1:n!==o}scrollToHash(t){const[,r=""]=t.split("#");if(r===""||r==="top"){window.scrollTo(0,0);return}const n=document.getElementById(r);if(n){n.scrollIntoView();return}const i=document.getElementsByName(r)[0];i&&i.scrollIntoView()}urlIsNew(t){return this.asPath!==t}async prefetch(t,r=t,n={}){let i=xe.parseRelativeUrl(t),{pathname:o,query:l}=i;if({}.__NEXT_I18N_SUPPORT&&n.locale===!1){o=Ie.normalizeLocalePath(o,this.locales).pathname,i.pathname=o,t=F.formatWithValidation(i);let v=xe.parseRelativeUrl(r);const y=Ie.normalizeLocalePath(v.pathname,this.locales);v.pathname=y.pathname,n.locale=y.detectedLocale||this.defaultLocale,r=F.formatWithValidation(v)}const s=await this.pageLoader.getPageList();let c=r;if({}.__NEXT_HAS_REWRITES&&r.startsWith("/")){let v;({__rewrites:v}=await bt.getClientBuildManifest());const y=Tn.default(Y(tt(r,this.locale)),s,v,i.query,p=>ze(p,s),this.locales);if(y.externalDest)return;c=rt(ne(y.asPath),this.locale),y.matchedPage&&y.resolvedHref&&(o=y.resolvedHref,i.pathname=o,t=F.formatWithValidation(i))}else i.pathname=ze(i.pathname,s),i.pathname!==o&&(o=i.pathname,i.pathname=o,t=F.formatWithValidation(i));const d=await this._preflightRequest({as:Y(r),cache:!0,pages:s,pathname:o,query:l,locale:this.locale,isPreview:this.isPreview});d.type==="rewrite"&&(i.pathname=d.resolvedHref,o=d.resolvedHref,l=g(g({},l),d.parsedAs.query),c=d.asPath,t=F.formatWithValidation(i));const h=oe.removePathTrailingSlash(o);await Promise.all([this.pageLoader._isSsg(h).then(v=>v?_r(this.pageLoader.getDataHref({href:t,asPath:c,ssg:!0,locale:typeof n.locale!="undefined"?n.locale:this.locale}),!1,!1,this.sdc,!0):!1),this.pageLoader[n.priority?"loadPage":"prefetch"](h)])}async fetchComponent(t){let r=!1;const n=this.clc=()=>{r=!0},i=()=>{if(r){const o=new Error(`Abort fetching component for route: "${t}"`);throw o.cancelled=!0,o}n===this.clc&&(this.clc=null)};try{const o=await this.pageLoader.loadPage(t);return i(),o}catch(o){throw i(),o}}_getData(t){let r=!1;const n=()=>{r=!0};return this.clc=n,t().then(i=>{if(n===this.clc&&(this.clc=null),r){const o=new Error("Loading initial props cancelled");throw o.cancelled=!0,o}return i})}_getFlightData(t){return _r(t,!0,!0,this.sdc,!1).then(r=>({fresh:!0,data:r}))}async _preflightRequest(t){const r=rt(fe(t.as)?ne(t.as):t.as,t.locale);if(!(await this.pageLoader.getMiddlewareList()).some(([l,s])=>fr.getRouteMatcher(Go.getMiddlewareRegex(l,!s))(r)))return{type:"next"};const o=await this._getPreflightData({preflightHref:t.as,shouldCache:t.cache,isPreview:t.isPreview});if(o.rewrite){if(!o.rewrite.startsWith("/"))return{type:"redirect",destination:t.as};const l=xe.parseRelativeUrl(Ie.normalizeLocalePath(fe(o.rewrite)?ne(o.rewrite):o.rewrite,this.locales).pathname),s=oe.removePathTrailingSlash(l.pathname);let c,d;return t.pages.includes(s)?(c=!0,d=s):(d=ze(s,t.pages),d!==l.pathname&&t.pages.includes(d)&&(c=!0)),{type:"rewrite",asPath:l.pathname,parsedAs:l,matchedPage:c,resolvedHref:d}}if(o.redirect){if(o.redirect.startsWith("/")){const l=oe.removePathTrailingSlash(Ie.normalizeLocalePath(fe(o.redirect)?ne(o.redirect):o.redirect,this.locales).pathname),{url:s,as:c}=Nt(this,l,l);return{type:"redirect",newUrl:s,newAs:c}}return{type:"redirect",destination:o.redirect}}return o.refresh&&!o.ssr?{type:"refresh"}:{type:"next"}}_getPreflightData(t){const{preflightHref:r,shouldCache:n=!1,isPreview:i}=t,{href:o}=new URL(r,window.location.href);return!i&&n&&this.sde[o]?Promise.resolve(this.sde[o]):fetch(r,{method:"HEAD",credentials:"same-origin",headers:{"x-middleware-preflight":"1"}}).then(l=>{if(!l.ok)throw new Error("Failed to preflight request");return{cache:l.headers.get("x-middleware-cache"),redirect:l.headers.get("Location"),refresh:l.headers.has("x-middleware-refresh"),rewrite:l.headers.get("x-middleware-rewrite"),ssr:!!l.headers.get("x-middleware-ssr")}}).then(l=>(n&&l.cache!=="no-cache"&&(this.sde[o]=l),l)).catch(l=>{throw delete this.sde[o],l})}getInitialProps(t,r){const{Component:n}=this.components["/_app"],i=this._wrapApp(n);return r.AppTree=i,F.loadGetInitialProps(n,{AppTree:i,Component:t,router:this,ctx:r})}abortComponentLoad(t,r){this.clc&&(ae.events.emit("routeChangeError",Ln(),t,r),this.clc(),this.clc=null)}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}}ae.events=Vo.default(),Q.default=ae;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.RouterContext=void 0;var Ko=Yo(V.default);function Yo(e){return e&&e.__esModule?e:{default:e}}const Qo=Ko.default.createContext(null);St.RouterContext=Qo;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=rl;var Jo=tl(V.default),el=Gt;function tl(e){return e&&e.__esModule?e:{default:e}}function rl(e){function t(r){return Jo.default.createElement(e,Object.assign({router:el.useRouter()},r))}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return o.default}}),e.useRouter=p,e.createRouter=b,e.makePublicRouterInstance=S,e.default=void 0;var t=l(V.default),r=l(Q),n=St,i=l(Ke),o=l(xr);function l(f){return f&&f.__esModule?f:{default:f}}const s={router:null,readyCallbacks:[],ready(f){if(this.router)return f();typeof window!="undefined"&&this.readyCallbacks.push(f)}},c=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],d=["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"],h=["push","replace","reload","back","prefetch","beforePopState"];Object.defineProperty(s,"events",{get(){return r.default.events}}),c.forEach(f=>{Object.defineProperty(s,f,{get(){return v()[f]}})}),h.forEach(f=>{s[f]=(...N)=>v()[f](...N)}),d.forEach(f=>{s.ready(()=>{r.default.events.on(f,(...N)=>{const $=`on${f.charAt(0).toUpperCase()}${f.substring(1)}`,w=s;if(w[$])try{w[$](...N)}catch(O){console.error(`Error when running the Router event: ${$}`),console.error(i.default(O)?`${O.message}
${O.stack}`:O+"")}})})});function v(){if(!s.router){const f=`No router instance found.
You should only use "next/router" on the client side of your app.
`;throw new Error(f)}return s.router}var y=s;e.default=y;function p(){return t.default.useContext(n.RouterContext)}function b(...f){return s.router=new r.default(...f),s.readyCallbacks.forEach(N=>N()),s.readyCallbacks=[],s.router}function S(f){const N=f,$={};for(const w of c){if(typeof N[w]=="object"){$[w]=Object.assign(Array.isArray(N[w])?[]:{},N[w]);continue}$[w]=N[w]}return $.events=r.default.events,h.forEach(w=>{$[w]=(...O)=>N[w](...O)}),$}})(Gt);var br=Gt;function Ct(r){var n=r,{href:e}=n,t=P(n,["href"]);const i=br.useRouter(),o=_.useMemo(l=>i==null?void 0:i.asPath.startsWith(e),[e,i]);return u("li",{className:C.default("relative","z-0 hover:z-20","flex items-center","text-sm leading-none","font-medium","rounded-t-lg","transition-all duration-300","group",{"z-30":o,"hover:bg-gray-800/40":!o,"bg-gray-800 text-gray-100":o},{active:o},Bt["tab-item"]),children:[a(Be.default,{href:e,passHref:!0,children:a("a",{className:"w-full h-full flex flex-row items-center space-x-2 px-3 py-2.5",children:t.children})}),a("div",{className:C.default("text-gray-800",{"opacity-0 group-hover:opacity-40":!o},"transition-opacity duration-300",Bt["corner-bl"])}),a("div",{className:C.default("text-gray-800",{"opacity-0 group-hover:opacity-40":!o},"transition-opacity duration-300",Bt["corner-br"])})]})}function Hn(){const{plugins:e}=A.useAppContext();return u($a.Root,{className:"relative flex flex-row items-center h-11 dark:bg-gray-900 dark:text-gray-200",children:[a("div",{className:"w-[74px]"}),u("div",{className:"h-full flex-1 flex flex-row px-3 items-end",children:[u("ul",{className:"flex-1 flex flex-row items-end",children:[u(Ct,{href:"/workspace",children:[a(be.HomeIcon,{}),a("span",{className:"ml-2",children:"Workspace"})]}),e==null?void 0:e.map(t=>{if(!t.hasTabs)return;let r=be[t._fuse.icon];return u(Ct,{href:`/${t.url}`,children:[r&&a(r,{className:"mr-2"}),a("span",{children:t.displayTitle})]},`tab-${t.name}`)})]}),u("ul",{className:"flex flex-row items-end",children:[a(Ct,{href:"/marketplace",children:a(be.CubeIcon,{})}),a(Ct,{href:"/settings",children:a(be.GearIcon,{})})]})]})]})}function nl(r){var n=r,{plugin:e}=n,t=P(n,["plugin"]);var o,l;function i(s,c){c?A.coreSocket.emit("plugins:activate",s,d=>{console.log("Activated:",d)}):A.coreSocket.emit("plugins:deactivate",s,d=>{console.log("Deactivated:",d)})}return u("li",{className:"flex flex-row items-stretch space-x-3 py-2",children:[a("div",{className:"w-10 h-10 bg-gray-700 bg-opacity-25 rounded-full overflow-hidden"}),u("div",{className:"flex flex-col flex-1",children:[u("div",{className:"flex flex-row space-x-2 items-center",children:[u("div",{className:"text-gray-50",children:[a("span",{className:"font-bold",children:((o=e.fuse)==null?void 0:o.title)||e.name}),e.author&&u("span",{className:"text-xs text-gray-600 ml-1",children:[a("span",{children:"by "}),a("span",{className:"text-xs text-gray-500 font-medium",children:e.author})]})]}),e.system&&a(zt,{size:"sm",className:"bg-blue-600",children:"SYSTEM"}),((l=e.fuse)==null?void 0:l.type)=="driver"&&a(zt,{size:"sm",className:"bg-amber-600 text-amber-50",children:"DRIVER"})]}),a("div",{className:"flex flex-row items-center space-x-3",children:a("div",{className:"text-xxs font-mono",children:u("span",{className:"rounded-[3px] bg-gray-800 px-1 py-0.5",children:[e.name,"@",e.version]})})})]}),e.settings&&a("div",{className:"w-20 flex items-center justify-center",children:a(Be.default,{href:`/settings/plugins/${e.name}`,passHref:!0,children:a(X,{rounded:!0,squared:!0,size:"sm",children:a(L.GearIcon,{})})})}),a("div",{className:"flex items-center",children:a(ct,{defaultChecked:e.active,disabled:e.system,onCheckedChange:s=>i(e.name,s)})})]})}function al(r){var n=r,{plugins:e}=n,t=P(n,["plugins"]);return a(se,{title:"Installed plugins",children:a("ul",{className:"flex flex-col divide-y divide-gray-700",children:e==null?void 0:e.map((i,o)=>a(nl,{plugin:i},`plugin-${o}`))})})}function il({port:e}){const t=_.useMemo(r=>{let n="Unknown device";return e.manufacturer?n=e.manufacturer:e.vendorId&&(n="VENDOR",e.productId&&(n=[n,"PRODUCT"].join(" "))),n},[e]);return u(K.Item,{children:[u("div",{className:"flex-1 flex flex-col",children:[a("div",{className:"font-bold text-gray-200",children:t}),a("div",{className:"text-xs text-gray-400",children:e.path})]}),a("div",{className:"flex items-center",children:u(Me,{children:[a(Me.Trigger,{children:a(X,{squared:!0,children:a(L.InfoCircledIcon,{})})}),a(Me.Content,{align:"end",side:"bottom",sideOffset:5,className:"min-w-[300px]",children:u(K,{size:"compact",className:"px-1",children:[a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Manufacturer"}),a(R,{children:e.manufacturer||"-"})]})}),a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Serial number"}),a(R,{children:e.serialNumber||"-"})]})}),a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Vendor ID"}),a(R,{children:e.vendorId||"-"})]})}),a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Product ID"}),a(R,{children:e.productId||"-"})]})}),a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Location ID"}),a(R,{children:e.locationId||"-"})]})}),a(K.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"PNP ID"}),a(R,{children:e.pnpId||"-"})]})})]})})]})})]})}function ol(){const e=A.useSerialPorts();return a(se,{title:"Connected devices",children:a(K,{children:e==null?void 0:e.map(t=>a(il,{port:t},t.path))})})}function ll(r){var n=r,{className:e}=n,t=P(n,["className"]);return a("div",{className:C.default("relative","flex flex-col items-stretch justify-start","p-3","space-y-2","rounded-md","overflow-hidden","text-sm","text-gray-900 dark:text-gray-200","bg-gray-300 dark:bg-gray-900",e),children:t.children})}function sl(){return a(Lt,{children:u(x,{orientation:"vertical",className:"items-center",children:[a(L.LightningBoltIcon,{className:"w-20 h-20 text-gray-700"}),a("span",{className:"font-bold text-gray-500",children:"Plugin not active"})]})})}function cl(t){var e=P(t,[]);return u(Xe,{className:"grid grid-cols-2 gap-3",children:[u(x,{children:[a(R,{htmlFor:"brand",children:"Brand"}),a(z,{id:"brand"})]}),u(x,{children:[a(R,{htmlFor:"model",children:"Model"}),a(z,{id:"model"})]}),u(x,{children:[a(R,{htmlFor:"form-factor",children:"Form factor"}),a(ce,{id:"form-factor",options:["rectangular","circular"]})]}),u(x,{children:[a(R,{htmlFor:"origin",children:"Origin"}),a(ce,{id:"origin",options:["lower-left","center"]})]}),u(x,{className:"col-span-2",children:[a(R,{htmlFor:"heated-bed",children:"Heated bed"}),a(ce,{id:"heated-bed",options:["yes","add-on"]})]}),u(x,{orientation:"vertical",children:[a(R,{children:"Printing volume"}),a(k,{}),u(x,{children:[a(R,{htmlFor:"width",children:"Width"}),a(z,{id:"width"})]}),u(x,{children:[a(R,{htmlFor:"height",children:"Height"}),a(z,{id:"height"})]}),u(x,{children:[a(R,{htmlFor:"depth",children:"Depth"}),a(z,{id:"depth"})]})]}),a("div",{className:"col-span-2",children:a(x,{className:"justify-end",children:a(X,{children:"Save"})})})]})}function zn(r){var n=r,{text:e}=n,t=P(n,["text"]);return a("div",I(g({},t),{className:C.default("flex items-center justify-center",t.className),children:u("span",{className:"font-bold",children:[e,t.children]})}))}function dl({profile:e}){var t,r,n,i,o,l;return u(he,{children:[a(W,{label:"X (Width)",value:e.volume.width}),a(W,{label:"Y (Depth)",value:e.volume.depth}),a(W,{label:"Z (Height)",value:e.volume.height}),a(W,{label:"Form factor",value:e.volume.formFactor}),a(W,{label:"Heated bed",value:(t=e.bed)!=null&&t.heated?"Yes":"No"}),a(W,{label:"Origin",value:e.volume.origin}),a(k,{}),a(W,{label:"GCode version",value:e.gCodeVersion}),a(k,{}),a(W,{label:"Feedrate max X",value:(r=e.xAxis)==null?void 0:r.maxSpeed}),a(W,{label:"Feedrate max Y",value:(n=e.yAxis)==null?void 0:n.maxSpeed}),a(W,{label:"Feedrate max Z",value:(i=e.zAxis)==null?void 0:i.maxSpeed}),a(k,{}),a(W,{label:"Extruders",value:((o=e.extruders)==null?void 0:o.length)||0}),(l=e.extruders)==null?void 0:l.map((s,c)=>u(x,{orientation:"vertical",children:[a(W,{label:"Nozzle diameter",value:s.nozzleDiameter}),a(W,{label:"X offset",value:s.xOffset}),a(W,{label:"Y offset",value:s.yOffset})]},`extruder-${c}`))]})}function ul({profile:e}){return e?u(x,{orientation:"vertical",className:"text-sm",children:[u("div",{className:"flex flex-row items-center space-x-3 border-b border-gray-500 pb-2",children:[a("div",{className:"flex-none w-[40px] h-[40px] flex items-center justify-center rounded-md bg-gray-600 text-gray-800 p-2",children:a(ht,{className:"w-full h-full"})}),u("div",{className:"flex-1 text-xl font-bold flex flex-col",children:[u("span",{className:"leading-1",children:[e.brand," ",e.model]}),a("span",{className:"text-sm text-gray-400",children:e.id})]}),a("div",{className:"flex-none",children:a(X,{squared:!0,children:a(L.Pencil2Icon,{})})})]}),a(W,{label:"Brand",value:e.brand}),a(W,{label:"Model",value:e.model}),a(W,{label:"Device type",value:e.type}),a(k,{}),e.type=="fdm_printer"&&a(dl,{profile:e})]}):null}function hl(){const[e,t]=_.useState();return a(se,{title:"Profiles",children:u("div",{className:"grid grid-cols-2 gap-2",children:[a(an,{className:"h-[400px]",onSelect:(r,n)=>t(n)}),a("div",{className:"flex-1",children:a(ul,{profile:e})})]})})}function fl(t){var e=P(t,[]);return a(At,g({options:[{label:"/dev/susb.001",value:"/dev/susb.001"},{label:"/dev/susb.002",value:"/dev/susb.002"}]},e))}function ml(){const{device:e}=A.useDeviceContext();return u(se,{title:"Connection",children:[u("div",{className:"grid grid-cols-2 gap-3",children:[u(Xe,{initialValues:e,children:[u(x,{orientation:"vertical",children:[a(R,{htmlFor:"serial-port",children:"Serial port"}),a(fl,{name:"port",id:"serial-port"})]}),u(x,{orientation:"vertical",children:[a(R,{htmlFor:"baud-rate",children:"Baud rate"}),a(nn,{name:"baudrate",id:"baud-rate"})]})]}),a("div",{}),u(x,{className:"grid grid-cols-2",children:[a(X,{children:"Test connection"}),a(X,{children:"Save"})]})]}),a(k,{}),a("div",{children:u(x,{className:"justify-between",children:[a(R,{htmlFor:"auto-connect",children:"Automatically connect on startup"}),a(ct,{id:"auto-connect"})]})})]})}function Rt(e){return u("div",{className:"flex flex-col",children:[a(Hn,{}),a("div",{className:"flex-1 overflow-hidden",children:e.children})]})}function pl(e){return a(Rt,{children:a(Se,{className:"flex-1 h-full",children:a("div",{className:"flex flex-col space-y-2",children:e.children})})})}function Un(e){return a("div",{className:"h-10 flex flex-row space-x-2 items-center text-gray-50 font-medium text-sm mx-1.5 px-1.5 py-2 border-b border-gray-700",children:e.children})}function gl(){const{activePlugins:e}=A.useAppContext(),{device:t}=A.useDeviceContext();return a("div",{className:"flex-none dark:bg-gray-900 dark:text-gray-200 rounded-lg m-2 mr-0 w-20 flex flex-col items-center justify-center",children:u(vl,{children:[a(ve,{content:"Dashboard",side:"right",sideOffset:10,children:a(wr,{icon:be.DashboardIcon,href:`/workspace/devices/${t.id}/`})}),e==null?void 0:e.map(r=>{var o;if(!((o=r.deviceTypes)!=null&&o.includes(t.profile.type))||!r.hasPages)return;let n=be[r._fuse.icon]||be.QuestionMarkIcon,i=`/workspace/devices/${t.id}/`+r.url;return a(ve,{content:r._fuse.tooltip||r.title||r.name,side:"right",sideOffset:10,children:a(wr,{icon:n,href:i})},r.name)})]})})}function vl(e){return a("ul",{className:"flex flex-col space-y-10 rounded-md",children:e.children})}const wr=V.default.forwardRef((o,i)=>{var l=o,{icon:e,iconClassName:t,href:r}=l,n=P(l,["icon","iconClassName","href"]);const s=u(he,{children:[e&&a(e,{className:C.default("w-5 h-5",t)}),n.children]});return a("li",I(g({ref:i,className:"flex items-center justify-center"},n),{children:r?a(Be.default,{href:r,children:a("a",{className:"dark:hover:bg-gray-700 hover:bg-opacity-10 p-3 rounded-md transition-colors duration-150",children:s})}):s}))});wr.displayName="SidebarMenuItem";const Wn=V.default.forwardRef((i,n)=>{var o=i,{device:e,open:t}=o,r=P(o,["device","open"]);return u("div",I(g({ref:n},r),{className:C.default("relative","group","cursor-pointer","select-none","flex flex-row space-x-2 items-center","rounded-sm","ring-[3px]",{"bg-transparent ring-transparent":!t,"hover:ring-gray-700 hover:bg-gray-700":!t,"bg-gray-700 ring-gray-700":t},"pl-[3px] ml-[-3px]","transition-all duration-300"),children:[a(ft,{device:e}),a("span",{children:e.name}),a("span",{className:"text-gray-500",children:"\u2022"}),u("span",{className:"text-xxs text-gray-500",children:[e.profile.brand," ",e.profile.model]}),a("div",{className:C.default("absolute right-0","bg-gray-700","pl-1",{"opacity-0 group-hover:opacity-100 duration-300":!t}),children:a(L.CaretDownIcon,{})})]}))});Wn.displayName="DevicePickerTrigger";function yl({devices:e}){const t=br.useRouter(),{device:r}=A.useDeviceContext(),[n,i]=_.useState(!1),o=_.useRef(),[l,s]=_.useState("auto");_.useEffect(d=>{s(o.current.offsetWidth+3+3)},[n]);function c(d){i(!1),t.push(`/workspace/devices/${d.id}`)}return u($e.Root,{open:n,onOpenChange:i,children:[a($e.Trigger,{asChild:!0,children:a(Wn,{device:r,open:n,ref:o})}),a($e.Content,{className:C.default("w-full","flex flex-col items-start","bg-gray-300 dark:bg-gray-700","shadow-md shadow-gray-900","p-1","focus:outline-none","rounded-md"),style:{minWidth:l},sideOffset:6,align:"start",alignOffset:-3,children:e==null?void 0:e.map(d=>u("li",{className:C.default("cursor-pointer select-none","flex flex-row space-x-1 items-center","text-sm font-medium","py-0.5 px-1","w-full","rounded-[4px]","transition-colors duration-75","cursor-default","text-gray-800 dark:text-gray-300","hover:text-gray-50 hover:bg-blue-600","group","flex-nowrap truncate"),onClick:h=>c(d),children:[a(ft,{device:d}),a("span",{children:d.name}),a("span",{className:"text-gray-500 group-hover:text-gray-300",children:"\u2022"}),u("span",{className:"text-xxs text-gray-500 group-hover:text-gray-300 truncate flex-1",children:[d.profile.brand," ",d.profile.model]}),a(k,{orientation:"vertical",className:"!border-gray-500 pl-2"}),a("div",{className:"pl-1",children:a(ut,{device:d})})]},`device-${d.id}`))})]})}function _l(){const{device:e}=A.useDeviceContext(),[t,r]=_.useState(),[n,i]=_.useState();function o(){r(!0)}function l(){i(!0)}function s(){A.coreSocket.emit("devices:remove",e.id,c=>{console.log("Removed device")})}return u(he,{children:[a(Ce,{items:[{label:"Disconnect",icon:L.LinkBreak2Icon},"-",{label:"Edit",icon:L.Pencil1Icon,action:o},{label:"Remove",icon:L.TrashIcon,action:l}],children:a(X,{size:"sm",mode:"ghost",squared:!0,children:a(L.DotsHorizontalIcon,{})})}),a(Pe,{content:a(Ut,{device:e}),open:t,onOpenChange:r}),a(Ne,{open:n,onOpenChange:i,title:"Remove device?",content:u("span",{children:["Are you sure you want to remove ",a("strong",{children:e.name})," ?"]}),onConfirm:s})]})}const qn=V.default.createContext();function Vn(){const e=V.default.useContext(qn);if(!e)throw new Error("useDeviceStatusListContext can only be used inside DeviceStatusListProvider");return e}function xl(e){const[t,r]=_.useState([]);function n(o,l){let s=g({id:Date.now(),message:o,date:Date.now(),type:"normal"},l);return r(c=>[...c,s]),s}function i(o){r(l=>l.filter(s=>s.id!=o))}return a(qn.Provider,{value:{statusList:t,addStatus:n,removeStatus:i},children:e.children})}function bl(){const{statusList:e}=Vn();return e.length?a("div",{className:"flex flex-1",children:a(wl,{status:e[0]})}):null}function wl(r){var n=r,{status:e}=n,t=P(n,["status"]);let i=_.useMemo(o=>{if(e.icon)return e.icon;switch(e.type){case"error":return L.CrossCircledIcon;case"warning":return L.ExclamationTriangleIcon;case"success":return L.CheckCircledIcon;default:return L.InfoCircledIcon}},[e]);return u("div",{className:"flex-1 flex flex-row space-x-1.5 items-center",children:[a(i,{className:C.default("w-3 h-3",{"text-red-300":e.type=="error","text-orange-400":e.type=="warning","text-green-400":e.type=="success","text-blue-400":e.type=="normal"})}),a("span",{className:C.default({"text-red-400":e.type=="error","text-orange-200":e.type=="warning","text-green-200":e.type=="success","text-gray-300":e.type=="normal"}),children:e.message})]})}var Pl=Array.isArray,Pr=Pl,Nl=typeof lt=="object"&&lt&&lt.Object===Object&&lt,Sl=Nl,Cl=Sl,Rl=typeof self=="object"&&self&&self.Object===Object&&self,El=Cl||Rl||Function("return this")(),Nr=El,Il=Nr,Dl=Il.Symbol,Sr=Dl,Bn=Sr,Gn=Object.prototype,$l=Gn.hasOwnProperty,Ol=Gn.toString,nt=Bn?Bn.toStringTag:void 0;function Tl(e){var t=$l.call(e,nt),r=e[nt];try{e[nt]=void 0;var n=!0}catch{}var i=Ol.call(e);return n&&(t?e[nt]=r:delete e[nt]),i}var Ml=Tl,Ll=Object.prototype,Al=Ll.toString;function jl(e){return Al.call(e)}var kl=jl,Xn=Sr,Fl=Ml,Hl=kl,zl="[object Null]",Ul="[object Undefined]",Zn=Xn?Xn.toStringTag:void 0;function Wl(e){return e==null?e===void 0?Ul:zl:Zn&&Zn in Object(e)?Fl(e):Hl(e)}var Kn=Wl;function ql(e){return e!=null&&typeof e=="object"}var Vl=ql,Bl=Kn,Gl=Vl,Xl="[object Symbol]";function Zl(e){return typeof e=="symbol"||Gl(e)&&Bl(e)==Xl}var Cr=Zl,Kl=Pr,Yl=Cr,Ql=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jl=/^\w*$/;function es(e,t){if(Kl(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yl(e)?!0:Jl.test(e)||!Ql.test(e)||t!=null&&e in Object(t)}var ts=es;function rs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yn=rs,ns=Kn,as=Yn,is="[object AsyncFunction]",os="[object Function]",ls="[object GeneratorFunction]",ss="[object Proxy]";function cs(e){if(!as(e))return!1;var t=ns(e);return t==os||t==ls||t==is||t==ss}var ds=cs,us=Nr,hs=us["__core-js_shared__"],fs=hs,Rr=fs,Qn=function(){var e=/[^.]+$/.exec(Rr&&Rr.keys&&Rr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ms(e){return!!Qn&&Qn in e}var ps=ms,gs=Function.prototype,vs=gs.toString;function ys(e){if(e!=null){try{return vs.call(e)}catch{}try{return e+""}catch{}}return""}var _s=ys,xs=ds,bs=ps,ws=Yn,Ps=_s,Ns=/[\\^$.*+?()[\]{}|]/g,Ss=/^\[object .+?Constructor\]$/,Cs=Function.prototype,Rs=Object.prototype,Es=Cs.toString,Is=Rs.hasOwnProperty,Ds=RegExp("^"+Es.call(Is).replace(Ns,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $s(e){if(!ws(e)||bs(e))return!1;var t=xs(e)?Ds:Ss;return t.test(Ps(e))}var Os=$s;function Ts(e,t){return e==null?void 0:e[t]}var Ms=Ts,Ls=Os,As=Ms;function js(e,t){var r=As(e,t);return Ls(r)?r:void 0}var Jn=js,ks=Jn,Fs=ks(Object,"create"),Et=Fs,ea=Et;function Hs(){this.__data__=ea?ea(null):{},this.size=0}var zs=Hs;function Us(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ws=Us,qs=Et,Vs="__lodash_hash_undefined__",Bs=Object.prototype,Gs=Bs.hasOwnProperty;function Xs(e){var t=this.__data__;if(qs){var r=t[e];return r===Vs?void 0:r}return Gs.call(t,e)?t[e]:void 0}var Zs=Xs,Ks=Et,Ys=Object.prototype,Qs=Ys.hasOwnProperty;function Js(e){var t=this.__data__;return Ks?t[e]!==void 0:Qs.call(t,e)}var ec=Js,tc=Et,rc="__lodash_hash_undefined__";function nc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tc&&t===void 0?rc:t,this}var ac=nc,ic=zs,oc=Ws,lc=Zs,sc=ec,cc=ac;function Ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ue.prototype.clear=ic,Ue.prototype.delete=oc,Ue.prototype.get=lc,Ue.prototype.has=sc,Ue.prototype.set=cc;var dc=Ue;function uc(){this.__data__=[],this.size=0}var hc=uc;function fc(e,t){return e===t||e!==e&&t!==t}var mc=fc,pc=mc;function gc(e,t){for(var r=e.length;r--;)if(pc(e[r][0],t))return r;return-1}var It=gc,vc=It,yc=Array.prototype,_c=yc.splice;function xc(e){var t=this.__data__,r=vc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():_c.call(t,r,1),--this.size,!0}var bc=xc,wc=It;function Pc(e){var t=this.__data__,r=wc(t,e);return r<0?void 0:t[r][1]}var Nc=Pc,Sc=It;function Cc(e){return Sc(this.__data__,e)>-1}var Rc=Cc,Ec=It;function Ic(e,t){var r=this.__data__,n=Ec(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Dc=Ic,$c=hc,Oc=bc,Tc=Nc,Mc=Rc,Lc=Dc;function We(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}We.prototype.clear=$c,We.prototype.delete=Oc,We.prototype.get=Tc,We.prototype.has=Mc,We.prototype.set=Lc;var Ac=We,jc=Jn,kc=Nr,Fc=jc(kc,"Map"),Hc=Fc,ta=dc,zc=Ac,Uc=Hc;function Wc(){this.size=0,this.__data__={hash:new ta,map:new(Uc||zc),string:new ta}}var qc=Wc;function Vc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Bc=Vc,Gc=Bc;function Xc(e,t){var r=e.__data__;return Gc(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Dt=Xc,Zc=Dt;function Kc(e){var t=Zc(this,e).delete(e);return this.size-=t?1:0,t}var Yc=Kc,Qc=Dt;function Jc(e){return Qc(this,e).get(e)}var ed=Jc,td=Dt;function rd(e){return td(this,e).has(e)}var nd=rd,ad=Dt;function id(e,t){var r=ad(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var od=id,ld=qc,sd=Yc,cd=ed,dd=nd,ud=od;function qe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qe.prototype.clear=ld,qe.prototype.delete=sd,qe.prototype.get=cd,qe.prototype.has=dd,qe.prototype.set=ud;var hd=qe,ra=hd,fd="Expected a function";function Er(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fd);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(Er.Cache||ra),r}Er.Cache=ra;var md=Er,pd=md,gd=500;function vd(e){var t=pd(e,function(n){return r.size===gd&&r.clear(),n}),r=t.cache;return t}var yd=vd,_d=yd,xd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bd=/\\(\\)?/g,wd=_d(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xd,function(r,n,i,o){t.push(i?o.replace(bd,"$1"):n||r)}),t}),Pd=wd;function Nd(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Sd=Nd,na=Sr,Cd=Sd,Rd=Pr,Ed=Cr,Id=1/0,aa=na?na.prototype:void 0,ia=aa?aa.toString:void 0;function oa(e){if(typeof e=="string")return e;if(Rd(e))return Cd(e,oa)+"";if(Ed(e))return ia?ia.call(e):"";var t=e+"";return t=="0"&&1/e==-Id?"-0":t}var Dd=oa,$d=Dd;function Od(e){return e==null?"":$d(e)}var Td=Od,Md=Pr,Ld=ts,Ad=Pd,jd=Td;function kd(e,t){return Md(e)?e:Ld(e,t)?[e]:Ad(jd(e))}var Fd=kd,Hd=Cr,zd=1/0;function Ud(e){if(typeof e=="string"||Hd(e))return e;var t=e+"";return t=="0"&&1/e==-zd?"-0":t}var Wd=Ud,qd=Fd,Vd=Wd;function Bd(e,t){t=qd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Vd(t[r++])];return r&&r==n?e:void 0}var Gd=Bd,Xd=Gd;function Zd(e,t,r){var n=e==null?void 0:Xd(e,t);return n===void 0?r:n}var Kd=Zd;function la(e,t){return _.useMemo(r=>{var n;return(n=e==null?void 0:e.plugins)==null?void 0:n.map(i=>{if(typeof i.deviceComponents=="function"){let o=i.deviceComponents(e);return Kd(o,t,!1)}}).filter(Boolean)},[e,t])}function Yd(){const{devices:e}=A.useAppContext(),{device:t}=A.useDeviceContext(),r=la(t,"page.topBar");return u(Un,{children:[a(yl,{devices:e}),a("div",{className:"w-px h-full bg-gray-600"}),a("div",{className:"flex-1 text-xxs font-bold text-gray-400",children:a(bl,{})}),(r==null?void 0:r.length)>0&&a(k,{orientation:"vertical"}),r==null?void 0:r.map(n=>a(n,{},`device-plg-comp-${Ve.generateUniqueID()}`)),a(k,{orientation:"vertical"}),a("div",{children:a(ut,{device:t})}),a(k,{orientation:"vertical"}),a("div",{className:"relative",children:a(_l,{})})]})}function $t(r){var n=r,{device:e}=n,t=P(n,["device"]);if(!e)throw new Error("DevicePage requires a device");return a(Rt,{children:a(A.DeviceProvider,{device:e,children:a(xl,{children:u("div",{className:"w-full h-full flex flex-col",children:[a(Yd,{device:e}),u("div",{className:"flex-1 flex flex-row overflow-hidden",children:[a(gl,{}),a(Se,{className:"flex-1",children:a("div",{className:"p-2 pr-3 flex flex-col space-y-3",children:t.children})})]})]})})})})}function sa(r){var n=r,{children:e}=n,t=P(n,["children"]);return a($t,I(g({},t),{children:e}))}function ca(r){var n=r,{children:e}=n,t=P(n,["children"]);return a($t,I(g({},t),{children:e}))}function Ir(r){var n=r,{href:e}=n,t=P(n,["href"]);const i=br.useRouter(),o=_.useMemo(l=>i.pathname.startsWith(e),[e,i.pathname]);return a("li",{className:C.default("rounded-md text-sm font-medium","transition-colors duration-150",{"hover:bg-gray-800 hover:bg-opacity-40":!o,"bg-blue-600":o}),children:e?a(Be.default,{href:e,passHref:!0,children:a("a",{className:"block px-2 py-1 w-full h-full",children:t.children})}):t.children})}function Qd(e){return a(Rt,{children:u("div",{className:"flex-1 h-full flex flex-row",children:[u("div",{className:"flex-none py-2 pl-2",children:[a("div",{className:C.default("dark:bg-gray-900 dark:text-gray-200","w-44","rounded-lg","flex flex-col","py-2"),children:u("ul",{className:"px-2 flex flex-col space-y-1",children:[a(Ir,{href:"/settings/general",children:"General"}),a(Ir,{href:"/settings/devices",children:"Devices"}),a(Ir,{href:"/settings/plugins",children:"Plugins"})]})}),a("div",{className:"text-xs font-bold text-center py-1 text-gray-600",children:"v. 0.1"})]}),a(Se,{className:"flex-1 max-w-screen-lg",children:a("div",{className:"p-2 flex flex-col space-y-3",children:e.children})})]})})}function Jd(e){switch(e){case"fdm_printer":return sa;case"cnc":return ca;default:return $t}}m.AddDeviceWizard=vi,m.AppLoader=yi,m.Badge=zt,m.BlockingView=Lt,m.Button=X,m.CNCDevicePage=ca,m.CNCIcon=qt,m.Checkbox=Zr,m.CheckboxRaw=Xr,m.CompactList=Ze,m.ConfirmDialog=Ne,m.ContextMenu=rn,m.DeviceCard=on,m.DeviceConnectionStatus=ut,m.DeviceConnectionWidget=ml,m.DeviceForm=Ut,m.DevicePage=$t,m.DevicePluginsSettingsWidget=xi,m.DeviceProfilesWidget=hl,m.DeviceTypeIcon=ft,m.DevicesGrid=bi,m.Dialog=Pe,m.DisplayGroup=W,m.DisplayLabel=Br,m.DisplayValue=Gr,m.DropdownMenu=Ce,m.EmptyView=zn,m.FDMPrinterIcon=ht,m.Form=Xe,m.Group=x,m.InactivePluginView=sl,m.Input=z,m.InputRaw=Te,m.Label=R,m.LaserIcon=Vt,m.List=K,m.Loader=jt,m.MSLAPrinterIcon=Wt,m.MainLayout=Rt,m.Navbar=Hn,m.Page=pl,m.PageTopBar=Un,m.PluginsList=al,m.Popover=Me,m.PrinterDevicePage=sa,m.PrinterProfileForm=cl,m.Progress=Kr,m.ScrollArea=Se,m.Select=ce,m.SelectRaw=At,m.Separator=k,m.SerialPortListWidget=ol,m.SettingPage=Qd,m.SettingsWidget=ll,m.Slider=qa,m.Switch=Va,m.SwitchRaw=ct,m.Table=ye,m.ToggleGroup=we,m.Tooltip=ve,m.Widget=se,m.getDevicePageComponent=Jd,m.useDeviceComponents=la,m.useDeviceStatusListContext=Vn,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
