var Pu=Object.defineProperty,Nu=Object.defineProperties;var Su=Object.getOwnPropertyDescriptors;var Ht=Object.getOwnPropertySymbols;var Pa=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable;var wa=(m,_,K)=>_ in m?Pu(m,_,{enumerable:!0,configurable:!0,writable:!0,value:K}):m[_]=K,v=(m,_)=>{for(var K in _||(_={}))Pa.call(_,K)&&wa(m,K,_[K]);if(Ht)for(var K of Ht(_))Na.call(_,K)&&wa(m,K,_[K]);return m},I=(m,_)=>Nu(m,Su(_));var N=(m,_)=>{var K={};for(var ie in m)Pa.call(m,ie)&&_.indexOf(ie)<0&&(K[ie]=m[ie]);if(m!=null&&Ht)for(var ie of Ht(m))_.indexOf(ie)<0&&Na.call(m,ie)&&(K[ie]=m[ie]);return K};(function(m,_){typeof exports=="object"&&typeof module!="undefined"?_(exports,require("react"),require("classnames"),require("@radix-ui/react-toggle-group"),require("@radix-ui/react-slider"),require("@radix-ui/react-switch"),require("formik"),require("@radix-ui/react-dialog"),require("@radix-ui/react-icons"),require("@radix-ui/react-alert-dialog"),require("@radix-ui/react-label"),require("@radix-ui/react-separator"),require("@radix-ui/react-dropdown-menu"),require("@radix-ui/react-checkbox"),require("@radix-ui/react-progress"),require("@radix-ui/react-tooltip"),require("@radix-ui/react-scroll-area"),require("@radix-ui/react-popover"),require("@radix-ui/react-context-menu"),require("@fuse-labs/shared-utils"),require("yup"),require("@fuse-labs/core-client"),require("@radix-ui/react-toolbar")):typeof define=="function"&&define.amd?define(["exports","react","classnames","@radix-ui/react-toggle-group","@radix-ui/react-slider","@radix-ui/react-switch","formik","@radix-ui/react-dialog","@radix-ui/react-icons","@radix-ui/react-alert-dialog","@radix-ui/react-label","@radix-ui/react-separator","@radix-ui/react-dropdown-menu","@radix-ui/react-checkbox","@radix-ui/react-progress","@radix-ui/react-tooltip","@radix-ui/react-scroll-area","@radix-ui/react-popover","@radix-ui/react-context-menu","@fuse-labs/shared-utils","yup","@fuse-labs/core-client","@radix-ui/react-toolbar"],_):(m=typeof globalThis!="undefined"?globalThis:m||self,_(m["@fuse-labs/core-ui"]={},m.React,m.classNames,m.ToggleGroupPrimitive,m.SliderPrimitive,m.SwitchPrimitive,m.formik,m.DialogPrimitive,m.icons,m.AlertDialogPrimitive,m.LabelPrimitive,m.SeparatorPrimitive,m.DropdownMenuPrimitive,m.CheckboxPrimitive,m.ProgressPrimitive,m.TooltipPrimitive,m.ScrollAreaPrimitive,m.PopoverPrimitive,m.ContextMenuPrimitive,m.sharedUtils,m.Yup,m.coreClient,m.Toolbar))})(this,function(m,_,K,ie,Sa,Ca,le,Ra,L,Ea,jr,Ia,$a,Da,Oa,Ta,Ma,La,Aa,Xe,ja,A,ka){"use strict";function kr(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var W=kr(_),D=G(_),C=kr(K),Fr=G(ie),lt=G(Sa),Hr=G(Ca),pe=G(Ra),we=G(L),ge=G(Ea),Fa=G(jr),Ha=G(Ia),te=G($a),Ur=G(Da),zr=G(Oa),st=G(Ta),ct=G(Ma),Te=G(La),Me=G(Aa),ve=G(ja),Ua=G(ka),dt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ut={exports:{}},Ke={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Wr=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,Wa=Object.prototype.propertyIsEnumerable;function qa(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Va(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Va();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=W.default,qr=60103;if(Ke.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Vr=Symbol.for;qr=Vr("react.element"),Ke.Fragment=Vr("react.fragment")}var Ga=Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xa=Object.prototype.hasOwnProperty,Ka={key:!0,ref:!0,__self:!0,__source:!0};function Br(e,t,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Xa.call(t,n)&&!Ka.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:qr,type:e,key:o,ref:l,props:i,_owner:Ga.current}}Ke.jsx=Br,Ke.jsxs=Br,ut.exports=Ke;const a=ut.exports.jsx,u=ut.exports.jsxs,fe=ut.exports.Fragment;function Ut(e){return a("div",{className:"w-full h-full flex items-center justify-center",children:e.children})}function Za(t){var e=N(t,[]);return a("div",{className:C.default("flex flex-row items-center","dark:text-gray-500","border-b dark:border-gray-800","text-xxs uppercase","font-syncopate leading-none","pb-1.5"),children:e.children})}function Ya(t){var e=N(t,[]);return a("div",{className:"relative !mt-auto pt-2 h-0 flex items-center justify-end",children:u("span",{className:"font-mono text-xxs opacity-30 leading-none",children:["v. ",e.children]})})}const se=W.default.forwardRef((l,o)=>{var s=l,{title:e,version:t,full:r=!1,className:n}=s,i=N(s,["title","version","full","className"]);return u("div",I(v({ref:o},i),{className:C.default("relative","flex flex-col items-stretch justify-start",{"p-3":!r},"space-y-3","rounded-md","overflow-hidden","text-sm","text-gray-900 dark:text-gray-200","bg-gray-300 dark:bg-gray-900",n),children:[e&&a(Za,{children:e}),i.children,t&&a(Ya,{children:t})]}))});se.displayName="Widget";const Pe=r=>{var n=r,{type:e="single"}=n,t=N(n,["type"]);return a(Fr.Root,I(v({type:e},t),{className:C.default("flex flex-row justify-evenly","dark:bg-gray-800 dark:bg-opacity-60 dark:text-gray-100","rounded-md overflow-hidden","text-xs font-mono",t.className)}))},Qa=e=>a(Fr.Item,I(v({},e),{className:C.default("p-1.5","flex-initial","w-full text-center","hover:bg-white hover:bg-opacity-5 transition-colors duration-150","radix-state-on:bg-blue-700",e.className)}));Pe.Item=Qa;var Ja={btn:"_btn_40lfp_1"};const X=W.default.forwardRef((c,s)=>{var d=c,{as:e="button",squared:t,rounded:r,className:n,size:i,mode:o="normal"}=d,l=N(d,["as","squared","rounded","className","size","mode"]);let f=e;return l.type=="submit"&&(f="button"),a(f,v({ref:s,className:C.default("inline-flex select-none items-center justify-center text-sm font-medium",Ja.btn,{"btn-xs":i=="xs","btn-sm":i=="sm"},{"btn-normal":o=="normal","btn-ghost":o=="ghost"},{squared:t,"rounded-md":!r,"rounded-full":r},"focus:outline-none focus-visible:ring-1 focus-visible:ring-blue-600 focus-visible:ring-opacity-75",{"select-none touch-none disabled":l.disabled},"dark:disabled:opacity-40 dark:disabled:bg-gray-800",n)},l))});X.displayName="Button";function ei(r){var n=r,{className:e}=n,t=N(n,["className"]);return u(lt.Root,I(v({},t),{className:C.default("relative flex items-center","disabled:select-none disabled:touch-none","disabled:opacity-30 radix-disabled:opacity-30",e),children:[a(lt.Track,{className:"relative w-full h-[4px] rounded-md bg-gray-500 dark:bg-gray-700",children:a(lt.Range,{className:"absolute bg-gray-100 dark:bg-gray-400 rounded-full h-full"})}),a(lt.Thumb,{className:"block w-4 h-4 rounded-full shadow-sm bg-gray-50 dark:bg-gray-300"})]}))}function ti(e){const[t,r,n]=le.useField(e.name),{value:i,initialValue:o,error:l,touched:s}=r,{setValue:c,setTouched:d}=n;function f(p){c(p),d(!0)}return a(ft,I(v(v({},t),e),{checked:Boolean(i),onCheckedChange:f,error:t.name&&l&&s,dirty:s&&!l&&i!=o}))}function ft(n){var i=n,{error:e,dirty:t}=i,r=N(i,["error","dirty"]);return a(Hr.Root,I(v({className:C.default("w-8 h-4 rounded-full bg-current","transition-colors duration-150","ring-2",{"ring-current":!t&&!e,"ring-offset-2 ring-offset-current ring-red-500":e,"ring-offset-2 ring-offset-current ring-yellow-500":t&&!e},"radix-state-unchecked:text-gray-50 dark:radix-state-unchecked:text-gray-700","radix-state-checked:text-blue-600","disabled:opacity-30")},r),{children:a(Hr.Thumb,{className:C.default("block w-4 h-4 rounded-full shadow-sm bg-gray-50 dark:bg-gray-300","radix-state-checked:ring-1 radix-state-checked:ring-blue-700","transition-transform duration-150","radix-state-checked:translate-x-4")})}))}function Ne(n){var i=n,{children:e,content:t}=i,r=N(i,["children","content"]);return u(Gr,I(v({},r),{children:[a(Xr,{children:e}),a(Kr,{className:r.className,children:t})]}))}function Gr(e){return a(pe.Root,v({},e))}function Xr(e){return a(pe.Trigger,v({},e))}function Kr(o){var l=o,{title:e,description:t,className:r,showClose:n=!1}=l,i=N(l,["title","description","className","showClose"]);return u(pe.Portal,{children:[a(pe.Overlay,{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm z-40"}),a(pe.Content,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50",children:u(se,{className:C.default("w-[90vw] max-h-[85vh]",r),title:u(fe,{children:[e&&a(pe.Title,{children:e}),n&&a(pe.Close,{asChild:!0,children:a(X,{squared:!0,rounded:!0,className:"ml-auto",children:a(L.Cross2Icon,{})})})]}),children:[t&&a(pe.Description,{children:t}),i.children]})})]})}Ne.Root=Gr,Ne.Trigger=Xr,Ne.Content=Kr;function x(n){var i=n,{orientation:e="horizontal",className:t}=i,r=N(i,["orientation","className"]);return a("div",v({className:C.default("flex",{"flex-row space-x-2 items-center justify-between":e=="horizontal","flex-col space-y-2":e=="vertical"},t)},r))}function Se(o){var l=o,{children:e,content:t,open:r,onOpenChange:n}=l,i=N(l,["children","content","open","onOpenChange"]);return u(Zr,{open:r,onOpenChange:n,children:[a(Yr,{children:e}),a(Qr,I(v({},i),{children:t}))]})}function Zr(e){return a(ge.Root,v({},e))}function Yr(e){return a(ge.Trigger,v({},e))}function Qr(l){var s=l,{title:e,description:t,confirmText:r="Confirm",onConfirm:n,className:i}=s,o=N(s,["title","description","confirmText","onConfirm","className"]);return u(ge.Portal,{children:[a(ge.Overlay,{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm"}),a(ge.Content,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u(se,{className:C.default("w-[50vw] max-h-[85vh]",i),title:e,children:[t&&a(ge.Description,{children:t}),o.children,u(x,{className:"pt-3 !justify-end",children:[a(ge.Cancel,{asChild:!0,children:a(X,{children:"Cancel"})}),a(ge.Action,{children:a(X,{onClick:n,children:r})})]})]})})]})}Se.Root=Zr,Se.Trigger=Yr,Se.Content=Qr;function Ze(r){var n=r,{children:e}=n,t=N(n,["children"]);return a(le.Formik,I(v({},t),{children:i=>a(le.Form,{className:t.className,children:typeof e=="function"?e(i):e})}))}function R(r){var n=r,{className:e}=n,t=N(n,["className"]);return a(Fa.Root,v({className:C.default("font-semibold","select-none cursor-default","text-gray-800 dark:text-gray-300",e)},t))}function Jr(e){return a("div",I(v({},e),{className:C.default("font-semibold","select-none cursor-default","text-gray-800 dark:text-gray-400","truncate",e.className)}))}function en(e){return u("div",{className:C.default("font-bold","font-semibold","cursor-default","text-gray-200"),children:[e.value,e.children]})}function q(n){var i=n,{label:e,value:t}=i,r=N(i,["label","value"]);return u(x,I(v({},r),{children:[a(Jr,{children:e}),a(en,{children:t})]}))}const k=W.default.forwardRef((r,t)=>{var e=N(r,[]);return a(Ha.Root,I(v({ref:t},e),{asChild:!0,children:a("div",{className:C.default("flex-none","border-gray-500 dark:border-gray-600",{"my-2 border-b":e.orientation=="horizontal"||!e.orientation,"h-px min-w-full self-stretch":e.orientation=="horizontal"||!e.orientation,"mx-2 border-r":e.orientation=="vertical","min-h-full w-px self-stretch":e.orientation=="vertical"},e.className)})}))});k.displayName="Separator";function ri(e){return u(te.Item,I(v({className:C.default("flex flex-row space-x-2 items-center","text-sm font-medium","py-0.5 px-1.5","w-full","rounded-sm","transition-colors duration-75","focus:outline-none border-0","cursor-default","text-gray-800 dark:text-gray-300","focus:text-gray-50 focus:bg-blue-600")},e),{children:[a("div",{className:"flex-1",children:e.children}),e.selected&&a("div",{children:a(L.CheckIcon,{className:"text-gray-800 bg-blue-600 rounded-full"})})]}))}function zt(d){var f=d,{trigger:e,error:t,options:r,className:n,defaultValue:i,onChange:o,onBlur:l,onOpenChange:s}=f,c=N(f,["trigger","error","options","className","defaultValue","onChange","onBlur","onOpenChange"]);const p=_.useRef(),[y,g]=_.useState(P=>{if(!!i)return h(i)}),[b,S]=_.useState();_.useEffect(P=>{y||g(h(i))},[i]);function h(P){return r==null?void 0:r.find(O=>typeof O=="object"?O.value==P:O===P)}_.useEffect(P=>{let O=p.current.getBoundingClientRect();S(O.width)},[p.current]),_.useEffect(P=>{typeof y=="object"?o==null||o(y==null?void 0:y.value):o==null||o(y)},[y]);let w=_.useMemo(P=>y?y.label||y.value||y:"No option selected",[y]);function $(P){return typeof P=="object"?(y==null?void 0:y.value)===P.value:y===P}return a("div",{children:u(te.Root,{onOpenChange:s,children:[a("div",{ref:p,className:C.default("flex flex-row items-center space-x-2",n),children:e||c.children?a(te.Trigger,{asChild:!0,disabled:c.disabled,children:e?a(e,{}):c.children}):u(te.Trigger,{disabled:c.disabled,onBlur:l,className:C.default("w-full min-w-[180px]","flex flex-row items-center justify-between space-x-2","text-xs","px-1.5 h-[26px]","leading-none","rounded-md","select-none touch-none","font-mono font-medium","bg-gray-900 border border-gray-600 text-gray-300","focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800",{"border-red-600 ring-1 ring-red-600":t}),children:[a("span",{className:"whitespace-nowrap truncate",children:w}),a(L.ChevronDownIcon,{})]})}),a(te.Content,{className:C.default("w-full","flex flex-col items-start","bg-gray-300 dark:bg-gray-800","shadow-md","p-1","rounded-md"),style:{width:b||"auto"},align:"end",sideOffset:6,children:r==null?void 0:r.map((P,O)=>a(ri,{value:P.value||P,selected:$(P),onClick:T=>g(P),children:P.label||P.value||P},`option-${O}`))})]})})}function ce(e){const[t,r,n]=le.useField(e.name),{initialValue:i}=r,{setValue:o,setTouched:l}=n;return a(zt,v({error:r.touched&&r.error,defaultValue:i,onChange:o,onOpenChange:s=>s&&l(!0),onBlur:s=>t.onBlur(t.name)},e))}function U(e){const[t,r,n]=le.useField(e);return a(Le,I(v(v({},t),e),{error:t.name&&r.error&&r.touched,dirty:r.touched&&!r.error&&r.value!=r.initialValue}))}function Le(i){var o=i,{error:e,dirty:t,detailContent:r}=o,n=N(o,["error","dirty","detailContent"]);return n.type=="hidden"?a("input",I(v({},n),{hidden:!0})):u("div",{className:C.default("flex flex-row items-center","rounded-md overflow-hidden flex-shrink-0","h-[26px]","font-mono font-medium","bg-gray-900 border border-gray-600 text-gray-300","focus-within:border-blue-600 focus-within:outline-none focus-within:ring-1 focus-within:ring-blue-600",{"border-red-600 ring-1 ring-red-600":e,"border-yellow-500 ring-1 ring-yellow-500":!e&&t},n.className),children:[a("input",I(v({},n),{className:C.default("text-xs px-1.5","h-full min-w-0 w-full","ring-0 outline-none","bg-gray-900 text-gray-300","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800","transition-colors duration-150"),style:{textAlign:"inherit"}})),r&&a(jr.Label,{htmlFor:n.id,className:"flex-none select-none cursor-default text-xs bg-white/10 border-l border-gray-600 self-stretch flex items-center px-1",children:r})]})}function tn(r){var n=r,{error:e}=n,t=N(n,["error"]);return a(Ur.Root,I(v({},t),{className:C.default("h-[24px] w-[24px]","rounded-md","bg-gray-900 border border-gray-600 text-gray-300","focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600","disabled:select-none disabled:touch-none disabled:opacity-60 disabled:bg-gray-800",{"border-red-600 ring-1 ring-red-600":e},"transition-colors duration-150",t.className),children:a(Ur.Indicator,{className:C.default("flex items-center justify-center"),children:a(L.CheckIcon,{})})}))}function rn(e){const[t,r,n]=le.useField(e);return a(tn,I(v(v({},t),e),{error:t.name&&r.error&&r.touched}))}function nn(e){const t=Math.max(0,e.value),r=Math.max(0,e.max),n=_.useMemo(i=>t/r*100,[t,r]);return a(zr.Root,I(v({},e),{value:t,max:r,className:C.default("relative","h-[2px]","w-full","bg-gray-800",e.className),children:a(zr.Indicator,{className:"h-full transition-[width] duration-150 bg-blue-600",style:{width:`${n}%`}})}))}const ni=e=>D.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,fill:"none",viewBox:"0 0 15 15"},e),D.createElement("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:"currentColor",style:{opacity:"50%"},fillRule:"evenodd",clipRule:"evenodd"}),D.createElement("path",{d:"M291.761,420.578a5.673,5.673,0,0,1,5.673-5.673v-.95a6.623,6.623,0,0,0-4.683,11.306l.671-.671A5.659,5.659,0,0,1,291.761,420.578Z",transform:"translate(-289.811 -412.955)",fill:"currentColor"}));function ai(e){return a(ni,v({},e))}function Wt(r){var n=r,{size:e="normal"}=n,t=N(n,["size"]);return a("div",{className:C.default({"scale-75":e=="sm","scale-110":e=="md","scale-125":e=="lg","scale-150":e=="xl"}),children:a(ai,{className:"animate-spin"})})}function ye(o){var l=o,{size:e,showArrow:t=!1,delayDuration:r,content:n}=l,i=N(l,["size","showArrow","delayDuration","content"]);const s=_.useMemo(f=>e=="hint"?750:150,[e]),c=_.useMemo(f=>{switch(e){case"hint":return"text-xxs font-normal rounded-sm p-1 border border-gray-500";case"sm":return"text-xxs font-medium rounded-md px-1.5 py-1";default:return"text-xs rounded-md p-2"}},[e]),d=_.useMemo(f=>{switch(e){case"hint":return{side:"bottom",sideOffset:3,align:"start",alignOffset:15}}},[e]);return u(st.Root,{delayDuration:r||s,children:[a(st.Trigger,{asChild:!0,children:i.children}),u(st.Content,I(v(v({},d),i),{className:C.default("leading-none","bg-gray-700 text-gray-100 font-bold shadow-sm",c),children:[t&&a(st.Arrow,{className:"fill-gray-700"}),n]}))]})}function _e(n){var i=n,{headers:e,className:t}=i,r=N(i,["headers","className"]);return u("table",I(v({},r),{className:`table-auto border-collapse border border-transparent rounded-lg overflow-hidden ${t}`,children:[(e==null?void 0:e.length)&&a(ii,{headers:e}),a("tbody",{children:r.children})]}))}function ii(r){var n=r,{headers:e}=n,t=N(n,["headers"]);return a("thead",I(v({},t),{children:a("tr",{children:e.map((i,o)=>a("th",{className:"bg-gray-800 text-gray-300 font-semibold text-left p-1",children:a("div",{children:i})},`header-${o}`))})}))}function oi(t){var e=N(t,[]);return a("tr",I(v({},e),{className:C.default("font-medium group border-l border-gray-100 last:border-l-0",e.className),children:e.children}))}_e.Row=oi;function li(t){var e=N(t,[]);return a("td",I(v({},e),{className:C.default("border-b border-gray-700 px-1 py-2 group-hover:bg-gray-600/10 transition-colors duration-150",e.className),children:e.children}))}_e.Data=li;const an=W.default.createContext();function Z(i){var o=i,{size:e="normal",divide:t=!0,className:r}=o,n=N(o,["size","divide","className"]);return a("ul",{className:C.default("flex flex-col",{"divide-y divide-gray-700":t},r),children:a(an.Provider,{value:{size:e,divide:t},children:n.children})})}function si(r){var n=r,{className:e}=n,t=N(n,["className"]);const{size:i}=_.useContext(an);return a("li",v({className:C.default("flex flex-row items-center",{"space-x-3 py-2":i=="normal","space-x-1 py-1":i=="compact"},e)},t))}Z.Item=si;function ci(e){return e===null?!0:!(typeof e=="object"||typeof e=="function")}function on(o){var l=o,{item:e,selected:t,selectable:r=!0,className:n}=l,i=N(l,["item","selected","selectable","className"]);const s=_.useMemo(c=>i.children?i.children:typeof e=="object"?JSON.stringify(e):typeof e=="function"?e(e):e,[e,i.children]);return a(Z.Item,I(v({},i),{className:C.default("px-0.5 transition-colors duration-150","select-none","rounded-md","font-semibold",{"cursor-pointer":r,"hover:bg-white hover:bg-opacity-5":!t,"bg-blue-700 text-gray-50":t},n),children:s}))}function di(n){var i=n,{items:e,itemComponent:t}=i,r=N(i,["items","itemComponent"]);const{selectedItemKey:o}=W.default.useContext(qt),[l,s]=_.useState(!1),c=_.useMemo(d=>{let f=r["data-group-key"];return!l&&(o==null?void 0:o.startsWith(f))},[l,r,o]);return u(fe,{children:[u(Z.Item,I(v({},r),{className:C.default("px-0.5 transition-colors duration-150","select-none","rounded-md","font-semibold",{"cursor-pointer":r.selectable,"hover:bg-white hover:bg-opacity-5":!r.selected,"bg-blue-700 text-gray-50":r.selected},r.className),onClick:d=>s(f=>!f),children:[l?a(L.ChevronDownIcon,{className:"text-gray-200"}):a(L.ChevronRightIcon,{className:"text-gray-200"}),a("div",{className:"flex-1",children:r.children}),c&&a("div",{className:"w-[15px] h-[15px] flex items-center justify-center",children:a("div",{className:"w-2 h-2 rounded-full bg-blue-700 self-center"})})]})),l&&a("div",{className:"pl-3",children:a(ln,{"data-group-key":r["data-group-key"],"data-internal-key":r["data-internal-key"],items:e,itemComponent:t})})]})}function ln(s){var c=s,{items:e,itemComponent:t=on,itemDisplayTransform:r,groupDisplayTransform:n,isGroupTransform:i,hideEmptyGroups:o=!1}=c,l=N(c,["items","itemComponent","itemDisplayTransform","groupDisplayTransform","isGroupTransform","hideEmptyGroups"]);const{selectedItemKey:d,selectedItemInternalKey:f,handleSelect:p,maxDepth:y,keyTransform:g,itemProps:b}=W.default.useContext(qt);_.useEffect(h=>{if(f){let w=f.split(".").reduce(($,P)=>$?$[P]:void 0,e);w&&p(d,w,f)}},[e]);const S=h=>{if(!h)return null;if(typeof h=="object")return Object.keys(h).map(w=>{var E;let $=((E=l["data-group-key"])==null?void 0:E.split(".").length)||0,P=h[w],O=(i==null?void 0:i(w,P))||!ci(P)&&$<y,T=(g==null?void 0:g(w,P,O))||w,M=[l["data-group-key"],T].filter(Boolean).join("."),H=[l["data-internal-key"],w.replace(".","-")].filter(Boolean).join(".");return O?o&&!(P!=null&&P.length)?null:a(di,{"data-group-key":M,"data-internal-key":H,items:P,itemComponent:t,children:n?n(w,P):w},`group-${T}`):a(t,v({"data-item-key":M,"data-internal-key":H,selected:d===M,item:r?r(P):P,onClick:j=>p(M,P,H)},b),`item-${T}`)});throw new Error(`Unsupport type of items: ${typeof h}`)};return u(Z,I(v({},l),{className:"text-xs",size:"compact",children:[S(e),l.children]}))}const qt=W.default.createContext();function Ye(e){const[t,r]=_.useState(e.defaultValue),[n,i]=_.useState(e.defaultValue);function o(s,c,d){var f;r(s),i(d),(f=e.onSelect)==null||f.call(e,s,c)}let l=Object.keys(e).filter(s=>s.startsWith("itemOn")).reduce((s,c)=>I(v({},s),{[c.replace("itemOn","on")]:e[c]}),{});return a(qt.Provider,{value:{selectedItemKey:t,setSelectedItemKey:r,selectedItemInternalKey:n,setSelectedItemInternalKey:i,handleSelect:o,maxDepth:e.maxDepth,keyTransform:e.keyTransform,itemProps:l},children:a(ln,I(v({},e),{className:"text-xs",size:"compact"}))})}Ye.Item=on;const Ce=W.default.forwardRef((o,i)=>{var l=o,{type:e="scroll",onScroll:t,children:r}=l,n=N(l,["type","onScroll","children"]);return u(ct.Root,I(v({ref:i,type:e},n),{className:C.default("overflow-hidden","flex",n.className),children:[a(ct.Viewport,{className:"flex-1",onScroll:t,children:r}),a(ct.Scrollbar,{orientation:"vertical",className:"flex select-none touch-none px-0.5 py-1 radix-orientation-vertical:w-[11px]",children:a(ct.ScrollAreaThumb,{className:"flex-1 dark:bg-black dark:bg-opacity-50 hover:dark:bg-opacity-75 dark:shadow-gray-700 shadow-sm rounded-full relative"})})]}))});Ce.displayName="ScrollArea";const Ae=Te.Root;Ae.Trigger=Te.Trigger;function ui(r){var n=r,{className:e}=n,t=N(n,["className"]);return a(Te.Content,I(v({sideOffset:3},t),{className:C.default("rounded-lg text-gray-300 bg-gray-700","shadow-md","min-w-[180px]","p-1",e)}))}Ae.Content=ui;const Vt=W.default.forwardRef((n,r)=>{var i=n,{items:e}=i,t=N(i,["items"]);return a("div",I(v({ref:r},t),{className:C.default("text-gray-300 bg-gray-700","rounded-lg","shadow-md","min-w-[180px]","p-1",t.className),children:t.children}))});Vt.displayName="MenuContent";const ht=W.default.forwardRef((i,n)=>{var o=i,{item:e,children:t}=o,r=N(o,["item","children"]);return u("div",I(v({ref:n,className:C.default("relative","rounded-md","text-xs leading-none font-medium","flex flex-row items-center","pl-6 pr-1 h-6","focus:bg-blue-700 focus:outline-none","radix-state-open:bg-blue-900","radix-disabled:opacity-60 disabled:opacity-60",{"cursor-default":!e.action&&!e.items,"cursor-pointer":e.action||e.items})},r),{children:[e.icon&&a("div",{className:"absolute left-0 w-6 inline-flex items-center justify-center",children:a(e.icon,{className:"opacity-60"})}),e.label,e.detail&&a("div",{className:"ml-auto text-gray-400 text-xs",children:e.detail}),e.items&&a("div",{className:"ml-auto",children:a(L.ChevronRightIcon,{})}),t]}))});ht.displayName="MenuItem";const Re=n=>{var i=n,{items:e,asSubmenu:t=!1}=i,r=N(i,["items","asSubmenu"]);return u(te.Root,I(v({},r),{children:[a(te.Trigger,{asChild:!0,children:r.children}),a(sn,{children:e==null?void 0:e.map((o,l)=>typeof o=="object"?o.items?a(Bt,{item:o,asSubmenu:!0,items:o.items},`menu-item-${l}`):a(Bt,{item:o,disabled:!o.action,onSelect:s=>{var c;return(c=o.action)==null?void 0:c.call(o)}},`menu-item-${l}`):o==="-"?a(cn,{},`menu-item-${l}`):(console.warn("Unsupported item in DropdownMenu",o),null))})]}))};function sn(e){return a(te.Content,I(v({sideOffset:3},e),{asChild:!0,children:a(Vt,{children:e.children})}))}function Bt(e){return a(te.Item,I(v({},e),{asChild:!0,children:a(ht,{})}))}function cn(e){return a(te.Separator,{asChild:!0,children:a(k,{className:"my-1"})})}Re.Root=te.Root,Re.Trigger=te.Trigger,Re.Content=sn,Re.Item=Bt,Re.Separator=cn;var fi={badge:"_badge_1knwz_1"};function Gt(n){var i=n,{className:e,size:t}=i,r=N(i,["className","size"]);return a("div",{className:C.default(fi.badge,{"badge-sm":t=="sm"},e),children:r.children})}function dn(l){var s=l,{items:e,modal:t,asSubmenu:r=!1,onPointerDown:n,onPointerDownOutside:i}=s,o=N(s,["items","modal","asSubmenu","onPointerDown","onPointerDownOutside"]);let c=r?Me.TriggerItem:Me.Trigger;const[d,f]=_.useState(!1);function p(g){n==null||n(g)}function y(g){i==null||i(g)}return u(Me.Root,{modal:t,onOpenChange:f,children:[a(c,{asChild:r,onPointerDown:p,children:o.children}),a(Me.Content,{onPointerDownOutside:y,asChild:!0,children:a(Vt,{children:e==null?void 0:e.map((g,b)=>typeof g=="object"?g.items?a(dn,{asSubmenu:!0,items:g.items,children:a(ht,{item:g})},`menu-item-${b}`):a(Me.Item,{asChild:!0,disabled:!g.action,onSelect:S=>{var h;return(h=g.action)==null?void 0:h.call(g)},children:a(ht,{item:g})},`menu-item-${b}`):g==="-"?a(Me.Separator,{asChild:!0,children:a(k,{className:"my-1"})},`menu-item-${b}`):(console.warn("Unsupported item in ContextMenu",g),null))})})]})}function un(t){var e=N(t,[]);return a(ce,v({options:[4800,9600,14400,19200,38400,57600,115200]},e))}function hi({defaultValue:e,onChange:t}){const[r,n]=_.useState(e);return _.useEffect(i=>t==null?void 0:t(r),[r]),u(Pe,{value:r,onValueChange:i=>n(i!=null&&i.length?i:null),className:"flex-none",children:[a(Pe.Item,{value:"fdm_printer",className:"rounded-md",children:a(Dt,{})}),a(Pe.Item,{value:"msla_printer",className:"rounded-md",children:a(Pr,{})}),a(Pe.Item,{value:"cnc",className:"rounded-md",children:a(Nr,{})}),a(Pe.Item,{value:"laser",className:"rounded-md",children:a(Sr,{})})]})}function mi(r){var n=r,{itemComponent:e=pi}=n,t=N(n,["itemComponent"]);return a(Ye,v({divide:!1,hideEmptyGroups:!0,itemComponent:e,maxDepth:1,keyTransform:(i,o,l)=>l?i:Xe.pathCase(o.model),groupDisplayTransform:i=>Xe.titleCase(i)},t))}function pi(r){var n=r,{item:e}=n,t=N(n,["item"]);return a(Ye.Item,I(v({selectable:!0},t),{children:a(x,{orientation:"vertical",className:"flex-1",children:u(x,{className:"flex-1",children:[a("span",{className:"mr-auto",children:e.model}),a("div",{className:"text-gray-500 hover:text-gray-300 transition-colors duration-150",children:a(ye,{content:a(gi,{profile:e}),side:"right",sideOffset:10,align:"center",showArrow:!0,children:a(L.InfoCircledIcon,{})})})]})})}))}function gi({profile:e}){var r;let t=useMemo(n=>{switch(e.type){case"fdm_printer":return{"Max speed":e.max_speed,"Printing volume":[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x"),Extrudes:e.extruders};case"msla_printer":return{"Printing volume":[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x")};case"cnc":return{"Max speed":e.max_speed,Volume:[e.volume.width,e.volume.height,e.volume.depth].filter(Boolean).join("x")}}},[e]);return a(x,{orientation:"vertical",className:"w-full min-w-[200px]",children:(r=Object.keys(t))==null?void 0:r.map(n=>u(x,{className:"justify-between",children:[a(R,{children:a("span",{className:"text-gray-400",children:n})}),a("span",{className:"font-semibold",children:t[n]||"-"})]},`info-${n}`))})}function vi(e){return a(ce,v({options:[{value:"fdm_printer",label:"FDM Printer"},{value:"msla_printer",label:"MSLA Printer"},{value:"cnc",label:"CNC"}]},e))}function yi(){var t;const{values:e}=le.useFormikContext();return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{htmlFor:"volume.width",children:"X (Width)"}),a(U,{name:"volume.width",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"volume.depth",children:"Y (Depth)"}),a(U,{name:"volume.depth",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"volume.height",children:"Z (Height)"}),a(U,{name:"volume.height",type:"number",disabled:((t=e.volume)==null?void 0:t.formFactor)!="rectangular"})]}),u(x,{children:[a(R,{htmlFor:"volume.formFactor",children:"Form factor"}),a(ce,{name:"volume.formFactor",options:[{value:"rectangular",label:"Rectangular"},{value:"elliptic",label:"Elliptic"}]})]}),u(x,{children:[a(R,{htmlFor:"bed.heated",children:"Heated bed"}),a(rn,{name:"bed.heated"})]}),u(x,{children:[a(R,{htmlFor:"volume.origin",children:"Origin"}),a(ce,{name:"volume.origin",options:[{value:"lower-left",label:"Default"},{value:"center",label:"Center"}]})]}),a(k,{}),u(x,{children:[a(R,{htmlFor:"gCodeVersion",children:"GCode version"}),a(ce,{name:"gCodeVersion",options:["marlin"]})]}),a(k,{}),u(x,{children:[a(R,{htmlFor:"xAxis.maxSpeed",children:"Feedrate Max X"}),a(U,{name:"xAxis.maxSpeed",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"yAxis.maxSpeed",children:"Feedrate Max Y"}),a(U,{name:"yAxis.maxSpeed",type:"number"})]}),u(x,{children:[a(R,{htmlFor:"zAxis.maxSpeed",children:"Feedrate Max Z"}),a(U,{name:"zAxis.maxSpeed",type:"number"})]}),a(k,{}),a(le.FieldArray,{name:"extruders",children:({push:r,remove:n})=>{var i;return u(fe,{children:[u(x,{children:[a(R,{children:"Extruders"}),a(X,{size:"sm",squared:!0,onClick:o=>r({nozzleDiameter:.4,xOffset:0,yOffset:0}),children:a(L.PlusIcon,{})})]}),a(Z,{className:"space-y-2",children:(i=e==null?void 0:e.extruders)==null?void 0:i.map((o,l)=>a(Z.Item,{className:"group border-dashed border border-gray-700 rounded-md p-2",children:u(x,{orientation:"vertical",className:"flex-1",children:[u(x,{className:"border-b border-gray-700 border-dashed pb-2 -mx-2 px-2",children:[u(R,{children:["Extruder #",l]}),a(X,{size:"xs",squared:!0,rounded:!0,onClick:s=>n(l),className:"opacity-0 group-hover:opacity-100 transition duration-150",children:a(L.Cross2Icon,{})})]}),a(_i,{index:l})]})},`extruder-${l}`))})]})}})]})}function _i({index:e}){return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{htmlFor:`extruders[${e}].nozzleDiameter`,children:"Nozzle diameter"}),a(U,{name:`extruders[${e}].nozzleDiameter`,type:"number"})]}),u(x,{children:[a(R,{htmlFor:`extruders[${e}].xOffset`,children:"X offset"}),a(U,{name:`extruders[${e}].xOffset`,type:"number"})]}),u(x,{children:[a(R,{htmlFor:`extruders[${e}].yOffset`,children:"Y offset"}),a(U,{name:`extruders[${e}].yOffset`,type:"number"})]})]})}function xi(){return u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{children:"X (Width)"}),a(U,{name:"width",type:"number"})]}),u(x,{children:[a(R,{children:"Y (Depth)"}),a(U,{name:"depth",type:"number"})]}),u(x,{children:[a(R,{children:"Z (Height)"}),a(U,{name:"height",type:"number"})]})]})}function bi({profile:e}){const[t,r]=_.useState("fdm_printer"),n=_.useMemo(s=>({brand:"",model:"",type:t}),[t]),i=_.useMemo(s=>ve.object({brand:ve.string().required("Missing device brand"),model:ve.string().required("Missing device model")}),[]),o=_.useMemo(s=>{switch(t){case"fdm_printer":return v(I(v({},n),{volume:{width:200,depth:200,height:200,origin:"lower-left",formFactor:"rectangular"},bed:{heated:!0},gCodeVersion:"marlin",xAxis:{maxSpeed:6e3},yAxis:{maxSpeed:6e3},zAxis:{maxSpeed:3e3}}),e);case"msla_printer":return v(I(v({},n),{volume:{width:120,depth:85,height:130}}),e);default:return v(v({},n),e)}},[n,t,e]);function l(s){e.id?A.coreSocket.emit("profiles:update",e.id,s,c=>{console.log("Updated profile",c)}):A.coreSocket.emit("profiles:add",s,c=>{console.log("Added profile",c)})}return a(Ze,{onSubmit:l,validationSchema:i,initialValues:o,enableReinitialize:!0,children:a(wi,{deviceType:t,onDeviceTypeChange:r})})}function wi(n){var i=n,{deviceType:e,onDeviceTypeChange:t}=i,r=N(i,["deviceType","onDeviceTypeChange"]);let{values:o}=le.useFormikContext();return _.useEffect(l=>{t==null||t(o==null?void 0:o.type)},[t,o==null?void 0:o.type]),u(fe,{children:[u(x,{orientation:"vertical",children:[u(x,{children:[a(R,{children:"Brand"}),a(U,{name:"brand",disabled:o==null?void 0:o.id})]}),u(x,{children:[a(R,{children:"Model"}),a(U,{name:"model",disabled:o==null?void 0:o.id})]}),u(x,{children:[a(R,{children:"Device type"}),a(vi,{name:"type",disabled:o==null?void 0:o.id})]})]}),a(k,{}),u("div",{className:"flex-1",children:[e=="fdm_printer"&&a(yi,{}),e=="msla_printer"&&a(xi,{})]}),a(k,{}),a(x,{className:"justify-end",children:a(X,{type:"submit",children:"Save"})})]})}function fn(t){var e=N(t,[]);const{profiles:r}=A.useAppContext(),[n,i]=_.useState(""),[o,l]=_.useState({}),s=_.useMemo(T=>Object.keys(r).reduce((M,H)=>{let E=r[H],j=E.brand||"Generic";return M[j]||(M[j]=[]),M[j].push(E),M},{}),[r]),c=_.useMemo(T=>{let M=v({},s);if(o.type&&Object.keys(M).map(H=>{M[H]=M[H].filter(E=>E.type==o.type)}),n!=null&&n.length){let H=new RegExp(`.?(${n}).?`,"i");Object.keys(M).map(E=>{M[E]=M[E].filter(j=>H.test(j.model))})}return M},[s,o,n]),d=_.useMemo(T=>Object.keys(c).reduce((M,H)=>M+c[H].length,0),[c]),[f,p]=_.useState(),[y,g]=_.useState(),[b,S]=_.useState(),[h,w]=_.useState();function $(T){console.log("Edit",T),S(T),p(!0)}function P(T){console.log("Delete",T),w(T),g(!0)}function O(){console.log("Should delete"),A.coreSocket.emit("profiles:delete",h.id,T=>{console.log("Deleted profile",T)})}return u(fe,{children:[u(Ce,{className:C.default("bg-gray-800 rounded-lg overflow-hidden",e.className),children:[u("div",{className:"h-10 px-2 py-1 flex flex-row space-x-2 absolute top-0 inset-x-0 items-center border-b border-gray-700 bg-gray-800/80 rounded-t-lg overflow-hidden",children:[a(hi,{onChange:T=>l(M=>I(v({},M),{type:T}))}),a(k,{orientation:"vertical"}),a(L.MagnifyingGlassIcon,{className:"flex-none"}),u("div",{className:"relative flex items-center",children:[a(Le,{className:C.default("w-full bg-gray-800",{"!pr-[22px]":n==null?void 0:n.length}),placeholder:"Search model...",value:n,onChange:T=>i(T.target.value)}),Boolean(n==null?void 0:n.length)&&a("div",{className:"absolute right-0 inset-y-0 px-1 flex items-center",children:a("div",{className:" bg-gray-600 rounded-full cursor-pointer hover:bg-gray-500 transition-colors duration-150",onClick:T=>i(""),children:a(L.Cross2Icon,{className:"scale-75"})})})]}),a(k,{orientation:"vertical"}),a(ye,{size:"hint",content:"Add profile",children:a(X,{squared:!0,size:"sm",onClick:T=>{S(void 0),p(!0)},children:a(L.PlusIcon,{})})})]}),d?a("div",{className:"pt-11 px-1",children:a(mi,v({items:c,itemComponent:Pi,itemOnEdit:$,itemOnDelete:P},e))}):a(Qn,{className:"absolute inset-0 top-10",text:"No profiles"})]}),a(Ne.Root,{open:f,onOpenChange:p,children:a(Ne.Content,{title:"Device profile",children:a(Ce,{className:"h-full",children:a(bi,{profile:b})})})}),a(Se.Root,{open:y,onOpenChange:g,children:a(Se.Content,{title:"Delete profile",onConfirm:O,children:u("span",{className:"font-medium",children:["Are you sure you want do delete ",a("span",{className:"font-bold text-blue-500",children:h==null?void 0:h.id})," profile?"]})})})]})}function Pi(i){var o=i,{item:e,onEdit:t,onDelete:r}=o,n=N(o,["item","onEdit","onDelete"]);function l(s){s.preventDefault(),s.stopPropagation(),r==null||r(e)}return a(Ye.Item,I(v({selectable:!0},n),{className:"group",children:a(x,{orientation:"vertical",className:"flex-1",children:u(x,{className:"flex-1",children:[a("span",{className:"mr-auto",children:e.model}),u("div",{className:"flex flex-row items-center space-x-1 text-gray-500 hover:text-gray-300 transition-colors duration-150",children:[a(ye,{content:"Edit",size:"hint",children:a(L.Pencil2Icon,{className:"invisible group-hover:visible",onClick:s=>t==null?void 0:t(e)})}),a(ye,{content:"Delete",size:"hint",children:a(L.TrashIcon,{className:"invisible group-hover:visible",onClick:l})})]})]})})}))}function Ni(t){var e=N(t,[]);function r(n,i){var o,l;((o=e.field)==null?void 0:o.name)&&typeof((l=e.form)==null?void 0:l.setFieldValue)=="function"&&e.form.setFieldValue(e.field.name,i.id)}return a(fn,{onSelect:r,className:"h-[200px]"})}function Xt({device:e}){var n;const t=A.useSerialPorts();function r(i,o){e.id?A.coreSocket.emit("devices:update",e.id,i,l=>{console.log("Updated device")}):A.coreSocket.emit("devices:add",i,l=>{console.log("Created device")})}return a(Ze,{enableReinitialize:!0,initialValues:{id:e.id||"",name:e.name||Xe.getSuggestedName(e==null?void 0:e.vendorId,e==null?void 0:e.productId),profileId:((n=e.profile)==null?void 0:n.id)||e.profileId||"",port:(e==null?void 0:e.port)||"",baudrate:(e==null?void 0:e.baudrate)||"auto",serialNumber:e==null?void 0:e.serialNumber,vendorId:e==null?void 0:e.vendorId,productId:e==null?void 0:e.productId},validationSchema:ve.object({name:ve.string().required(),profileId:ve.string().required(),port:ve.string().required(),baudrate:ve.mixed().required()}),onSubmit:r,children:d=>{var f=d,{values:i,initialValues:o,errors:l,touched:s}=f,c=N(f,["values","initialValues","errors","touched"]);return u(x,{orientation:"vertical",children:[a(U,{type:"hidden",name:"id"}),u(x,{orientation:"vertical",children:[a(R,{htmlFor:"name",children:"Name"}),a(U,{type:"text",name:"name",className:"w-full",autoComplete:"off"})]}),a(k,{}),u(x,{orientation:"vertical",className:"text-xs",children:[a(q,{label:"Serial number",value:i.serialNumber||"-"}),a(q,{label:"Vendor ID",value:i.vendorId||"-"}),a(q,{label:"Product ID",value:i.productId||"-"})]}),a(k,{}),u(x,{orientation:"vertical",children:[u(x,{className:"justify-between",children:[a(R,{htmlFor:"profile",children:"Device profile"}),a(Le,{placeholder:"No profile selected",className:"!bg-transparent !border-dashed !ring-0",error:c.submitCount&&l.profileId,disabled:!0,value:i.profileId})]}),a(le.Field,{name:"profileId",component:Ni})]}),a(k,{}),u(x,{orientation:"vertical",children:[u(x,{className:"justify-between",children:[a(R,{htmlFor:"port",children:"Port"}),o.port?a(Le,{value:o.port,disabled:!0,className:"w-max"}):a(ce,{name:"port",options:t==null?void 0:t.map(p=>p.path),defaultValue:e==null?void 0:e.port.path})]}),u(x,{className:"justify-between",children:[a(R,{htmlFor:"baudrate",children:"Baudrate"}),a(un,{name:"baudrate"})]})]}),a(k,{}),a(x,{className:"justify-end",children:a(X,{type:"submit",children:"Save"})})]})}})}function Si({onSelectDevice:e}){const t=A.useSerialPorts();function r(n){let i=n.device||{};i.port=n.path,i.vendorId=n.vendorId,i.productId=n.productId,e==null||e(i)}return u(fe,{children:[a("div",{className:"text-gray-500 text-sm font-normal",children:"Select the device on the listed ports below. If no device has been automatically detected, you can manually select the port and proceed to the manual configuration."}),a(_e,{headers:["Port","Info",null],className:"text-sm",children:t==null?void 0:t.map(n=>a(Ci,{port:n,onClick:i=>r(n)},`port-${n.path}`))})]})}function Ci(r){var n=r,{port:e}=n,t=N(n,["port"]);const i=_.useMemo(o=>e.vendorId?Xe.getProductInfo(e.vendorId,e.productId):null,[e.vendorId,e.productId]);return u(_e.Row,I(v({className:"select-none cursor-pointer h-14 max-h-14"},t),{children:[a(_e.Data,{className:"w-52",children:u("div",{className:"flex flex-col",children:[a("span",{className:"text-sm font-semibold",children:e.manufacturer||"-"}),a("span",{className:"text-xs text-gray-600",children:e.path})]})}),a(_e.Data,{className:"text-xs",children:u("div",{className:"flex flex-col",children:[a("span",{children:(i==null?void 0:i.vendorName)||(e.vendorId?`VID: ${e.vendorId}`:"Unknown")}),a("span",{children:(i==null?void 0:i.productName)||(e.productId?`PID: ${e.productId}`:"Unknown")})]})}),a(_e.Data,{children:a(L.CaretRightIcon,{})})]}))}function Ri({device:e,props:t}){const[r,n]=_.useState(e);return r?a(Xt,{device:r}):a(Si,{onSelectDevice:n})}function Ei(){return a(Ut,{children:a("div",{className:"flex flex-col space-y-2",children:u("div",{className:"flex flex-row space-x-3 text-gray-300 items-center",children:[a(Wt,{size:"xl"}),a("span",{className:"font-semibold",children:"Loading app data..."})]})})})}var mt={},Q={},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.removePathTrailingSlash=Kt,je.normalizePathTrailingSlash=void 0;function Kt(e){return e.endsWith("/")&&e!=="/"?e.slice(0,-1):e}const Ii={}.__NEXT_TRAILING_SLASH?e=>/\.[^/]+\/?$/.test(e)?Kt(e):e.endsWith("/")?e:e+"/":Kt;je.normalizePathTrailingSlash=Ii;var Ee={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=$i;function $i(e,t=""){return(e==="/"?"/index":/^\/index(\/|$)/.test(e)?`/index${e}`:`${e}`)+t}var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.cancelIdleCallback=Ie.requestIdleCallback=void 0;const Di=typeof self!="undefined"&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};Ie.requestIdleCallback=Di;const Oi=typeof self!="undefined"&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};Ie.cancelIdleCallback=Oi,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.markAssetError=$e,Ee.isAssetError=ji,Ee.getClientBuildManifest=gn,Ee.getMiddlewareManifest=Fi,Ee.createRouteLoader=Hi,Ti(Zt);var hn=Ie;function Ti(e){return e&&e.__esModule?e:{default:e}}const Yt=3800;function mn(e,t,r){let n=t.get(e);if(n)return"future"in n?n.future:Promise.resolve(n);let i;const o=new Promise(l=>{i=l});return t.set(e,n={resolve:i,future:o}),r?r().then(l=>(i(l),l)).catch(l=>{throw t.delete(e),l}):o}function Mi(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch{return!1}}const Li=Mi();function Ai(e,t,r){return new Promise((n,i)=>{const o=`
      link[rel="prefetch"][href^="${e}"],
      link[rel="preload"][href^="${e}"],
      script[src^="${e}"]`;if(document.querySelector(o))return n();r=document.createElement("link"),t&&(r.as=t),r.rel="prefetch",r.crossOrigin={}.__NEXT_CROSS_ORIGIN,r.onload=n,r.onerror=i,r.href=e,document.head.appendChild(r)})}const pn=Symbol("ASSET_LOAD_ERROR");function $e(e){return Object.defineProperty(e,pn,{})}function ji(e){return e&&pn in e}function ki(e,t){return new Promise((r,n)=>{t=document.createElement("script"),t.onload=r,t.onerror=()=>n($e(new Error(`Failed to load script: ${e}`))),t.crossOrigin={}.__NEXT_CROSS_ORIGIN,t.src=e,document.body.appendChild(t)})}function Qt(e,t,r){return new Promise((n,i)=>{let o=!1;e.then(l=>{o=!0,n(l)}).catch(i),hn.requestIdleCallback(()=>setTimeout(()=>{o||i(r)},t))})}function gn(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);const e=new Promise(t=>{const r=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{t(self.__BUILD_MANIFEST),r&&r()}});return Qt(e,Yt,$e(new Error("Failed to load client build manifest")))}function Fi(){if(self.__MIDDLEWARE_MANIFEST)return Promise.resolve(self.__MIDDLEWARE_MANIFEST);const e=new Promise(t=>{const r=self.__MIDDLEWARE_MANIFEST_CB;self.__MIDDLEWARE_MANIFEST_CB=()=>{t(self.__MIDDLEWARE_MANIFEST),r&&r()}});return Qt(e,Yt,$e(new Error("Failed to load client middleware manifest")))}function vn(e,t){return gn().then(r=>{if(!(t in r))throw $e(new Error(`Failed to lookup route: ${t}`));const n=r[t].map(i=>e+"/_next/"+encodeURI(i));return{scripts:n.filter(i=>i.endsWith(".js")),css:n.filter(i=>i.endsWith(".css"))}})}function Hi(e){const t=new Map,r=new Map,n=new Map,i=new Map;function o(s){{let c=r.get(s);return c||(document.querySelector(`script[src^="${s}"]`)?Promise.resolve():(r.set(s,c=ki(s)),c))}}function l(s){let c=n.get(s);return c||(n.set(s,c=fetch(s).then(d=>{if(!d.ok)throw new Error(`Failed to load stylesheet: ${s}`);return d.text().then(f=>({href:s,content:f}))}).catch(d=>{throw $e(d)})),c)}return{whenEntrypoint(s){return mn(s,t)},onEntrypoint(s,c){(c?Promise.resolve().then(()=>c()).then(d=>({component:d&&d.default||d,exports:d}),d=>({error:d})):Promise.resolve(void 0)).then(d=>{const f=t.get(s);f&&"resolve"in f?d&&(t.set(s,d),f.resolve(d)):(d?t.set(s,d):t.delete(s),i.delete(s))})},loadRoute(s,c){return mn(s,i,()=>Qt(vn(e,s).then(({scripts:d,css:f})=>Promise.all([t.has(s)?[]:Promise.all(d.map(o)),Promise.all(f.map(l))])).then(d=>this.whenEntrypoint(s).then(f=>({entrypoint:f,styles:d[1]}))),Yt,$e(new Error(`Route did not complete loading: ${s}`))).then(({entrypoint:d,styles:f})=>{const p=Object.assign({styles:f},d);return"error"in d?d:p}).catch(d=>{if(c)throw d;return{error:d}}).finally(()=>{}))},prefetch(s){let c;return(c=navigator.connection)&&(c.saveData||/2g/.test(c.effectiveType))?Promise.resolve():vn(e,s).then(d=>Promise.all(Li?d.scripts.map(f=>Ai(f,"script")):[])).then(()=>{hn.requestIdleCallback(()=>this.loadRoute(s,!0).catch(()=>{}))}).catch(()=>{})}}}var Qe={},pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.getObjectClassLabel=yn,pt.isPlainObject=Ui;function yn(e){return Object.prototype.toString.call(e)}function Ui(e){if(yn(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=_n,Qe.getProperError=Wi;var zi=pt;function _n(e){return typeof e=="object"&&e!==null&&"name"in e&&"message"in e}function Wi(e){return _n(e)?e:new Error(zi.isPlainObject(e)?JSON.stringify(e):e+"")}var gt={},xn={},vt={},ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.getParametrizedRoute=Pn,ke.getRouteRegex=qi;function bn(e){return e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")}function wn(e){const t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));const r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function Pn(e){const t=(e.replace(/\/$/,"")||"/").slice(1).split("/"),r={};let n=1;const i=t.map(o=>{if(o.startsWith("[")&&o.endsWith("]")){const{key:l,optional:s,repeat:c}=wn(o.slice(1,-1));return r[l]={pos:n++,repeat:c,optional:s},c?s?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}else return`/${bn(o)}`}).join("");if(typeof window=="undefined"){let o=97,l=1;const s=()=>{let f="";for(let p=0;p<l;p++)f+=String.fromCharCode(o),o++,o>122&&(l++,o=97);return f},c={};let d=t.map(f=>{if(f.startsWith("[")&&f.endsWith("]")){const{key:p,optional:y,repeat:g}=wn(f.slice(1,-1));let b=p.replace(/\W/g,""),S=!1;return(b.length===0||b.length>30)&&(S=!0),isNaN(parseInt(b.substr(0,1)))||(S=!0),S&&(b=s()),c[b]=p,g?y?`(?:/(?<${b}>.+?))?`:`/(?<${b}>.+?)`:`/(?<${b}>[^/]+?)`}else return`/${bn(f)}`}).join("");return{parameterizedRoute:i,namedParameterizedRoute:d,groups:r,routeKeys:c}}return{parameterizedRoute:i,groups:r}}function qi(e){const t=Pn(e);return"routeKeys"in t?{re:new RegExp(`^${t.parameterizedRoute}(?:/)?$`),groups:t.groups,routeKeys:t.routeKeys,namedRegex:`^${t.namedParameterizedRoute}(?:/)?$`}:{re:new RegExp(`^${t.parameterizedRoute}(?:/)?$`),groups:t.groups}}Object.defineProperty(vt,"__esModule",{value:!0}),vt.getMiddlewareRegex=Bi;var Vi=ke;function Bi(e,t=!0){const r=Vi.getParametrizedRoute(e);let n=t?"(?!_next).*":"",i=t?"(?:(/.*)?)":"";return"routeKeys"in r?r.parameterizedRoute==="/"?{groups:{},namedRegex:`^/${n}$`,re:new RegExp(`^/${n}$`),routeKeys:{}}:{groups:r.groups,namedRegex:`^${r.namedParameterizedRoute}${i}$`,re:new RegExp(`^${r.parameterizedRoute}${i}$`),routeKeys:r.routeKeys}:r.parameterizedRoute==="/"?{groups:{},re:new RegExp(`^/${n}$`)}:{groups:{},re:new RegExp(`^${r.parameterizedRoute}${i}$`)}}var yt={},V={},Jt={},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.searchParamsToUrlQuery=Gi,xe.urlQueryToSearchParams=Xi,xe.assign=Ki;function Gi(e){const t={};return e.forEach((r,n)=>{typeof t[n]=="undefined"?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t}function Nn(e){return typeof e=="string"||typeof e=="number"&&!isNaN(e)||typeof e=="boolean"?String(e):""}function Xi(e){const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{Array.isArray(n)?n.forEach(i=>t.append(r,Nn(i))):t.set(r,Nn(n))}),t}function Ki(e,...t){return t.forEach(r=>{Array.from(r.keys()).forEach(n=>e.delete(n)),r.forEach((n,i)=>e.append(i,n))}),e}Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.formatUrl=Ji;var Zi=Yi(xe);function Yi(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}const Qi=/https?|ftp|gopher|file/;function Ji(e){let{auth:t,hostname:r}=e,n=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",s=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?s=t+e.host:r&&(s=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(s+=":"+e.port)),l&&typeof l=="object"&&(l=String(Zi.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&n.substr(-1)!==":"&&(n+=":"),e.slashes||(!n||Qi.test(n))&&s!==!1?(s="//"+(s||""),i&&i[0]!=="/"&&(i="/"+i)):s||(s=""),o&&o[0]!=="#"&&(o="#"+o),c&&c[0]!=="?"&&(c="?"+c),i=i.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${s}${i}${c}${o}`}Object.defineProperty(V,"__esModule",{value:!0}),V.execOnce=ro,V.getLocationOrigin=Sn,V.getURL=no,V.getDisplayName=Cn,V.isResSent=Rn,V.normalizeRepeatedSlashes=ao,V.loadGetInitialProps=En,V.formatWithValidation=oo,V.HtmlContext=V.ST=V.SP=V.urlObjectKeys=void 0;var eo=W.default,to=Jt;function ro(e){let t=!1,r;return(...n)=>(t||(t=!0,r=e(...n)),r)}function Sn(){const{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function no(){const{href:e}=window.location,t=Sn();return e.substring(t.length)}function Cn(e){return typeof e=="string"?e:e.displayName||e.name||"Unknown"}function Rn(e){return e.finished||e.headersSent}function ao(e){const t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function En(e,t){const r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await En(t.Component,t.ctx)}:{};const n=await e.getInitialProps(t);if(r&&Rn(r))return n;if(!n){const i=`"${Cn(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`;throw new Error(i)}return n}const io=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];V.urlObjectKeys=io;function oo(e){return to.formatUrl(e)}const In=typeof performance!="undefined";V.SP=In;const lo=In&&typeof performance.mark=="function"&&typeof performance.measure=="function";V.ST=lo;class so extends Error{}V.DecodeError=so;const co=eo.createContext(null);V.HtmlContext=co,Object.defineProperty(yt,"__esModule",{value:!0}),yt.getRouteMatcher=fo;var uo=V;function fo(e){const{re:t,groups:r}=e;return n=>{const i=t.exec(n);if(!i)return!1;const o=s=>{try{return decodeURIComponent(s)}catch{throw new uo.DecodeError("failed to decode param")}},l={};return Object.keys(r).forEach(s=>{const c=r[s],d=i[c.pos];d!==void 0&&(l[s]=~d.indexOf("/")?d.split("/").map(f=>o(f)):c.repeat?[o(d)]:o(d))}),l}}var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.getSortedRoutes=ho;class tr{insert(t){this._insert(t.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(t="/"){const r=[...this.children.keys()].sort();this.slugName!==null&&r.splice(r.indexOf("[]"),1),this.restSlugName!==null&&r.splice(r.indexOf("[...]"),1),this.optionalRestSlugName!==null&&r.splice(r.indexOf("[[...]]"),1);const n=r.map(i=>this.children.get(i)._smoosh(`${t}${i}/`)).reduce((i,o)=>[...i,...o],[]);if(this.slugName!==null&&n.push(...this.children.get("[]")._smoosh(`${t}[${this.slugName}]/`)),!this.placeholder){const i=t==="/"?"/":t.slice(0,-1);if(this.optionalRestSlugName!=null)throw new Error(`You cannot define a route with the same specificity as a optional catch-all route ("${i}" and "${i}[[...${this.optionalRestSlugName}]]").`);n.unshift(i)}return this.restSlugName!==null&&n.push(...this.children.get("[...]")._smoosh(`${t}[...${this.restSlugName}]/`)),this.optionalRestSlugName!==null&&n.push(...this.children.get("[[...]]")._smoosh(`${t}[[...${this.optionalRestSlugName}]]/`)),n}_insert(t,r,n){if(t.length===0){this.placeholder=!1;return}if(n)throw new Error("Catch-all must be the last part of the URL.");let i=t[0];if(i.startsWith("[")&&i.endsWith("]")){let s=function(c,d){if(c!==null&&c!==d)throw new Error(`You cannot use different slug names for the same dynamic path ('${c}' !== '${d}').`);r.forEach(f=>{if(f===d)throw new Error(`You cannot have the same slug name "${d}" repeat within a single dynamic path`);if(f.replace(/\W/g,"")===i.replace(/\W/g,""))throw new Error(`You cannot have the slug names "${f}" and "${d}" differ only by non-word symbols within a single dynamic path`)}),r.push(d)},o=i.slice(1,-1),l=!1;if(o.startsWith("[")&&o.endsWith("]")&&(o=o.slice(1,-1),l=!0),o.startsWith("...")&&(o=o.substring(3),n=!0),o.startsWith("[")||o.endsWith("]"))throw new Error(`Segment names may not start or end with extra brackets ('${o}').`);if(o.startsWith("."))throw new Error(`Segment names may not start with erroneous periods ('${o}').`);if(n)if(l){if(this.restSlugName!=null)throw new Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${t[0]}" ).`);s(this.optionalRestSlugName,o),this.optionalRestSlugName=o,i="[[...]]"}else{if(this.optionalRestSlugName!=null)throw new Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${t[0]}").`);s(this.restSlugName,o),this.restSlugName=o,i="[...]"}else{if(l)throw new Error(`Optional route parameters are not yet supported ("${t[0]}").`);s(this.slugName,o),this.slugName=o,i="[]"}}this.children.has(i)||this.children.set(i,new tr),this.children.get(i)._insert(t.slice(1),r,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function ho(e){const t=new tr;return e.forEach(r=>t.insert(r)),t.smoosh()}var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.isDynamicRoute=po;const mo=/\/\[[^/]+?\](?=\/|$)/;function po(e){return mo.test(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getMiddlewareRegex",{enumerable:!0,get:function(){return t.getMiddlewareRegex}}),Object.defineProperty(e,"getRouteMatcher",{enumerable:!0,get:function(){return r.getRouteMatcher}}),Object.defineProperty(e,"getRouteRegex",{enumerable:!0,get:function(){return n.getRouteRegex}}),Object.defineProperty(e,"getSortedRoutes",{enumerable:!0,get:function(){return i.getSortedRoutes}}),Object.defineProperty(e,"isDynamicRoute",{enumerable:!0,get:function(){return o.isDynamicRoute}});var t=vt,r=yt,n=ke,i=er,o=_t})(xn),Object.defineProperty(gt,"__esModule",{value:!0}),gt.normalizePathSep=$n,gt.denormalizePagePath=vo;var go=xn;function $n(e){return e.replace(/\\/g,"/")}function vo(e){return e=$n(e),e.startsWith("/index/")&&!go.isDynamicRoute(e)?e=e.slice(6):e==="/index"&&(e="/"),e}var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.normalizeLocalePath=yo;function yo(e,t){let r;const n=e.split("/");return(t||[]).some(i=>n[1]&&n[1].toLowerCase()===i.toLowerCase()?(r=i,n.splice(1,1),e=n.join("/")||"/",!0):!1),{pathname:e,detectedLocale:r}}var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=_o;function _o(){const e=Object.create(null);return{on(t,r){(e[t]||(e[t]=[])).push(r)},off(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit(t,...r){(e[t]||[]).slice().map(n=>{n(...r)})}}}var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.parseRelativeUrl=wo;var xo=V,bo=xe;function wo(e,t){const r=new URL(typeof window=="undefined"?"http://n":xo.getLocationOrigin()),n=t?new URL(t,r):r,{pathname:i,searchParams:o,search:l,hash:s,href:c,origin:d}=new URL(e,n);if(d!==r.origin)throw new Error(`invariant: invalid relative URL, router received ${e}`);return{pathname:i,query:bo.searchParamsToUrlQuery(o),search:l,hash:s,href:c.slice(r.origin.length)}}var nr={},de={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});function Po(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var i="",o=r+1;o<e.length;){var l=e.charCodeAt(o);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){i+=e[o++];continue}break}if(!i)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=o;continue}if(n==="("){var s=1,c="",o=r+1;if(e[o]==="?")throw new TypeError('Pattern cannot start with "?" at '+o);for(;o<e.length;){if(e[o]==="\\"){c+=e[o++]+e[o++];continue}if(e[o]===")"){if(s--,s===0){o++;break}}else if(e[o]==="("&&(s++,e[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+o);c+=e[o++]}if(s)throw new TypeError("Unbalanced pattern at "+r);if(!c)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:c}),r=o;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function ar(e,t){t===void 0&&(t={});for(var r=Po(e),n=t.prefixes,i=n===void 0?"./":n,o="[^"+Fe(t.delimiter||"/#?")+"]+?",l=[],s=0,c=0,d="",f=function(M){if(c<r.length&&r[c].type===M)return r[c++].value},p=function(M){var H=f(M);if(H!==void 0)return H;var E=r[c],j=E.type,B=E.index;throw new TypeError("Unexpected "+j+" at "+B+", expected "+M)},y=function(){for(var M="",H;H=f("CHAR")||f("ESCAPED_CHAR");)M+=H;return M};c<r.length;){var g=f("CHAR"),b=f("NAME"),S=f("PATTERN");if(b||S){var h=g||"";i.indexOf(h)===-1&&(d+=h,h=""),d&&(l.push(d),d=""),l.push({name:b||s++,prefix:h,suffix:"",pattern:S||o,modifier:f("MODIFIER")||""});continue}var w=g||f("ESCAPED_CHAR");if(w){d+=w;continue}d&&(l.push(d),d="");var $=f("OPEN");if($){var h=y(),P=f("NAME")||"",O=f("PATTERN")||"",T=y();p("CLOSE"),l.push({name:P||(O?s++:""),pattern:P&&!O?o:O,prefix:h,suffix:T,modifier:f("MODIFIER")||""});continue}p("END")}return l}ue.parse=ar;function No(e,t){return Dn(ar(e,t),t)}ue.compile=No;function Dn(e,t){t===void 0&&(t={});var r=ir(t),n=t.encode,i=n===void 0?function(c){return c}:n,o=t.validate,l=o===void 0?!0:o,s=e.map(function(c){if(typeof c=="object")return new RegExp("^(?:"+c.pattern+")$",r)});return function(c){for(var d="",f=0;f<e.length;f++){var p=e[f];if(typeof p=="string"){d+=p;continue}var y=c?c[p.name]:void 0,g=p.modifier==="?"||p.modifier==="*",b=p.modifier==="*"||p.modifier==="+";if(Array.isArray(y)){if(!b)throw new TypeError('Expected "'+p.name+'" to not repeat, but got an array');if(y.length===0){if(g)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var S=0;S<y.length;S++){var h=i(y[S],p);if(l&&!s[f].test(h))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but got "'+h+'"');d+=p.prefix+h+p.suffix}continue}if(typeof y=="string"||typeof y=="number"){var h=i(String(y),p);if(l&&!s[f].test(h))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but got "'+h+'"');d+=p.prefix+h+p.suffix;continue}if(!g){var w=b?"an array":"a string";throw new TypeError('Expected "'+p.name+'" to be '+w)}}return d}}ue.tokensToFunction=Dn;function So(e,t){var r=[],n=or(e,r,t);return On(n,r,t)}ue.match=So;function On(e,t,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(o){return o}:n;return function(o){var l=e.exec(o);if(!l)return!1;for(var s=l[0],c=l.index,d=Object.create(null),f=function(y){if(l[y]===void 0)return"continue";var g=t[y-1];g.modifier==="*"||g.modifier==="+"?d[g.name]=l[y].split(g.prefix+g.suffix).map(function(b){return i(b,g)}):d[g.name]=i(l[y],g)},p=1;p<l.length;p++)f(p);return{path:s,index:c,params:d}}}ue.regexpToFunction=On;function Fe(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ir(e){return e&&e.sensitive?"":"i"}function Co(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}function Ro(e,t,r){var n=e.map(function(i){return or(i,t,r).source});return new RegExp("(?:"+n.join("|")+")",ir(r))}function Eo(e,t,r){return Tn(ar(e,r),t,r)}function Tn(e,t,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,o=r.start,l=o===void 0?!0:o,s=r.end,c=s===void 0?!0:s,d=r.encode,f=d===void 0?function(M){return M}:d,p="["+Fe(r.endsWith||"")+"]|$",y="["+Fe(r.delimiter||"/#?")+"]",g=l?"^":"",b=0,S=e;b<S.length;b++){var h=S[b];if(typeof h=="string")g+=Fe(f(h));else{var w=Fe(f(h.prefix)),$=Fe(f(h.suffix));if(h.pattern)if(t&&t.push(h),w||$)if(h.modifier==="+"||h.modifier==="*"){var P=h.modifier==="*"?"?":"";g+="(?:"+w+"((?:"+h.pattern+")(?:"+$+w+"(?:"+h.pattern+"))*)"+$+")"+P}else g+="(?:"+w+"("+h.pattern+")"+$+")"+h.modifier;else g+="("+h.pattern+")"+h.modifier;else g+="(?:"+w+$+")"+h.modifier}}if(c)i||(g+=y+"?"),g+=r.endsWith?"(?="+p+")":"$";else{var O=e[e.length-1],T=typeof O=="string"?y.indexOf(O[O.length-1])>-1:O===void 0;i||(g+="(?:"+y+"(?="+p+"))?"),T||(g+="(?="+y+"|"+p+")")}return new RegExp(g,ir(r))}ue.tokensToRegexp=Tn;function or(e,t,r){return e instanceof RegExp?Co(e,t):Array.isArray(e)?Ro(e,t,r):Eo(e,t,r)}ue.pathToRegexp=or,Object.defineProperty(de,"__esModule",{value:!0}),de.default=de.customRouteMatcherOptions=de.matcherOptions=de.pathToRegexp=void 0;var lr=Io(ue);function Io(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}de.pathToRegexp=lr;const sr={sensitive:!1,delimiter:"/"};de.matcherOptions=sr;const Mn=I(v({},sr),{strict:!0});de.customRouteMatcherOptions=Mn;var $o=(e=!1)=>(t,r)=>{const n=[];let i=lr.pathToRegexp(t,n,e?Mn:sr);if(r){const l=r(i.source);i=new RegExp(l,i.flags)}const o=lr.regexpToFunction(i,n);return(l,s)=>{const c=l==null?!1:o(l);if(!c)return!1;if(e)for(const d of n)typeof d.name=="number"&&delete c.params[d.name];return v(v({},s),c.params)}};de.default=$o;var et={},cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.escapeStringRegexp=Do;function Do(e){return e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")}var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.parseUrl=Mo;var Oo=xe,To=Je;function Mo(e){if(e.startsWith("/"))return To.parseRelativeUrl(e);const t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:Oo.searchParamsToUrlQuery(t.searchParams),search:t.search}}Object.defineProperty(et,"__esModule",{value:!0}),et.matchHas=jo,et.compileNonPath=ur,et.prepareDestination=ko;var tt=ue,Lo=cr,Ao=dr;function jo(e,t,r){const n={};return t.every(o=>{let l,s=o.key;switch(o.type){case"header":{s=s.toLowerCase(),l=e.headers[s];break}case"cookie":{l=e.cookies[o.key];break}case"query":{l=r[s];break}case"host":{const{host:c}=(e==null?void 0:e.headers)||{};l=c==null?void 0:c.split(":")[0].toLowerCase();break}}if(!o.value&&l)return n[Fo(s)]=l,!0;if(l){const c=new RegExp(`^${o.value}$`),d=Array.isArray(l)?l.slice(-1)[0].match(c):l.match(c);if(d)return Array.isArray(d)&&(d.groups?Object.keys(d.groups).forEach(f=>{n[f]=d.groups[f]}):o.type==="host"&&d[0]&&(n.host=d[0])),!0}return!1})?n:!1}function ur(e,t){if(!e.includes(":"))return e;for(const r of Object.keys(t))e.includes(`:${r}`)&&(e=e.replace(new RegExp(`:${r}\\*`,"g"),`:${r}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${r}\\?`,"g"),`:${r}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${r}\\+`,"g"),`:${r}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${r}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${r}`));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),tt.compile(`/${e}`,{validate:!1})(t).substr(1)}function ko(e){const t=Object.assign({},e.query);delete t.__nextLocale,delete t.__nextDefaultLocale;let r=e.destination;for(const b of Object.keys(v(v({},e.params),t)))r=Ho(r,b);const n=Ao.parseUrl(r),i=n.query,o=bt(`${n.pathname}${n.hash||""}`),l=bt(n.hostname||""),s=[],c=[];tt.pathToRegexp(o,s),tt.pathToRegexp(l,c);const d=[];s.forEach(b=>d.push(b.name)),c.forEach(b=>d.push(b.name));const f=tt.compile(o,{validate:!1}),p=tt.compile(l,{validate:!1});for(const[b,S]of Object.entries(i))Array.isArray(S)?i[b]=S.map(h=>ur(bt(h),e.params)):i[b]=ur(bt(S),e.params);let y=Object.keys(e.params).filter(b=>b!=="nextInternalLocale");if(e.appendParamsToQuery&&!y.some(b=>d.includes(b)))for(const b of y)b in i||(i[b]=e.params[b]);let g;try{g=f(e.params);const[b,S]=g.split("#");n.hostname=p(e.params),n.pathname=b,n.hash=`${S?"#":""}${S||""}`,delete n.search}catch(b){throw b.message.match(/Expected .*? to not repeat, but got an array/)?new Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"):b}return n.query=v(v({},t),n.query),{newUrl:g,parsedDestination:n}}function Fo(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}function Ho(e,t){return e.replace(new RegExp(`:${Lo.escapeStringRegexp(t)}`,"g"),`__ESC_COLON_${t}`)}function bt(e){return e.replace(/__ESC_COLON_/gi,":")}Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=Vo;var Uo=Wo(de),Ln=et,An=je,jn=xt,zo=Je,kn=Q;function Wo(e){return e&&e.__esModule?e:{default:e}}const qo=Uo.default(!0);function Vo(e,t,r,n,i,o){let l=!1,s=!1,c=zo.parseRelativeUrl(e),d=An.removePathTrailingSlash(jn.normalizeLocalePath(kn.delBasePath(c.pathname),o).pathname),f;const p=g=>{let S=qo(g.source)(c.pathname);if(g.has&&S){const h=Ln.matchHas({headers:{host:document.location.hostname},cookies:document.cookie.split("; ").reduce((w,$)=>{const[P,...O]=$.split("=");return w[P]=O.join("="),w},{})},g.has,c.query);h?Object.assign(S,h):S=!1}if(S){if(!g.destination)return s=!0,!0;const h=Ln.prepareDestination({appendParamsToQuery:!0,destination:g.destination,params:S,query:n});if(c=h.parsedDestination,e=h.newUrl,Object.assign(n,h.parsedDestination.query),d=An.removePathTrailingSlash(jn.normalizeLocalePath(kn.delBasePath(e),o).pathname),t.includes(d))return l=!0,f=d,!0;if(f=i(d),f!==e&&t.includes(f))return l=!0,!0}};let y=!1;for(let g=0;g<r.beforeFiles.length;g++)y=p(r.beforeFiles[g])||!1;if(l=t.includes(d),!l){if(!y){for(let g=0;g<r.afterFiles.length;g++)if(p(r.afterFiles[g])){y=!0;break}}if(y||(f=i(d),l=t.includes(f),y=l),!y){for(let g=0;g<r.fallback.length;g++)if(p(r.fallback[g])){y=!0;break}}}return{asPath:e,parsedAs:c,matchedPage:l,resolvedHref:f,externalDest:s}}var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.detectDomainLocale=Bo;function Bo(e,t,r){let n;if(e){r&&(r=r.toLowerCase());for(const l of e){var i,o;const s=(i=l.domain)===null||i===void 0?void 0:i.split(":")[0].toLowerCase();if(t===s||r===l.defaultLocale.toLowerCase()||((o=l.locales)===null||o===void 0?void 0:o.some(c=>c.toLowerCase()===r))){n=l;break}}}return n}Object.defineProperty(Q,"__esModule",{value:!0}),Q.getDomainLocale=Qo,Q.addLocale=nt,Q.delLocale=at,Q.hasBasePath=he,Q.addBasePath=Y,Q.delBasePath=re,Q.isLocalURL=Nt,Q.interpolateAs=gr,Q.resolveHref=vr,Q.default=void 0;var oe=je,wt=Ee,hr=Yo(Qe),Go=gt,De=xt,Xo=Hn(rr),F=V,rt=_t,be=Je,Ko=xe,Fn=Hn(nr),mr=yt,pr=ke,Zo=vt;function Hn(e){return e&&e.__esModule?e:{default:e}}function Yo(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}let Pt;({}).__NEXT_I18N_SUPPORT&&(Pt=fr.detectDomainLocale);const He={}.__NEXT_ROUTER_BASEPATH||"";function Un(){return Object.assign(new Error("Route Cancelled"),{cancelled:!0})}function zn(e,t){if(!e.startsWith("/")||!t)return e;const r=Ue(e);return oe.normalizePathTrailingSlash(`${t}${r}`)+e.substr(r.length)}function Qo(e,t,r,n){if({}.__NEXT_I18N_SUPPORT){t=t||De.normalizeLocalePath(e,r).detectedLocale;const i=Pt(n,void 0,t);return i?`http${i.http?"":"s"}://${i.domain}${He||""}${t===i.defaultLocale?"":`/${t}`}${e}`:!1}else return!1}function nt(e,t,r){if({}.__NEXT_I18N_SUPPORT){const i=Ue(e).toLowerCase(),o=t&&t.toLowerCase();return t&&t!==r&&!i.startsWith("/"+o+"/")&&i!=="/"+o?zn(e,"/"+t):e}return e}function at(e,t){if({}.__NEXT_I18N_SUPPORT){const r=Ue(e),n=r.toLowerCase(),i=t&&t.toLowerCase();return t&&(n.startsWith("/"+i+"/")||n==="/"+i)?(r.length===t.length+1?"/":"")+e.substr(t.length+1):e}return e}function Ue(e){const t=e.indexOf("?"),r=e.indexOf("#");return(t>-1||r>-1)&&(e=e.substring(0,t>-1?t:r)),e}function he(e){return e=Ue(e),e===He||e.startsWith(He+"/")}function Y(e){return zn(e,He)}function re(e){return e=e.slice(He.length),e.startsWith("/")||(e=`/${e}`),e}function Nt(e){if(e.startsWith("/")||e.startsWith("#")||e.startsWith("?"))return!0;try{const t=F.getLocationOrigin(),r=new URL(e,t);return r.origin===t&&he(r.pathname)}catch{return!1}}function gr(e,t,r){let n="";const i=pr.getRouteRegex(e),o=i.groups,l=(t!==e?mr.getRouteMatcher(i)(t):"")||r;n=e;const s=Object.keys(o);return s.every(c=>{let d=l[c]||"";const{repeat:f,optional:p}=o[c];let y=`[${f?"...":""}${c}]`;return p&&(y=`${d?"":"/"}[${y}]`),f&&!Array.isArray(d)&&(d=[d]),(p||c in l)&&(n=n.replace(y,f?d.map(g=>encodeURIComponent(g)).join("/"):encodeURIComponent(d))||"/")})||(n=""),{params:s,result:n}}function Wn(e,t){const r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}function vr(e,t,r){let n,i=typeof t=="string"?t:F.formatWithValidation(t);const o=i.match(/^[a-zA-Z]{1,}:\/\//),l=o?i.substr(o[0].length):i;if((l.split("?")[0]||"").match(/(\/\/|\\)/)){console.error(`Invalid href passed to next/router: ${i}, repeated forward-slashes (//) or backslashes \\ are not valid in the href`);const c=F.normalizeRepeatedSlashes(l);i=(o?o[0]:"")+c}if(!Nt(i))return r?[i]:i;try{n=new URL(i.startsWith("#")?e.asPath:e.pathname,"http://n")}catch{n=new URL("/","http://n")}try{const c=new URL(i,n);c.pathname=oe.normalizePathTrailingSlash(c.pathname);let d="";if(rt.isDynamicRoute(c.pathname)&&c.searchParams&&r){const p=Ko.searchParamsToUrlQuery(c.searchParams),{result:y,params:g}=gr(c.pathname,c.pathname,p);y&&(d=F.formatWithValidation({pathname:y,hash:c.hash,query:Wn(p,g)}))}const f=c.origin===n.origin?c.href.slice(c.origin.length):c.href;return r?[f,d||f]:f}catch{return r?[i]:i}}function yr(e){const t=F.getLocationOrigin();return e.startsWith(t)?e.substring(t.length):e}function St(e,t,r){let[n,i]=vr(e,t,!0);const o=F.getLocationOrigin(),l=n.startsWith(o),s=i&&i.startsWith(o);n=yr(n),i=i&&yr(i);const c=l?n:Y(n),d=r?yr(vr(e,r)):i||n;return{url:c,as:s?d:Y(d)}}function ze(e,t){const r=oe.removePathTrailingSlash(Go.denormalizePagePath(e));return r==="/404"||r==="/_error"?e:(t.includes(r)||t.some(n=>{if(rt.isDynamicRoute(n)&&pr.getRouteRegex(n).re.test(r))return e=n,!0}),oe.removePathTrailingSlash(e))}const _r={}.__NEXT_SCROLL_RESTORATION&&typeof window!="undefined"&&"scrollRestoration"in window.history&&!!function(){try{let e="__next";return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch{}}(),qn=Symbol("SSG_DATA_NOT_FOUND");function Vn(e,t,r){return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok){if(t>1&&n.status>=500)return Vn(e,t-1,r);if(n.status===404)return n.json().then(i=>{if(i.notFound)return{notFound:qn};throw new Error("Failed to load static props")});throw new Error("Failed to load static props")}return r.text?n.text():n.json()})}function xr(e,t,r,n,i){const{href:o}=new URL(e,window.location.href);return n[o]!==void 0?n[o]:n[o]=Vn(e,t?3:1,{text:r}).catch(l=>{throw t||wt.markAssetError(l),l}).then(l=>(i||delete n[o],l)).catch(l=>{throw delete n[o],l})}class ne{constructor(t,r,n,{initialProps:i,pageLoader:o,App:l,wrapApp:s,Component:c,err:d,subscription:f,isFallback:p,locale:y,locales:g,defaultLocale:b,domainLocales:S,isPreview:h}){this.sdc={},this.sdr={},this.sde={},this._idx=0,this.onPopState=O=>{const T=O.state;if(!T){const{pathname:J,query:Oe}=this;this.changeState("replaceState",F.formatWithValidation({pathname:Y(J),query:Oe}),F.getURL());return}if(!T.__N)return;let M;const{url:H,as:E,options:j,idx:B}=T;if({}.__NEXT_SCROLL_RESTORATION&&_r&&this._idx!==B){try{sessionStorage.setItem("__next_scroll_"+this._idx,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch{}try{const J=sessionStorage.getItem("__next_scroll_"+B);M=JSON.parse(J)}catch{M={x:0,y:0}}}this._idx=B;const{pathname:z}=be.parseRelativeUrl(H);this.isSsr&&E===Y(this.asPath)&&z===Y(this.pathname)||this._bps&&!this._bps(T)||this.change("replaceState",H,E,Object.assign({},j,{shallow:j.shallow&&this._shallow,locale:j.locale||this.defaultLocale}),M)};const w=oe.removePathTrailingSlash(t);if(this.components={},t!=="/_error"){var $;this.components[w]={Component:c,initial:!0,props:i,err:d,__N_SSG:i&&i.__N_SSG,__N_SSP:i&&i.__N_SSP,__N_RSC:!!(!(($=c)===null||$===void 0)&&$.__next_rsc__)}}this.components["/_app"]={Component:l,styleSheets:[]},this.events=ne.events,this.pageLoader=o;const P=rt.isDynamicRoute(t)&&self.__NEXT_DATA__.autoExport;if(this.basePath=He,this.sub=f,this.clc=null,this._wrapApp=s,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp||!P&&!self.location.search&&!{}.__NEXT_HAS_REWRITES),{}.__NEXT_I18N_SUPPORT&&(this.locales=g,this.defaultLocale=b,this.domainLocales=S,this.isLocaleDomain=!!Pt(S,self.location.hostname)),this.state={route:w,pathname:t,query:r,asPath:P?t:n,isPreview:!!h,locale:{}.__NEXT_I18N_SUPPORT?y:void 0,isFallback:p},typeof window!="undefined"){if(n.substr(0,2)!=="//"){const O={locale:y};O._shouldResolveHref=n!==t,this.changeState("replaceState",F.formatWithValidation({pathname:Y(t),query:r}),F.getURL(),O)}window.addEventListener("popstate",this.onPopState),{}.__NEXT_SCROLL_RESTORATION&&_r&&(window.history.scrollRestoration="manual")}}reload(){window.location.reload()}back(){window.history.back()}push(t,r,n={}){if({}.__NEXT_SCROLL_RESTORATION&&_r)try{sessionStorage.setItem("__next_scroll_"+this._idx,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch{}return{url:t,as:r}=St(this,t,r),this.change("pushState",t,r,n)}replace(t,r,n={}){return{url:t,as:r}=St(this,t,r),this.change("replaceState",t,r,n)}async change(t,r,n,i,o){if(!Nt(r))return window.location.href=r,!1;const l=i._h||i._shouldResolveHref||Ue(r)===Ue(n),s=v({},this.state);i._h&&(this.isReady=!0);const c=s.locale;if({}.__NEXT_I18N_SUPPORT){s.locale=i.locale===!1?this.defaultLocale:i.locale||s.locale,typeof i.locale=="undefined"&&(i.locale=s.locale);const E=be.parseRelativeUrl(he(n)?re(n):n),j=De.normalizeLocalePath(E.pathname,this.locales);j.detectedLocale&&(s.locale=j.detectedLocale,E.pathname=Y(E.pathname),n=F.formatWithValidation(E),r=Y(De.normalizeLocalePath(he(r)?re(r):r,this.locales).pathname));let B=!1;if({}.__NEXT_I18N_SUPPORT){var d;!((d=this.locales)===null||d===void 0)&&d.includes(s.locale)||(E.pathname=nt(E.pathname,s.locale),window.location.href=F.formatWithValidation(E),B=!0)}const z=Pt(this.domainLocales,void 0,s.locale);if({}.__NEXT_I18N_SUPPORT&&!B&&z&&this.isLocaleDomain&&self.location.hostname!==z.domain){const J=re(n);window.location.href=`http${z.http?"":"s"}://${z.domain}${Y(`${s.locale===z.defaultLocale?"":`/${s.locale}`}${J==="/"?"":J}`||"/")}`,B=!0}if(B)return new Promise(()=>{})}i._h||(this.isSsr=!1),F.ST&&performance.mark("routeChange");const{shallow:f=!1,scroll:p=!0}=i,y={shallow:f};this._inFlightRoute&&this.abortComponentLoad(this._inFlightRoute,y),n=Y(nt(he(n)?re(n):n,i.locale,this.defaultLocale));const g=at(he(n)?re(n):n,s.locale);this._inFlightRoute=n;let b=c!==s.locale;if(!i._h&&this.onlyAHashChange(g)&&!b)return s.asPath=g,ne.events.emit("hashChangeStart",n,y),this.changeState(t,r,n,I(v({},i),{scroll:!1})),p&&this.scrollToHash(g),this.set(s,this.components[s.route],null),ne.events.emit("hashChangeComplete",n,y),!0;let S=be.parseRelativeUrl(r),{pathname:h,query:w}=S,$,P;try{[$,{__rewrites:P}]=await Promise.all([this.pageLoader.getPageList(),wt.getClientBuildManifest(),this.pageLoader.getMiddlewareList()])}catch{return window.location.href=n,!1}!this.urlIsNew(g)&&!b&&(t="replaceState");let O=n;if(h=h&&oe.removePathTrailingSlash(re(h)),l&&h!=="/_error")if(i._shouldResolveHref=!0,{}.__NEXT_HAS_REWRITES&&n.startsWith("/")){const E=Fn.default(Y(nt(g,s.locale)),$,P,w,j=>ze(j,$),this.locales);if(E.externalDest)return location.href=n,!0;O=E.asPath,E.matchedPage&&E.resolvedHref&&(h=E.resolvedHref,S.pathname=Y(h),r=F.formatWithValidation(S))}else S.pathname=ze(h,$),S.pathname!==h&&(h=S.pathname,S.pathname=Y(h),r=F.formatWithValidation(S));if(!Nt(n))return window.location.href=n,!1;if(O=at(re(O),s.locale),i._h!==1||rt.isDynamicRoute(oe.removePathTrailingSlash(h))){const E=await this._preflightRequest({as:n,cache:!0,pages:$,pathname:h,query:w,locale:s.locale,isPreview:s.isPreview});if(E.type==="rewrite")w=v(v({},w),E.parsedAs.query),O=E.asPath,h=E.resolvedHref,S.pathname=E.resolvedHref,r=F.formatWithValidation(S);else{if(E.type==="redirect"&&E.newAs)return this.change(t,E.newUrl,E.newAs,i);if(E.type==="redirect"&&E.destination)return window.location.href=E.destination,new Promise(()=>{});if(E.type==="refresh"&&n!==window.location.pathname)return window.location.href=n,new Promise(()=>{})}}const T=oe.removePathTrailingSlash(h);if(rt.isDynamicRoute(T)){const E=be.parseRelativeUrl(O),j=E.pathname,B=pr.getRouteRegex(T),z=mr.getRouteMatcher(B)(j),J=T===j,Oe=J?gr(T,j,w):{};if(!z||J&&!Oe.result){const Ft=Object.keys(B.groups).filter(ba=>!w[ba]);if(Ft.length>0)throw new Error((J?`The provided \`href\` (${r}) value is missing query values (${Ft.join(", ")}) to be interpolated properly. `:`The provided \`as\` value (${j}) is incompatible with the \`href\` value (${T}). `)+`Read more: https://nextjs.org/docs/messages/${J?"href-interpolation-failed":"incompatible-href-as"}`)}else J?n=F.formatWithValidation(Object.assign({},E,{pathname:Oe.result,query:Wn(w,Oe.params)})):Object.assign(w,z)}ne.events.emit("routeChangeStart",n,y);try{var d,M;let j=await this.getRouteInfo(T,h,w,n,O,y,s.locale,s.isPreview),{error:B,props:z,__N_SSG:J,__N_SSP:Oe}=j;if((J||Oe)&&z){if(z.pageProps&&z.pageProps.__N_REDIRECT){const ee=z.pageProps.__N_REDIRECT;if(ee.startsWith("/")&&z.pageProps.__N_REDIRECT_BASE_PATH!==!1){const Ar=be.parseRelativeUrl(ee);Ar.pathname=ze(Ar.pathname,$);const{url:bu,as:wu}=St(this,ee,ee);return this.change(t,bu,wu,i)}return window.location.href=ee,new Promise(()=>{})}if(s.isPreview=!!z.__N_PREVIEW,z.notFound===qn){let ee;try{await this.fetchComponent("/404"),ee="/404"}catch{ee="/_error"}j=await this.getRouteInfo(ee,ee,w,n,O,{shallow:!1},s.locale,s.isPreview)}}ne.events.emit("beforeHistoryChange",n,y),this.changeState(t,r,n,i),i._h&&h==="/_error"&&((d=self.__NEXT_DATA__.props)===null||d===void 0||(M=d.pageProps)===null||M===void 0?void 0:M.statusCode)===500&&(z==null?void 0:z.pageProps)&&(z.pageProps.statusCode=500);const Ft=i.shallow&&s.route===T;var H;const xu=((H=i.scroll)!==null&&H!==void 0?H:!Ft)?{x:0,y:0}:null;if(await this.set(I(v({},s),{route:T,pathname:h,query:w,asPath:g,isFallback:!1}),j,o!=null?o:xu).catch(ee=>{if(ee.cancelled)B=B||ee;else throw ee}),B)throw ne.events.emit("routeChangeError",B,g,y),B;return{}.__NEXT_I18N_SUPPORT&&s.locale&&(document.documentElement.lang=s.locale),ne.events.emit("routeChangeComplete",n,y),!0}catch(E){if(hr.default(E)&&E.cancelled)return!1;throw E}}changeState(t,r,n,i={}){(t!=="pushState"||F.getURL()!==n)&&(this._shallow=i.shallow,window.history[t]({url:r,as:n,options:i,__N:!0,idx:this._idx=t!=="pushState"?this._idx:this._idx+1},"",n))}async handleRouteInfoError(t,r,n,i,o,l){if(t.cancelled)throw t;if(wt.isAssetError(t)||l)throw ne.events.emit("routeChangeError",t,i,o),window.location.href=i,Un();try{let s,c,d;(typeof s=="undefined"||typeof c=="undefined")&&({page:s,styleSheets:c}=await this.fetchComponent("/_error"));const f={props:d,Component:s,styleSheets:c,err:t,error:t};if(!f.props)try{f.props=await this.getInitialProps(s,{err:t,pathname:r,query:n})}catch(p){console.error("Error in error page `getInitialProps`: ",p),f.props={}}return f}catch(s){return this.handleRouteInfoError(hr.default(s)?s:new Error(s+""),r,n,i,o,!0)}}async getRouteInfo(t,r,n,i,o,l,s,c){try{const d=this.components[t];if(l.shallow&&d&&this.route===t)return d;let f;d&&!("initial"in d)&&(f=d);const p=f||await this.fetchComponent(t).then($=>({Component:$.page,styleSheets:$.styleSheets,__N_SSG:$.mod.__N_SSG,__N_SSP:$.mod.__N_SSP,__N_RSC:!!$.page.__next_rsc__})),{Component:y,__N_SSG:g,__N_SSP:b,__N_RSC:S}=p;let h;(g||b||S)&&(h=this.pageLoader.getDataHref({href:F.formatWithValidation({pathname:r,query:n}),asPath:o,ssg:g,rsc:S,locale:s}));const w=await this._getData(()=>g||b?xr(h,this.isSsr,!1,g?this.sdc:this.sdr,!!g&&!c):this.getInitialProps(y,{pathname:r,query:n,asPath:i,locale:s,locales:this.locales,defaultLocale:this.defaultLocale}));if(S){const{fresh:$,data:P}=await this._getData(()=>this._getFlightData(h));w.pageProps=Object.assign(w.pageProps,{__flight_serialized__:P,__flight_fresh__:$})}return p.props=w,this.components[t]=p,p}catch(d){return this.handleRouteInfoError(hr.getProperError(d),r,n,i,l)}}set(t,r,n){return this.state=t,this.sub(r,this.components["/_app"].Component,n)}beforePopState(t){this._bps=t}onlyAHashChange(t){if(!this.asPath)return!1;const[r,n]=this.asPath.split("#"),[i,o]=t.split("#");return o&&r===i&&n===o?!0:r!==i?!1:n!==o}scrollToHash(t){const[,r=""]=t.split("#");if(r===""||r==="top"){window.scrollTo(0,0);return}const n=document.getElementById(r);if(n){n.scrollIntoView();return}const i=document.getElementsByName(r)[0];i&&i.scrollIntoView()}urlIsNew(t){return this.asPath!==t}async prefetch(t,r=t,n={}){let i=be.parseRelativeUrl(t),{pathname:o,query:l}=i;if({}.__NEXT_I18N_SUPPORT&&n.locale===!1){o=De.normalizeLocalePath(o,this.locales).pathname,i.pathname=o,t=F.formatWithValidation(i);let p=be.parseRelativeUrl(r);const y=De.normalizeLocalePath(p.pathname,this.locales);p.pathname=y.pathname,n.locale=y.detectedLocale||this.defaultLocale,r=F.formatWithValidation(p)}const s=await this.pageLoader.getPageList();let c=r;if({}.__NEXT_HAS_REWRITES&&r.startsWith("/")){let p;({__rewrites:p}=await wt.getClientBuildManifest());const y=Fn.default(Y(nt(r,this.locale)),s,p,i.query,g=>ze(g,s),this.locales);if(y.externalDest)return;c=at(re(y.asPath),this.locale),y.matchedPage&&y.resolvedHref&&(o=y.resolvedHref,i.pathname=o,t=F.formatWithValidation(i))}else i.pathname=ze(i.pathname,s),i.pathname!==o&&(o=i.pathname,i.pathname=o,t=F.formatWithValidation(i));const d=await this._preflightRequest({as:Y(r),cache:!0,pages:s,pathname:o,query:l,locale:this.locale,isPreview:this.isPreview});d.type==="rewrite"&&(i.pathname=d.resolvedHref,o=d.resolvedHref,l=v(v({},l),d.parsedAs.query),c=d.asPath,t=F.formatWithValidation(i));const f=oe.removePathTrailingSlash(o);await Promise.all([this.pageLoader._isSsg(f).then(p=>p?xr(this.pageLoader.getDataHref({href:t,asPath:c,ssg:!0,locale:typeof n.locale!="undefined"?n.locale:this.locale}),!1,!1,this.sdc,!0):!1),this.pageLoader[n.priority?"loadPage":"prefetch"](f)])}async fetchComponent(t){let r=!1;const n=this.clc=()=>{r=!0},i=()=>{if(r){const o=new Error(`Abort fetching component for route: "${t}"`);throw o.cancelled=!0,o}n===this.clc&&(this.clc=null)};try{const o=await this.pageLoader.loadPage(t);return i(),o}catch(o){throw i(),o}}_getData(t){let r=!1;const n=()=>{r=!0};return this.clc=n,t().then(i=>{if(n===this.clc&&(this.clc=null),r){const o=new Error("Loading initial props cancelled");throw o.cancelled=!0,o}return i})}_getFlightData(t){return xr(t,!0,!0,this.sdc,!1).then(r=>({fresh:!0,data:r}))}async _preflightRequest(t){const r=at(he(t.as)?re(t.as):t.as,t.locale);if(!(await this.pageLoader.getMiddlewareList()).some(([l,s])=>mr.getRouteMatcher(Zo.getMiddlewareRegex(l,!s))(r)))return{type:"next"};const o=await this._getPreflightData({preflightHref:t.as,shouldCache:t.cache,isPreview:t.isPreview});if(o.rewrite){if(!o.rewrite.startsWith("/"))return{type:"redirect",destination:t.as};const l=be.parseRelativeUrl(De.normalizeLocalePath(he(o.rewrite)?re(o.rewrite):o.rewrite,this.locales).pathname),s=oe.removePathTrailingSlash(l.pathname);let c,d;return t.pages.includes(s)?(c=!0,d=s):(d=ze(s,t.pages),d!==l.pathname&&t.pages.includes(d)&&(c=!0)),{type:"rewrite",asPath:l.pathname,parsedAs:l,matchedPage:c,resolvedHref:d}}if(o.redirect){if(o.redirect.startsWith("/")){const l=oe.removePathTrailingSlash(De.normalizeLocalePath(he(o.redirect)?re(o.redirect):o.redirect,this.locales).pathname),{url:s,as:c}=St(this,l,l);return{type:"redirect",newUrl:s,newAs:c}}return{type:"redirect",destination:o.redirect}}return o.refresh&&!o.ssr?{type:"refresh"}:{type:"next"}}_getPreflightData(t){const{preflightHref:r,shouldCache:n=!1,isPreview:i}=t,{href:o}=new URL(r,window.location.href);return!i&&n&&this.sde[o]?Promise.resolve(this.sde[o]):fetch(r,{method:"HEAD",credentials:"same-origin",headers:{"x-middleware-preflight":"1"}}).then(l=>{if(!l.ok)throw new Error("Failed to preflight request");return{cache:l.headers.get("x-middleware-cache"),redirect:l.headers.get("Location"),refresh:l.headers.has("x-middleware-refresh"),rewrite:l.headers.get("x-middleware-rewrite"),ssr:!!l.headers.get("x-middleware-ssr")}}).then(l=>(n&&l.cache!=="no-cache"&&(this.sde[o]=l),l)).catch(l=>{throw delete this.sde[o],l})}getInitialProps(t,r){const{Component:n}=this.components["/_app"],i=this._wrapApp(n);return r.AppTree=i,F.loadGetInitialProps(n,{AppTree:i,Component:t,router:this,ctx:r})}abortComponentLoad(t,r){this.clc&&(ne.events.emit("routeChangeError",Un(),t,r),this.clc(),this.clc=null)}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}}ne.events=Xo.default(),Q.default=ne;var Ct={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.RouterContext=void 0;var Jo=el(W.default);function el(e){return e&&e.__esModule?e:{default:e}}const tl=Jo.default.createContext(null);Rt.RouterContext=tl;var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.default=il;var rl=al(W.default),nl=Ct;function al(e){return e&&e.__esModule?e:{default:e}}function il(e){function t(r){return rl.default.createElement(e,Object.assign({router:nl.useRouter()},r))}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return o.default}}),e.useRouter=g,e.createRouter=b,e.makePublicRouterInstance=S,e.default=void 0;var t=l(W.default),r=l(Q),n=Rt,i=l(Qe),o=l(br);function l(h){return h&&h.__esModule?h:{default:h}}const s={router:null,readyCallbacks:[],ready(h){if(this.router)return h();typeof window!="undefined"&&this.readyCallbacks.push(h)}},c=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],d=["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"],f=["push","replace","reload","back","prefetch","beforePopState"];Object.defineProperty(s,"events",{get(){return r.default.events}}),c.forEach(h=>{Object.defineProperty(s,h,{get(){return p()[h]}})}),f.forEach(h=>{s[h]=(...w)=>p()[h](...w)}),d.forEach(h=>{s.ready(()=>{r.default.events.on(h,(...w)=>{const $=`on${h.charAt(0).toUpperCase()}${h.substring(1)}`,P=s;if(P[$])try{P[$](...w)}catch(O){console.error(`Error when running the Router event: ${$}`),console.error(i.default(O)?`${O.message}
${O.stack}`:O+"")}})})});function p(){if(!s.router){const h=`No router instance found.
You should only use "next/router" on the client side of your app.
`;throw new Error(h)}return s.router}var y=s;e.default=y;function g(){return t.default.useContext(n.RouterContext)}function b(...h){return s.router=new r.default(...h),s.readyCallbacks.forEach(w=>w()),s.readyCallbacks=[],s.router}function S(h){const w=h,$={};for(const P of c){if(typeof w[P]=="object"){$[P]=Object.assign(Array.isArray(w[P])?[]:{},w[P]);continue}$[P]=w[P]}return $.events=r.default.events,f.forEach(P=>{$[P]=(...O)=>w[P](...O)}),$}})(Ct);var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.useIntersection=ol;var We=W.default,Bn=Ie;const Gn=typeof IntersectionObserver!="undefined";function ol({rootRef:e,rootMargin:t,disabled:r}){const n=r||!Gn,i=We.useRef(),[o,l]=We.useState(!1),[s,c]=We.useState(e?e.current:null),d=We.useCallback(f=>{i.current&&(i.current(),i.current=void 0),!(n||o)&&f&&f.tagName&&(i.current=ll(f,p=>p&&l(p),{root:s,rootMargin:t}))},[n,s,t,o]);return We.useEffect(()=>{if(!Gn&&!o){const f=Bn.requestIdleCallback(()=>l(!0));return()=>Bn.cancelIdleCallback(f)}},[o]),We.useEffect(()=>{e&&c(e.current)},[e]),[d,o]}function ll(e,t,r){const{id:n,observer:i,elements:o}=sl(r);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),o.size===0){i.disconnect(),Et.delete(n);let s=It.findIndex(c=>c.root===n.root&&c.margin===n.margin);s>-1&&It.splice(s,1)}}}const Et=new Map,It=[];function sl(e){const t={root:e.root||null,margin:e.rootMargin||""};let r=It.find(l=>l.root===t.root&&l.margin===t.margin),n;if(r?n=Et.get(r):(n=Et.get(t),It.push(t)),n)return n;const i=new Map,o=new IntersectionObserver(l=>{l.forEach(s=>{const c=i.get(s.target),d=s.isIntersecting||s.intersectionRatio>0;c&&d&&c(d)})},e);return Et.set(t,n={id:t,observer:o,elements:i}),n}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var qe=ul(W.default),me=Q,cl=Ct,dl=wr;function ul(e){return e&&e.__esModule?e:{default:e}}const Xn={};function Kn(e,t,r,n){if(typeof window=="undefined"||!e||!me.isLocalURL(t))return;e.prefetch(t,r,n).catch(o=>{});const i=n&&typeof n.locale!="undefined"?n.locale:e&&e.locale;Xn[t+"%"+r+(i?"%"+i:"")]=!0}function fl(e){const{target:t}=e.currentTarget;return t&&t!=="_self"||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&e.nativeEvent.which===2}function hl(e,t,r,n,i,o,l,s){const{nodeName:c}=e.currentTarget;c.toUpperCase()==="A"&&(fl(e)||!me.isLocalURL(r))||(e.preventDefault(),t[i?"replace":"push"](r,n,{shallow:o,locale:s,scroll:l}))}function ml(e){const t=e.prefetch!==!1,r=cl.useRouter(),{href:n,as:i}=qe.default.useMemo(()=>{const[h,w]=me.resolveHref(r,e.href,!0);return{href:h,as:e.as?me.resolveHref(r,e.as):w||h}},[r,e.href,e.as]);let{children:o,replace:l,shallow:s,scroll:c,locale:d}=e;typeof o=="string"&&(o=qe.default.createElement("a",null,o));let f;f=qe.default.Children.only(o);const p=f&&typeof f=="object"&&f.ref,[y,g]=dl.useIntersection({rootMargin:"200px"}),b=qe.default.useCallback(h=>{y(h),p&&(typeof p=="function"?p(h):typeof p=="object"&&(p.current=h))},[p,y]);qe.default.useEffect(()=>{const h=g&&t&&me.isLocalURL(n),w=typeof d!="undefined"?d:r&&r.locale,$=Xn[n+"%"+i+(w?"%"+w:"")];h&&!$&&Kn(r,n,i,{locale:w})},[i,n,g,d,t,r]);const S={ref:b,onClick:h=>{f.props&&typeof f.props.onClick=="function"&&f.props.onClick(h),h.defaultPrevented||hl(h,r,n,i,l,s,c,d)}};if(S.onMouseEnter=h=>{f.props&&typeof f.props.onMouseEnter=="function"&&f.props.onMouseEnter(h),me.isLocalURL(n)&&Kn(r,n,i,{priority:!0})},e.passHref||f.type==="a"&&!("href"in f.props)){const h=typeof d!="undefined"?d:r&&r.locale,w=r&&r.isLocaleDomain&&me.getDomainLocale(i,h,r&&r.locales,r&&r.domainLocales);S.href=w||me.addBasePath(me.addLocale(i,h,r&&r.defaultLocale))}return qe.default.cloneElement(f,S)}var pl=ml;mt.default=pl;var it=mt;function gl(r){var n=r,{className:e}=n,t=N(n,["className"]);const i=_.useRef();return _.useEffect(o=>{let l=i.current.parentElement.getBoundingClientRect();i.current.width=l.width,i.current.height=l.height;let s=i.current.getBoundingClientRect(),c=s.width/2,d=s.height/2,f=30,p=0;const y=100;let b=setInterval(S=>{if(f<1){clearInterval(b);return}let h=i.current.getContext("2d");h.lineWidth=1,h.strokeStyle="#164e63",h.beginPath(),h.arc(c,d,f,p,p+Math.PI/y),h.closePath(),h.stroke(),f-=Math.PI/y,p+=Math.PI/y},100);return S=>clearInterval(b)},[]),a("div",I(v({className:C.default("relative","bg-gray-500",e)},t),{children:a("canvas",{ref:i,className:"absolute inset-0"})}))}function Zn({device:e}){var r,n;return a(it,{href:`/workspace/devices/${e.id}`,passHref:!0,children:a(se,{className:C.default("h-80 cursor-pointer"),children:a(A.DeviceProvider,{device:e,children:a("div",{className:"card-body",children:u("div",{className:"flex-1 flex flex-col space-y-2",children:[u("div",{className:"flex flex-col items-stretch font-medium text-sm border-b border-gray-600 pb-0.5",children:[u("div",{className:"flex flex-row",children:[a("div",{className:"flex-1",children:e.name}),a("button",{children:a(L.StarIcon,{})})]}),u("div",{className:"flex flex-row space-x-1 items-center text-[10px] font-mono font-normal dark:text-gray-500",children:[a("div",{children:a(Ot,{device:e})}),u("div",{className:"flex-1",children:[(r=e.profile)==null?void 0:r.brand," ",(n=e.profile)==null?void 0:n.model]}),a("div",{children:a($t,{device:e})})]})]}),u("div",{className:"text-[11px] font-medium text-gray-500",children:[u("div",{className:"flex flex-row items-center justify-between",children:[a("div",{children:"Nome_file.m3f"}),u("div",{children:[0," %"]})]}),a(nn,{value:20,max:100})]}),e.camera&&a("div",{className:"relative w-full h-[160px] rounded-md overflow-hidden",children:a("div",{className:"absolute inset-x-0 bottom-0 flex flex-row",children:e.camera.live?u("div",{className:"m-1 p-1 bg-gray-900 bg-opacity-75 text-red-700 flex flex-row items-center space-x-1 rounded-sm",children:[a("div",{className:"w-1 h-1 rounded-full bg-current"}),a("span",{className:"text-[10px] font-medium",children:"LIVE"})]}):u("div",{className:"m-1 p-1 bg-gray-900 bg-opacity-75 text-gray-400 rounded-sm text-[10px] flex flex-row items-center space-x-1",children:[a(L.CameraIcon,{}),a("span",{className:"font-mono",children:"15:32:12"})]})})}),e.type=="cnc"&&a(gl,{className:"w-full h-[160px] rounded-md overflow-hidden"})]})})})})})}const ae=Object.freeze({Loading:0,PortNotFound:1,DifferentDevice:2,Connected:10});function $t({device:e}){const[t,r]=_.useState(ae.Loading);_.useEffect(i=>{A.coreSocket.emit("devices:connection:check",e.id,o=>{o?o.serialNumber==e.serialNumber&&o.vendorId==e.vendorId&&o.productId==e.productId?r(ae.Connected):r(ae.DifferentDevice):r(ae.PortNotFound)})},[e]);const n=_.useMemo(i=>{switch(t){case ae.Loading:return a("span",{children:"Checking connection..."});case ae.PortNotFound:return u("span",{className:"text-red-300",children:["Port ",e.port," not found"]});case ae.DifferentDevice:return u("span",{className:"text-yellow-600",children:["A different device is connected to port ",e.port]});case ae.Connected:return u("span",{className:"text-lime-500",children:["Device connected on ",e.port]})}},[t,e.port]);return a(ye,{content:n,size:"sm",className:"font-normal",side:"left",sideOffset:18,alignOffset:0,children:u("div",{children:[t==ae.Loading&&a(Wt,{}),t==ae.PortNotFound&&a(L.LinkBreak1Icon,{className:"text-red-600"}),t==ae.DifferentDevice&&a(L.LinkNone1Icon,{className:"text-yellow-600"}),t==ae.Connected&&a(L.Link1Icon,{className:"text-lime-600"})]})})}function vl(){return a(se,{title:"Plugins",children:u("div",{className:"grid grid-cols-2 gap-3",children:[u(x,{className:"justify-between",children:[a(R,{children:"Plugin install directory"}),a(Le,{value:"/plugins",disabled:!0})]}),a(x,{children:a(X,{size:"sm",children:"Install plugin"})})]})})}function yl(){const{devices:e}=A.useAppContext();return a("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 px-2",children:e==null?void 0:e.map(t=>a(Zn,{device:t},t.id))})}const _l=e=>D.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15"},e),D.createElement("path",{d:"M-158.762,87.6l1.484,4.019h2.125l1.391-4.019Z",transform:"translate(163.762 -86.099)",fill:"currentColor"}),D.createElement("path",{d:"M-159.48,87.1h6.42l-1.737,5.019h-2.829Zm5.016,1h-3.58l1.115,3.019h1.42Z",transform:"translate(163.762 -86.099)",fill:"currentColor"}),D.createElement("path",{d:"M12.5.5H-.5v-1h13Z",transform:"translate(1.5 13.5)",fill:"currentColor"}),D.createElement("path",{d:"M.5,2.5h-1v-3h1Z",transform:"translate(7.5 7.5)",fill:"currentColor"}),D.createElement("path",{d:"M8.5.5h-9v-1h9Z",transform:"translate(3.5 11.5)",fill:"currentColor"}));function Dt(e){return a(_l,v({viewBox:"0 0 15 15"},e))}const xl=e=>D.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("path",{id:"Linea_1","data-name":"Linea 1",d:"M12.5.5H-.5v-1h13Z",transform:"translate(1.5 3.5)"}),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:2,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M0,0H7V2H0Z",transform:"translate(4 1)"}),D.createElement("path",{id:"Tracciato_3","data-name":"Tracciato 3",d:"M-140.564,98.413l-1-1h-1v1h12v-1h-1l-1,1Z",transform:"translate(144.064 -84.913)"}),D.createElement("path",{id:"Tracciato_3_-_Contorno","data-name":"Tracciato 3 - Contorno",d:"M-130.064,98.913h-13v-2h1.707l1,1h7.589l1-1h1.7Z",transform:"translate(144.064 -84.913)"}),D.createElement("path",{id:"Linea_4","data-name":"Linea 4",d:"M10,.5H0v-1H10Z",transform:"translate(2.5 5.5)"}),D.createElement("path",{id:"Linea_5","data-name":"Linea 5",d:"M.5,5.5h-1v-6h1Z",transform:"translate(2.5 5.5)"}),D.createElement("path",{id:"Linea_6","data-name":"Linea 6",d:"M.5,5.5h-1v-6h1Z",transform:"translate(12.5 5.5)"}),D.createElement("path",{id:"Rettangolo_2","data-name":"Rettangolo 2",d:"M0,0H1V1H0Z",transform:"translate(10 10)"}),D.createElement("path",{id:"Rettangolo_3","data-name":"Rettangolo 3",d:"M0,0H1V1H0Z",transform:"translate(8 10)"}),D.createElement("path",{id:"Rettangolo_4","data-name":"Rettangolo 4",d:"M0,0H1V1H0Z",transform:"translate(6 10)"}),D.createElement("path",{id:"Rettangolo_5","data-name":"Rettangolo 5",d:"M0,0H1V1H0Z",transform:"translate(4 10)"}));function Pr(e){return a(xl,v({},e))}const bl=e=>D.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:7,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M1,1V6H6V1H1M0,0H7V7H0Z",transform:"translate(4 1)"}),D.createElement("rect",{id:"Rettangolo_6","data-name":"Rettangolo 6",width:5,height:2,transform:"translate(1 12)"}),D.createElement("path",{id:"Rettangolo_6_-_Contorno","data-name":"Rettangolo 6 - Contorno",d:"M0,0H5V2H0Z",transform:"translate(1 12)"}),D.createElement("rect",{id:"Rettangolo_7","data-name":"Rettangolo 7",width:5,height:2,transform:"translate(9 12)"}),D.createElement("path",{id:"Rettangolo_7_-_Contorno","data-name":"Rettangolo 7 - Contorno",d:"M0,0H5V2H0Z",transform:"translate(9 12)"}),D.createElement("path",{id:"Linea_7","data-name":"Linea 7",d:"M.5,4.5h-1v-5h1Z",transform:"translate(7.5 9.5)"}),D.createElement("rect",{id:"Rettangolo_8","data-name":"Rettangolo 8",width:3,height:2,transform:"translate(6 8)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_8_-_Contorno","data-name":"Rettangolo 8 - Contorno",d:"M0,0H3V2H0Z",transform:"translate(6 8)"}),D.createElement("rect",{id:"Rettangolo_9","data-name":"Rettangolo 9",width:1,height:1,transform:"translate(4 10)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_9_-_Contorno","data-name":"Rettangolo 9 - Contorno",d:"M0,0H1V1H0Z",transform:"translate(4 10)"}),D.createElement("rect",{id:"Rettangolo_10","data-name":"Rettangolo 10",width:1,height:1,transform:"translate(2 9)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_10_-_Contorno","data-name":"Rettangolo 10 - Contorno",d:"M0,0H1V1H0Z",transform:"translate(2 9)"}));function Nr(e){return a(bl,v({},e))}const wl=e=>D.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",fill:"currentColor"},e),D.createElement("rect",{id:"Rettangolo_1","data-name":"Rettangolo 1",width:7,height:3,transform:"translate(4 1)"}),D.createElement("path",{id:"Rettangolo_1_-_Contorno","data-name":"Rettangolo 1 - Contorno",d:"M1,1V2H6V1H1M0,0H7V3H0Z",transform:"translate(4 1)"}),D.createElement("rect",{id:"Rettangolo_6","data-name":"Rettangolo 6",width:13,height:1,transform:"translate(1 13)"}),D.createElement("path",{id:"Rettangolo_6_-_Contorno","data-name":"Rettangolo 6 - Contorno",d:"M0,0H13V1H0Z",transform:"translate(1 13)"}),D.createElement("path",{id:"Linea_7","data-name":"Linea 7",d:"M.5,4.5h-1v-5h1Z",transform:"translate(7.5 5.5)"}),D.createElement("rect",{id:"Rettangolo_8","data-name":"Rettangolo 8",width:3,height:2,transform:"translate(6 3)",fill:"#fff"}),D.createElement("path",{id:"Rettangolo_8_-_Contorno","data-name":"Rettangolo 8 - Contorno",d:"M0,0H3V2H0Z",transform:"translate(6 3)"}),D.createElement("path",{id:"Linea_8","data-name":"Linea 8",d:"M1.646,2.354l-2-2L.354-.354l2,2Z",transform:"translate(3.5 9.5)"}),D.createElement("path",{id:"Tracciato_5","data-name":"Tracciato 5",d:"M1.5,0A1.5,1.5,0,0,1,3,1.5H0A1.5,1.5,0,0,1,1.5,0Z",transform:"translate(6 11)",fill:"#fff"}),D.createElement("path",{id:"Tracciato_5_-_Contorno","data-name":"Tracciato 5 - Contorno",d:"M1.5,0A1.5,1.5,0,0,1,3,1.5H0A1.5,1.5,0,0,1,1.5,0Z",transform:"translate(6 11)"}),D.createElement("path",{id:"Linea_9","data-name":"Linea 9",d:"M.354,2.354l-.707-.707,2-2,.707.707Z",transform:"translate(9.5 9.5)"}));function Sr(e){return a(wl,v({},e))}function Ot(r){var n=r,{device:e}=n,t=N(n,["device"]);const i=_.useMemo(o=>{switch(e.profile.type){case A.ClientDeviceType.FDMPrinter:return Dt;case A.ClientDeviceType.MSLAPrinter:return Pr;case A.ClientDeviceType.CNC:return Nr;case A.ClientDeviceType.Laser:return Sr;default:return L.QuestionMarkCircledIcon}},[e==null?void 0:e.profile.type]);return a(i,v({},t))}var Cr={"corner-bl":"_corner-bl_1r540_1","corner-br":"_corner-br_1r540_2","tab-item":"_tab-item_1r540_43"},Rr=Ct;function Tt(r){var n=r,{href:e}=n,t=N(n,["href"]);const i=Rr.useRouter(),o=_.useMemo(l=>i.asPath.startsWith(e),[e,i.asPath]);return u("li",{className:C.default("relative","z-0 hover:z-20","flex items-center","text-sm leading-none","font-medium","rounded-t-lg","transition-all duration-300","group",{"z-30":o,"hover:bg-gray-800/40":!o,"bg-gray-800 text-gray-100":o},{active:o},Cr["tab-item"]),children:[a(it,{href:e,passHref:!0,children:a("a",{className:"w-full h-full flex flex-row items-center space-x-2 px-3 py-2.5",children:t.children})}),a("div",{className:C.default("text-gray-800",{"opacity-0 group-hover:opacity-40":!o},"transition-opacity duration-300",Cr["corner-bl"])}),a("div",{className:C.default("text-gray-800",{"opacity-0 group-hover:opacity-40":!o},"transition-opacity duration-300",Cr["corner-br"])})]})}function Yn(){const{plugins:e}=A.useAppContext();return u(Ua.Root,{className:"relative flex flex-row items-center h-11 dark:bg-gray-900 dark:text-gray-200",children:[a("div",{className:"w-[74px]"}),u("div",{className:"h-full flex-1 flex flex-row px-3 items-end",children:[u("ul",{className:"flex-1 flex flex-row items-end",children:[u(Tt,{href:"/workspace",children:[a(we.HomeIcon,{}),a("span",{className:"ml-2",children:"Workspace"})]}),e==null?void 0:e.map(t=>{if(!t.hasTabs)return;let r=we[t._fuse.icon];return u(Tt,{href:`/${t.url}`,children:[r&&a(r,{className:"mr-2"}),a("span",{children:t.displayTitle})]},`tab-${t.name}`)})]}),u("ul",{className:"flex flex-row items-end",children:[a(Tt,{href:"/marketplace",children:a(we.CubeIcon,{})}),a(Tt,{href:"/settings",children:a(we.GearIcon,{})})]})]})]})}function Pl(r){var n=r,{plugin:e}=n,t=N(n,["plugin"]);var o,l;function i(s,c){c?A.coreSocket.emit("plugins:activate",s,d=>{console.log("Activated:",d)}):A.coreSocket.emit("plugins:deactivate",s,d=>{console.log("Deactivated:",d)})}return u("li",{className:"flex flex-row items-stretch space-x-3 py-2",children:[a("div",{className:"w-10 h-10 bg-gray-700 bg-opacity-25 rounded-full overflow-hidden"}),u("div",{className:"flex flex-col flex-1",children:[u("div",{className:"flex flex-row space-x-2 items-center",children:[u("div",{className:"text-gray-50",children:[a("span",{className:"font-bold",children:((o=e.fuse)==null?void 0:o.title)||e.name}),e.author&&u("span",{className:"text-xs text-gray-600 ml-1",children:[a("span",{children:"by "}),a("span",{className:"text-xs text-gray-500 font-medium",children:e.author})]})]}),e.system&&a(Gt,{size:"sm",className:"bg-blue-600",children:"SYSTEM"}),((l=e.fuse)==null?void 0:l.type)=="driver"&&a(Gt,{size:"sm",className:"bg-amber-600 text-amber-50",children:"DRIVER"})]}),a("div",{className:"flex flex-row items-center space-x-3",children:a("div",{className:"text-xxs font-mono",children:u("span",{className:"rounded-[3px] bg-gray-800 px-1 py-0.5",children:[e.name,"@",e.version]})})})]}),e.settings&&a("div",{className:"w-20 flex items-center justify-center",children:a(it,{href:`/settings/plugins/${e.name}`,passHref:!0,children:a(X,{rounded:!0,squared:!0,size:"sm",children:a(L.GearIcon,{})})})}),a("div",{className:"flex items-center",children:a(ft,{defaultChecked:e.active,disabled:e.system,onCheckedChange:s=>i(e.name,s)})})]})}function Nl(r){var n=r,{plugins:e}=n,t=N(n,["plugins"]);return a(se,{title:"Installed plugins",children:a("ul",{className:"flex flex-col divide-y divide-gray-700",children:e==null?void 0:e.map((i,o)=>a(Pl,{plugin:i},`plugin-${o}`))})})}function Sl({port:e}){const t=_.useMemo(r=>{let n="Unknown device";return e.manufacturer?n=e.manufacturer:e.vendorId&&(n="VENDOR",e.productId&&(n=[n,"PRODUCT"].join(" "))),n},[e]);return u(Z.Item,{children:[u("div",{className:"flex-1 flex flex-col",children:[a("div",{className:"font-bold text-gray-200",children:t}),a("div",{className:"text-xs text-gray-400",children:e.path})]}),a("div",{className:"flex items-center",children:u(Ae,{children:[a(Ae.Trigger,{children:a(X,{squared:!0,children:a(L.InfoCircledIcon,{})})}),a(Ae.Content,{align:"end",side:"bottom",sideOffset:5,className:"min-w-[300px]",children:u(Z,{size:"compact",className:"px-1",children:[a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Manufacturer"}),a(R,{children:e.manufacturer||"-"})]})}),a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Serial number"}),a(R,{children:e.serialNumber||"-"})]})}),a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Vendor ID"}),a(R,{children:e.vendorId||"-"})]})}),a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Product ID"}),a(R,{children:e.productId||"-"})]})}),a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"Location ID"}),a(R,{children:e.locationId||"-"})]})}),a(Z.Item,{children:u(x,{className:"w-full justify-between",children:[a(R,{children:"PNP ID"}),a(R,{children:e.pnpId||"-"})]})})]})})]})})]})}function Cl(){const e=A.useSerialPorts();return a(se,{title:"Connected devices",children:a(Z,{children:e==null?void 0:e.map(t=>a(Sl,{port:t},t.path))})})}function Rl(r){var n=r,{className:e}=n,t=N(n,["className"]);return a("div",{className:C.default("relative","flex flex-col items-stretch justify-start","p-3","space-y-2","rounded-md","overflow-hidden","text-sm","text-gray-900 dark:text-gray-200","bg-gray-300 dark:bg-gray-900",e),children:t.children})}function El(){return a(Ut,{children:u(x,{orientation:"vertical",className:"items-center",children:[a(L.LightningBoltIcon,{className:"w-20 h-20 text-gray-700"}),a("span",{className:"font-bold text-gray-500",children:"Plugin not active"})]})})}function Il(t){var e=N(t,[]);return u(Ze,{className:"grid grid-cols-2 gap-3",children:[u(x,{children:[a(R,{htmlFor:"brand",children:"Brand"}),a(U,{id:"brand"})]}),u(x,{children:[a(R,{htmlFor:"model",children:"Model"}),a(U,{id:"model"})]}),u(x,{children:[a(R,{htmlFor:"form-factor",children:"Form factor"}),a(ce,{id:"form-factor",options:["rectangular","circular"]})]}),u(x,{children:[a(R,{htmlFor:"origin",children:"Origin"}),a(ce,{id:"origin",options:["lower-left","center"]})]}),u(x,{className:"col-span-2",children:[a(R,{htmlFor:"heated-bed",children:"Heated bed"}),a(ce,{id:"heated-bed",options:["yes","add-on"]})]}),u(x,{orientation:"vertical",children:[a(R,{children:"Printing volume"}),a(k,{}),u(x,{children:[a(R,{htmlFor:"width",children:"Width"}),a(U,{id:"width"})]}),u(x,{children:[a(R,{htmlFor:"height",children:"Height"}),a(U,{id:"height"})]}),u(x,{children:[a(R,{htmlFor:"depth",children:"Depth"}),a(U,{id:"depth"})]})]}),a("div",{className:"col-span-2",children:a(x,{className:"justify-end",children:a(X,{children:"Save"})})})]})}function Qn(r){var n=r,{text:e}=n,t=N(n,["text"]);return a("div",I(v({},t),{className:C.default("flex items-center justify-center",t.className),children:u("span",{className:"font-bold",children:[e,t.children]})}))}function $l({profile:e}){var t,r,n,i,o,l;return u(fe,{children:[a(q,{label:"X (Width)",value:e.volume.width}),a(q,{label:"Y (Depth)",value:e.volume.depth}),a(q,{label:"Z (Height)",value:e.volume.height}),a(q,{label:"Form factor",value:e.volume.formFactor}),a(q,{label:"Heated bed",value:(t=e.bed)!=null&&t.heated?"Yes":"No"}),a(q,{label:"Origin",value:e.volume.origin}),a(k,{}),a(q,{label:"GCode version",value:e.gCodeVersion}),a(k,{}),a(q,{label:"Feedrate max X",value:(r=e.xAxis)==null?void 0:r.maxSpeed}),a(q,{label:"Feedrate max Y",value:(n=e.yAxis)==null?void 0:n.maxSpeed}),a(q,{label:"Feedrate max Z",value:(i=e.zAxis)==null?void 0:i.maxSpeed}),a(k,{}),a(q,{label:"Extruders",value:((o=e.extruders)==null?void 0:o.length)||0}),(l=e.extruders)==null?void 0:l.map((s,c)=>u(x,{orientation:"vertical",children:[a(q,{label:"Nozzle diameter",value:s.nozzleDiameter}),a(q,{label:"X offset",value:s.xOffset}),a(q,{label:"Y offset",value:s.yOffset})]},`extruder-${c}`))]})}function Dl({profile:e}){return e?u(x,{orientation:"vertical",className:"text-sm",children:[u("div",{className:"flex flex-row items-center space-x-3 border-b border-gray-500 pb-2",children:[a("div",{className:"flex-none w-[40px] h-[40px] flex items-center justify-center rounded-md bg-gray-600 text-gray-800 p-2",children:a(Dt,{className:"w-full h-full"})}),u("div",{className:"flex-1 text-xl font-bold flex flex-col",children:[u("span",{className:"leading-1",children:[e.brand," ",e.model]}),a("span",{className:"text-sm text-gray-400",children:e.id})]}),a("div",{className:"flex-none",children:a(X,{squared:!0,children:a(L.Pencil2Icon,{})})})]}),a(q,{label:"Brand",value:e.brand}),a(q,{label:"Model",value:e.model}),a(q,{label:"Device type",value:e.type}),a(k,{}),e.type=="fdm_printer"&&a($l,{profile:e})]}):null}function Ol(){const[e,t]=_.useState();return a(se,{title:"Profiles",children:u("div",{className:"grid grid-cols-2 gap-2",children:[a(fn,{className:"h-[400px]",onSelect:(r,n)=>t(n)}),a("div",{className:"flex-1",children:a(Dl,{profile:e})})]})})}function Tl(t){var e=N(t,[]);return a(zt,v({options:[{label:"/dev/susb.001",value:"/dev/susb.001"},{label:"/dev/susb.002",value:"/dev/susb.002"}]},e))}function Ml(){const{device:e}=A.useDeviceContext();return u(se,{title:"Connection",children:[u("div",{className:"grid grid-cols-2 gap-3",children:[u(Ze,{initialValues:e,children:[u(x,{orientation:"vertical",children:[a(R,{htmlFor:"serial-port",children:"Serial port"}),a(Tl,{name:"port",id:"serial-port"})]}),u(x,{orientation:"vertical",children:[a(R,{htmlFor:"baud-rate",children:"Baud rate"}),a(un,{name:"baudrate",id:"baud-rate"})]})]}),a("div",{}),u(x,{className:"grid grid-cols-2",children:[a(X,{children:"Test connection"}),a(X,{children:"Save"})]})]}),a(k,{}),a("div",{children:u(x,{className:"justify-between",children:[a(R,{htmlFor:"auto-connect",children:"Automatically connect on startup"}),a(ft,{id:"auto-connect"})]})})]})}function Mt(e){return u("div",{className:"flex flex-col",children:[a(Yn,{}),a("div",{className:"flex-1 overflow-hidden",children:e.children})]})}function Ll(e){return a(Mt,{children:a(Ce,{className:"flex-1 h-full",children:a("div",{className:"flex flex-col space-y-2",children:e.children})})})}function Jn(e){return a("div",{className:"h-10 flex flex-row space-x-2 items-center text-gray-50 font-medium text-sm mx-1.5 px-1.5 py-2 border-b border-gray-700",children:e.children})}function Al(){const{activePlugins:e}=A.useAppContext(),{device:t}=A.useDeviceContext();return a("div",{className:"flex-none dark:bg-gray-900 dark:text-gray-200 rounded-lg m-2 mr-0 w-20 flex flex-col items-center justify-center",children:u(jl,{children:[a(ye,{content:"Dashboard",side:"right",sideOffset:10,children:a(Er,{icon:we.DashboardIcon,href:`/workspace/devices/${t.id}/`})}),e==null?void 0:e.map(r=>{var o;if(!((o=r.deviceTypes)!=null&&o.includes(t.profile.type))||!r.hasPages)return;let n=we[r._fuse.icon]||we.QuestionMarkIcon,i=`/workspace/devices/${t.id}/`+r.url;return a(ye,{content:r._fuse.tooltip||r.title||r.name,side:"right",sideOffset:10,children:a(Er,{icon:n,href:i})},r.name)})]})})}function jl(e){return a("ul",{className:"flex flex-col space-y-10 rounded-md",children:e.children})}const Er=W.default.forwardRef((o,i)=>{var l=o,{icon:e,iconClassName:t,href:r}=l,n=N(l,["icon","iconClassName","href"]);const s=u(fe,{children:[e&&a(e,{className:C.default("w-5 h-5",t)}),n.children]});return a("li",I(v({ref:i,className:"flex items-center justify-center"},n),{children:r?a(it,{href:r,children:a("a",{className:"dark:hover:bg-gray-700 hover:bg-opacity-10 p-3 rounded-md transition-colors duration-150",children:s})}):s}))});Er.displayName="SidebarMenuItem";const ea=W.default.forwardRef((i,n)=>{var o=i,{device:e,open:t}=o,r=N(o,["device","open"]);return u("div",I(v({ref:n},r),{className:C.default("relative","group","cursor-pointer","select-none","flex flex-row space-x-2 items-center","rounded-sm","ring-[3px]",{"bg-transparent ring-transparent":!t,"hover:ring-gray-700 hover:bg-gray-700":!t,"bg-gray-700 ring-gray-700":t},"pl-[3px] ml-[-3px]","transition-all duration-300"),children:[a(Ot,{device:e}),a("span",{children:e.name}),a("span",{className:"text-gray-500",children:"\u2022"}),u("span",{className:"text-xxs text-gray-500",children:[e.profile.brand," ",e.profile.model]}),a("div",{className:C.default("absolute right-0","bg-gray-700","pl-1",{"opacity-0 group-hover:opacity-100 duration-300":!t}),children:a(L.CaretDownIcon,{})})]}))});ea.displayName="DevicePickerTrigger";function kl({devices:e}){const t=Rr.useRouter(),{device:r}=A.useDeviceContext(),[n,i]=_.useState(!1),o=_.useRef(),[l,s]=_.useState("auto");_.useEffect(d=>{s(o.current.offsetWidth+3+3)},[n]);function c(d){i(!1),t.push(`/workspace/devices/${d.id}`)}return u(Te.Root,{open:n,onOpenChange:i,children:[a(Te.Trigger,{asChild:!0,children:a(ea,{device:r,open:n,ref:o})}),a(Te.Content,{className:C.default("w-full","flex flex-col items-start","bg-gray-300 dark:bg-gray-700","shadow-md shadow-gray-900","p-1","focus:outline-none","rounded-md"),style:{minWidth:l},sideOffset:6,align:"start",alignOffset:-3,children:e==null?void 0:e.map(d=>u("li",{className:C.default("cursor-pointer select-none","flex flex-row space-x-1 items-center","text-sm font-medium","py-0.5 px-1","w-full","rounded-[4px]","transition-colors duration-75","cursor-default","text-gray-800 dark:text-gray-300","hover:text-gray-50 hover:bg-blue-600","group","flex-nowrap truncate"),onClick:f=>c(d),children:[a(Ot,{device:d}),a("span",{children:d.name}),a("span",{className:"text-gray-500 group-hover:text-gray-300",children:"\u2022"}),u("span",{className:"text-xxs text-gray-500 group-hover:text-gray-300 truncate flex-1",children:[d.profile.brand," ",d.profile.model]}),a(k,{orientation:"vertical",className:"!border-gray-500 pl-2"}),a("div",{className:"pl-1",children:a($t,{device:d})})]},`device-${d.id}`))})]})}function Fl(){const{device:e}=A.useDeviceContext(),[t,r]=_.useState(),[n,i]=_.useState();function o(){r(!0)}function l(){i(!0)}function s(){A.coreSocket.emit("devices:remove",e.id,c=>{console.log("Removed device")})}return u(fe,{children:[a(Re,{items:[{label:"Disconnect",icon:L.LinkBreak2Icon},"-",{label:"Edit",icon:L.Pencil1Icon,action:o},{label:"Remove",icon:L.TrashIcon,action:l}],children:a(X,{size:"sm",mode:"ghost",squared:!0,children:a(L.DotsHorizontalIcon,{})})}),a(Ne,{content:a(Xt,{device:e}),open:t,onOpenChange:r}),a(Se,{open:n,onOpenChange:i,title:"Remove device?",content:u("span",{children:["Are you sure you want to remove ",a("strong",{children:e.name})," ?"]}),onConfirm:s})]})}const ta=W.default.createContext();function ra(){const e=W.default.useContext(ta);if(!e)throw new Error("useDeviceStatusListContext can only be used inside DeviceStatusListProvider");return e}function Hl(e){const[t,r]=_.useState([]);function n(o,l){let s=v({id:Date.now(),message:o,date:Date.now(),type:"normal"},l);return r(c=>[...c,s]),s}function i(o){r(l=>l.filter(s=>s.id!=o))}return a(ta.Provider,{value:{statusList:t,addStatus:n,removeStatus:i},children:e.children})}function Ul(){const{statusList:e}=ra();return e.length?a("div",{className:"flex flex-1",children:a(zl,{status:e[0]})}):null}function zl(r){var n=r,{status:e}=n,t=N(n,["status"]);let i=_.useMemo(o=>{if(e.icon)return e.icon;switch(e.type){case"error":return L.CrossCircledIcon;case"warning":return L.ExclamationTriangleIcon;case"success":return L.CheckCircledIcon;default:return L.InfoCircledIcon}},[e]);return u("div",{className:"flex-1 flex flex-row space-x-1.5 items-center",children:[a(i,{className:C.default("w-3 h-3",{"text-red-300":e.type=="error","text-orange-400":e.type=="warning","text-green-400":e.type=="success","text-blue-400":e.type=="normal"})}),a("span",{className:C.default({"text-red-400":e.type=="error","text-orange-200":e.type=="warning","text-green-200":e.type=="success","text-gray-300":e.type=="normal"}),children:e.message})]})}var Wl=Array.isArray,Ir=Wl,ql=typeof dt=="object"&&dt&&dt.Object===Object&&dt,Vl=ql,Bl=Vl,Gl=typeof self=="object"&&self&&self.Object===Object&&self,Xl=Bl||Gl||Function("return this")(),$r=Xl,Kl=$r,Zl=Kl.Symbol,Dr=Zl,na=Dr,aa=Object.prototype,Yl=aa.hasOwnProperty,Ql=aa.toString,ot=na?na.toStringTag:void 0;function Jl(e){var t=Yl.call(e,ot),r=e[ot];try{e[ot]=void 0;var n=!0}catch{}var i=Ql.call(e);return n&&(t?e[ot]=r:delete e[ot]),i}var es=Jl,ts=Object.prototype,rs=ts.toString;function ns(e){return rs.call(e)}var as=ns,ia=Dr,is=es,os=as,ls="[object Null]",ss="[object Undefined]",oa=ia?ia.toStringTag:void 0;function cs(e){return e==null?e===void 0?ss:ls:oa&&oa in Object(e)?is(e):os(e)}var la=cs;function ds(e){return e!=null&&typeof e=="object"}var us=ds,fs=la,hs=us,ms="[object Symbol]";function ps(e){return typeof e=="symbol"||hs(e)&&fs(e)==ms}var Or=ps,gs=Ir,vs=Or,ys=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_s=/^\w*$/;function xs(e,t){if(gs(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vs(e)?!0:_s.test(e)||!ys.test(e)||t!=null&&e in Object(t)}var bs=xs;function ws(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sa=ws,Ps=la,Ns=sa,Ss="[object AsyncFunction]",Cs="[object Function]",Rs="[object GeneratorFunction]",Es="[object Proxy]";function Is(e){if(!Ns(e))return!1;var t=Ps(e);return t==Cs||t==Rs||t==Ss||t==Es}var $s=Is,Ds=$r,Os=Ds["__core-js_shared__"],Ts=Os,Tr=Ts,ca=function(){var e=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ms(e){return!!ca&&ca in e}var Ls=Ms,As=Function.prototype,js=As.toString;function ks(e){if(e!=null){try{return js.call(e)}catch{}try{return e+""}catch{}}return""}var Fs=ks,Hs=$s,Us=Ls,zs=sa,Ws=Fs,qs=/[\\^$.*+?()[\]{}|]/g,Vs=/^\[object .+?Constructor\]$/,Bs=Function.prototype,Gs=Object.prototype,Xs=Bs.toString,Ks=Gs.hasOwnProperty,Zs=RegExp("^"+Xs.call(Ks).replace(qs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ys(e){if(!zs(e)||Us(e))return!1;var t=Hs(e)?Zs:Vs;return t.test(Ws(e))}var Qs=Ys;function Js(e,t){return e==null?void 0:e[t]}var ec=Js,tc=Qs,rc=ec;function nc(e,t){var r=rc(e,t);return tc(r)?r:void 0}var da=nc,ac=da,ic=ac(Object,"create"),Lt=ic,ua=Lt;function oc(){this.__data__=ua?ua(null):{},this.size=0}var lc=oc;function sc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cc=sc,dc=Lt,uc="__lodash_hash_undefined__",fc=Object.prototype,hc=fc.hasOwnProperty;function mc(e){var t=this.__data__;if(dc){var r=t[e];return r===uc?void 0:r}return hc.call(t,e)?t[e]:void 0}var pc=mc,gc=Lt,vc=Object.prototype,yc=vc.hasOwnProperty;function _c(e){var t=this.__data__;return gc?t[e]!==void 0:yc.call(t,e)}var xc=_c,bc=Lt,wc="__lodash_hash_undefined__";function Pc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bc&&t===void 0?wc:t,this}var Nc=Pc,Sc=lc,Cc=cc,Rc=pc,Ec=xc,Ic=Nc;function Ve(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ve.prototype.clear=Sc,Ve.prototype.delete=Cc,Ve.prototype.get=Rc,Ve.prototype.has=Ec,Ve.prototype.set=Ic;var $c=Ve;function Dc(){this.__data__=[],this.size=0}var Oc=Dc;function Tc(e,t){return e===t||e!==e&&t!==t}var Mc=Tc,Lc=Mc;function Ac(e,t){for(var r=e.length;r--;)if(Lc(e[r][0],t))return r;return-1}var At=Ac,jc=At,kc=Array.prototype,Fc=kc.splice;function Hc(e){var t=this.__data__,r=jc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fc.call(t,r,1),--this.size,!0}var Uc=Hc,zc=At;function Wc(e){var t=this.__data__,r=zc(t,e);return r<0?void 0:t[r][1]}var qc=Wc,Vc=At;function Bc(e){return Vc(this.__data__,e)>-1}var Gc=Bc,Xc=At;function Kc(e,t){var r=this.__data__,n=Xc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Zc=Kc,Yc=Oc,Qc=Uc,Jc=qc,ed=Gc,td=Zc;function Be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Be.prototype.clear=Yc,Be.prototype.delete=Qc,Be.prototype.get=Jc,Be.prototype.has=ed,Be.prototype.set=td;var rd=Be,nd=da,ad=$r,id=nd(ad,"Map"),od=id,fa=$c,ld=rd,sd=od;function cd(){this.size=0,this.__data__={hash:new fa,map:new(sd||ld),string:new fa}}var dd=cd;function ud(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fd=ud,hd=fd;function md(e,t){var r=e.__data__;return hd(t)?r[typeof t=="string"?"string":"hash"]:r.map}var jt=md,pd=jt;function gd(e){var t=pd(this,e).delete(e);return this.size-=t?1:0,t}var vd=gd,yd=jt;function _d(e){return yd(this,e).get(e)}var xd=_d,bd=jt;function wd(e){return bd(this,e).has(e)}var Pd=wd,Nd=jt;function Sd(e,t){var r=Nd(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Cd=Sd,Rd=dd,Ed=vd,Id=xd,$d=Pd,Dd=Cd;function Ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ge.prototype.clear=Rd,Ge.prototype.delete=Ed,Ge.prototype.get=Id,Ge.prototype.has=$d,Ge.prototype.set=Dd;var Od=Ge,ha=Od,Td="Expected a function";function Mr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Td);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(Mr.Cache||ha),r}Mr.Cache=ha;var Md=Mr,Ld=Md,Ad=500;function jd(e){var t=Ld(e,function(n){return r.size===Ad&&r.clear(),n}),r=t.cache;return t}var kd=jd,Fd=kd,Hd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ud=/\\(\\)?/g,zd=Fd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hd,function(r,n,i,o){t.push(i?o.replace(Ud,"$1"):n||r)}),t}),Wd=zd;function qd(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Vd=qd,ma=Dr,Bd=Vd,Gd=Ir,Xd=Or,Kd=1/0,pa=ma?ma.prototype:void 0,ga=pa?pa.toString:void 0;function va(e){if(typeof e=="string")return e;if(Gd(e))return Bd(e,va)+"";if(Xd(e))return ga?ga.call(e):"";var t=e+"";return t=="0"&&1/e==-Kd?"-0":t}var Zd=va,Yd=Zd;function Qd(e){return e==null?"":Yd(e)}var Jd=Qd,eu=Ir,tu=bs,ru=Wd,nu=Jd;function au(e,t){return eu(e)?e:tu(e,t)?[e]:ru(nu(e))}var iu=au,ou=Or,lu=1/0;function su(e){if(typeof e=="string"||ou(e))return e;var t=e+"";return t=="0"&&1/e==-lu?"-0":t}var cu=su,du=iu,uu=cu;function fu(e,t){t=du(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[uu(t[r++])];return r&&r==n?e:void 0}var hu=fu,mu=hu;function pu(e,t,r){var n=e==null?void 0:mu(e,t);return n===void 0?r:n}var gu=pu;function ya(e,t){return _.useMemo(r=>{var n;return(n=e==null?void 0:e.plugins)==null?void 0:n.map(i=>{if(typeof i.deviceComponents=="function"){let o=i.deviceComponents(e);return gu(o,t,!1)}}).filter(Boolean)},[e,t])}function vu(){const{devices:e}=A.useAppContext(),{device:t}=A.useDeviceContext(),r=ya(t,"page.topBar");return u(Jn,{children:[a(kl,{devices:e}),a("div",{className:"w-px h-full bg-gray-600"}),a("div",{className:"flex-1 text-xxs font-bold text-gray-400",children:a(Ul,{})}),(r==null?void 0:r.length)>0&&a(k,{orientation:"vertical"}),r==null?void 0:r.map(n=>a(n,{},`device-plg-comp-${Xe.generateUniqueID()}`)),a(k,{orientation:"vertical"}),a("div",{children:a($t,{device:t})}),a(k,{orientation:"vertical"}),a("div",{className:"relative",children:a(Fl,{})})]})}function kt(r){var n=r,{device:e}=n,t=N(n,["device"]);if(!e)throw new Error("DevicePage requires a device");return a(Mt,{children:a(A.DeviceProvider,{device:e,children:a(Hl,{children:u("div",{className:"w-full h-full flex flex-col",children:[a(vu,{device:e}),u("div",{className:"flex-1 flex flex-row overflow-hidden",children:[a(Al,{}),a(Ce,{className:"flex-1",children:a("div",{className:"p-2 pr-3 flex flex-col space-y-3",children:t.children})})]})]})})})})}function _a(r){var n=r,{children:e}=n,t=N(n,["children"]);return a(kt,I(v({},t),{children:e}))}function xa(r){var n=r,{children:e}=n,t=N(n,["children"]);return a(kt,I(v({},t),{children:e}))}function Lr(r){var n=r,{href:e}=n,t=N(n,["href"]);const i=Rr.useRouter(),o=_.useMemo(l=>i.pathname.startsWith(e),[e,i.pathname]);return a("li",{className:C.default("rounded-md text-sm font-medium","transition-colors duration-150",{"hover:bg-gray-800 hover:bg-opacity-40":!o,"bg-blue-600":o}),children:e?a(it,{href:e,passHref:!0,children:a("a",{className:"block px-2 py-1 w-full h-full",children:t.children})}):t.children})}function yu(e){return a(Mt,{children:u("div",{className:"flex-1 h-full flex flex-row",children:[u("div",{className:"flex-none py-2 pl-2",children:[a("div",{className:C.default("dark:bg-gray-900 dark:text-gray-200","w-44","rounded-lg","flex flex-col","py-2"),children:u("ul",{className:"px-2 flex flex-col space-y-1",children:[a(Lr,{href:"/settings/general",children:"General"}),a(Lr,{href:"/settings/devices",children:"Devices"}),a(Lr,{href:"/settings/plugins",children:"Plugins"})]})}),a("div",{className:"text-xs font-bold text-center py-1 text-gray-600",children:"v. 0.1"})]}),a(Ce,{className:"flex-1 max-w-screen-lg",children:a("div",{className:"p-2 flex flex-col space-y-3",children:e.children})})]})})}function _u(e){switch(e){case"fdm_printer":return _a;case"cnc":return xa;default:return kt}}m.AddDeviceWizard=Ri,m.AppLoader=Ei,m.Badge=Gt,m.BlockingView=Ut,m.Button=X,m.CNCDevicePage=xa,m.CNCIcon=Nr,m.Checkbox=rn,m.CheckboxRaw=tn,m.CompactList=Ye,m.ConfirmDialog=Se,m.ContextMenu=dn,m.DeviceCard=Zn,m.DeviceConnectionStatus=$t,m.DeviceConnectionWidget=Ml,m.DeviceForm=Xt,m.DevicePage=kt,m.DevicePluginsSettingsWidget=vl,m.DeviceProfilesWidget=Ol,m.DeviceTypeIcon=Ot,m.DevicesGrid=yl,m.Dialog=Ne,m.DisplayGroup=q,m.DisplayLabel=Jr,m.DisplayValue=en,m.DropdownMenu=Re,m.EmptyView=Qn,m.FDMPrinterIcon=Dt,m.Form=Ze,m.Group=x,m.InactivePluginView=El,m.Input=U,m.InputRaw=Le,m.Label=R,m.LaserIcon=Sr,m.List=Z,m.Loader=Wt,m.MSLAPrinterIcon=Pr,m.MainLayout=Mt,m.Navbar=Yn,m.Page=Ll,m.PageTopBar=Jn,m.PluginsList=Nl,m.Popover=Ae,m.PrinterDevicePage=_a,m.PrinterProfileForm=Il,m.Progress=nn,m.ScrollArea=Ce,m.Select=ce,m.SelectRaw=zt,m.Separator=k,m.SerialPortListWidget=Cl,m.SettingPage=yu,m.SettingsWidget=Rl,m.Slider=ei,m.Switch=ti,m.SwitchRaw=ft,m.Table=_e,m.ToggleGroup=Pe,m.Tooltip=ye,m.Widget=se,m.getDevicePageComponent=_u,m.useDeviceComponents=ya,m.useDeviceStatusListContext=ra,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
